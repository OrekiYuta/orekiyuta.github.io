<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Markdown Attach Base64 Pic</title>
      <link href="/archives/markdownAttachBase64Pic/"/>
      <url>/archives/markdownAttachBase64Pic/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>在 markdown 做笔记的时候插入图片，不使用外部链接的方式插入图片</li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>直接把图片转成base64编码后直接插入即可</li></ul><a id="more"></a><p>格式如下<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![image](base64)</span><br></pre></td></tr></table></figure></div></p><p><img src="data:image/png;base64,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" alt="elias"></p><hr><ul><li>base64编码比较长，影响阅读，可以用以下方将base64编码置于最后</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![image][image id]</span><br><span class="line">you can write your document here </span><br><span class="line">[image id]:your image&apos;s base64</span><br></pre></td></tr></table></figure></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARsAAADxCAYAAAD7hRNxAAAgAElEQVR4nOxdB3gU1dp+Z2d7Se8JIUAg9CLVQlVBUYqKCojYC6igF8ReUNCrKIr6CyoKCjb0iqICIkhH6b0TCKS3Tbb3mf/5TvbEJZSLKN6A8z7PQHZndsqZOe98/YMCBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoUKFCgQIECBQoU/DVY8tn0lBv6dOkVpdc2OXAoF26XE7bqanz5+WdQqQSowkdRq0WotWqIAmDUa5EQZ2HfX9WrA1pkZ7G/E/Q6XNfAgisA3Ggxw370GGRZxmuTJrH1QnjhuGHw1Wz9X7H079+f7TU5ORnx8fFQq9WASgWDquYKZn3wAXbs2AFBENCoUSM0btz4nC78GJ07d0ZSUlLtNdPx27Rpg24XX4xGmZmIMhqh0+uRk5PDvqffWSwWthBGjx7Nru+2226r3UdcXBzbb6dOndChQwe0bdsWHTt2ZL9t1qwZYmJiMG3aNPa7O+66CzqVCn63u3acg8EgAoHACQut++STT6APn096ejo7VmJi4imX1NRUGAyGE57FqKgoZGRkIDMzk30eNWpU7fF79uxZu11idBSaZaRCpVIj2qKD0aiDRqNl6/RaNZLjo6ERVUhPiEGzJplIT09hz+SYO0ec9LkJhUJIz8io3f+y5cvZ93369Kn9LvJc+PLiiy+ydfSM1B1vjvvvv692+0ZZjdi3hfl57PPS7+Yjhp7p9KSk8a3aWca1bVtvGEpdD86BIS+v5KJLL+k+JqNF66o335g0LEavht0FrF65hq2nGyv9z89SgYL6iaAks/MyW6JRDaB9p9ZTtNWeZYePHptbX6ZOvSGbrxZ81+XWoTf2e+TF1zBj2viU8Q+/fqsLKACTZlRAeDAVKFDwOzQaDfv7zhtvRMtLe8FWnGueNKLvoqdG33fZvBkzWh08UJ0PYHl9GDLVGWzzt2B77v49Ow7s3ge5FPePndTr80/f2K0C+tKxJUk+Tu1RoOCfDFKBOTjZLNuwCW+/8Vrbi7Pidz1238jLinbuQDAopZij41vWl6GqN2RTVu6Zt2bLrpf95WUAqjHgxqFRi+a89VPj9ISJRDaBenCOChTUBxiNptqzKKusYv/363Xxw7/9Z/bWG3v0arh2+UZU2Sphq6gugM+zt77ctHpDNoTfftvxyYi7HpkDpwcQZfQdOggLv3j32Q5NM9/h20SyugIF/0QsW/IDhg69GUNuHo5oo6b9G5MeX/fJtKffUIfsqk27diCzaTaW/LoXy5ZvvlMIuH+pL0NUr8iG8NUPy0Y+9sgzq6ASAb8POV074fv/zHygb7c2H9P6QCCoEI6CfzS27dyPL7+cp1r103ejfvnmw2X3DR948Ya161FaUII2bVvjw1mzMWv+soHjfliy54HvVtSboap3ZEN4feanvV586MlfmP1aEJHetCkWfz9v5F03XUssLQZ8ilKl4B8LfXZ2xsMLv31vf+GBze+WFuXH/fzdfJi1UWjcOBtvT5/lm7161+Bhj4z7/uK+V6LJRZ3qzTjVG7LRRCwhQH72nQ8vf/LR59fADwRDAcgmLWZ+Oaf3m689u55CPEIyqVR1AmYUKDjPQbEyBB4TRbFGHEkJcWPenvbMoQO7Vrxx9aCrs9f+8guOHj6ElLQ0tMpMwYL53wZmLFje4/NFS797Yupr9W4g6g3ZqCIWglYl4LV3P+n+1Ngn1qoFHfw+H9zVxRg7bkLHBV99sNNiVF/i8vgBxSOu4DyFSnXi9BNFkf2/ZfNmFBUVY8OmrRCBoePH3r1r37al0x4c82x6dXEZfpj5GXx+H9q0bg1BUOOx1949NnfJ+j4HSko3dO95Wb0ckHpDNr6IhUDObqPJgJdmfnbZuAcn7BO9ARhFFWwlBzFgyIi0LRt+WNumddP7KqwOtj2/SQoUnC8wGo0nnGlmw4bs//7XXIP09LQrOrVttuHAhmWfT3lzeqvYeDN2LP8SWzZsRIsWOUhu0ACff7PYOfLRl6fMWrKueavOF69JjIgSr2+oN0F9WUkJx31WaXUQDRYYndVYsWpVr6mvx26+5+4R6ebEGNhL9yC7VQds/m3RjDGPTIyb8cGclysrrSyVQYGC8wFkApg3bx47U0rxMBiMcDq9mPjCZLIkXNnlola33X/viJvuuO8uFgBceehX5OUdgYAQmmY3xorftmPG7K9mbdi4/ekQUARmhgjV6yuvN2SjN/2e16IWRSTERDP9VYxNRXJcbOmWHbu6vPX+7B03Xdc/PrtZU7grrDBGaTH9/Y9fymiQ0uDz2R+NLq+u34OtQEEkjh49iilTptR+0+uyjk92aJRyx7/H3Z19w203AjozqkuOQFCp4HC5kRiXDLvbhUmvf7Dtg88WjAGwumFyMqrdDtgcbhb8Wp9Rb8hm35H8U66zGHW4okvrovc+mNtk2+Ytux4YdWdG+w7tIMsxkIWdeOqZp0Zd2qVDVu+rht8NoEhUjMYKzi/kTHn9uQ/H/2vUpfD6mdPD5bDBXVYMUSVCI4cgilps3LzdOW3GrNmrNu54iK4uJtoClfC7Ubm+o166vhE+Mc4ZDreva0HB0es7ts65rm37tq5tW7bhs/en49De7QhBgL0sD7369b168fxPticnJWeVenxQK4xzVqAsdQqBJ+Nl5EPMstfpAY+JOY+upv6CD21SjPmerWu+2z7+X89fKrkc8HrsqKwqg8fjYbqWxRAF+L3YsnM7Xvj3tJVENNFmPYwGHdMAtBo1xLChWVXP48/qjWRTF3LNoh0z+s4vBg265rrMZCM0cTqkGNOx9ddNOHJwD5w2H1SywFJagxX56Df41oTNOVmbr+xzw8A9eeVr0xlhKaRzJuCBkg6HY5jH47nE6/XmybK8MRgMbgbg8vl8qKiowPr162v3Rr8hEqJyCrScDKf6/p+GhIQamySVSwlDN+iqXu++M3XSnRkN0rF/449wBUKIiY5Gw5QU+DRBSLIEj9OBL+ctQlSsEc89OfryOx56pq9Wq1uiV9XkDDq8HvgCQbbHSDd5fUS9Jhsqy/HMhPuvS2jYHAs/n43CikK0zm6N9MwGaNG+LfIPH8G6ZaugNegQDIZQfOATdGrTIm75+1PWPPjI4zdvzy2Z1w4SdNqauiR0IxWcCCINURR7hfz+Cfn5+VdTXRiK82jYsCGRSZnH4ylZuXJl1cUXX1xx6NChaq1WW+L3+w96vd4im81WqdVq92g0Gi9JQ1qtttalS0TD40WiY2Lgk/65RUJ27tyJtq1bo6SM5TL1n/bmxLdHDRncuNptx84tm0HhHS6XB4XFFdi59yA6dWiJ9MZNsOTneZj76XyMHX07runTXT/yliH/efu9T2Pp/Vr3GIvWrMHs2bPRoEGD/8k1/jfUV7IxdLmo5bRLOrcZ+OYrU+GotsNaUYluHToi7fIMJKQlQvKHkNowCWptEFVVNni9MuIT0mCttKFlTmN88sKjX979wDNtDlS7nhG1evgDARw4dEiRcyJAahIRsUavf8rhdk+iYlZEPG63G0VFRcw1m5iYmJSRkZHk9XpRVVWFLl26sKJX9JkWl8sFu91eEAqFtqvV6lytVrvd5XJt1ev1xwRBqLLb7dJvv/2GxQsXolFGBjQnKXB1oYOod8Tw4Zg+4wOkxRgn/9+iT57scdXNKNm3Fr5QCFktmkIjatBEVMHj8+Fw3mEs+fFnmPVrkd20CR56YCRyGiahrKgUj98z0rxq2Zrp2w8dvYfUJ71GA7evJmCkoLgYd9xxR70dzfpKNsH2LZr3f+ONV5K/mPURnNU2pKX0QNOcZkjPSIM3FIAv4IOoUSO9USOkZMnQQgNjdDSkUBD2gjxEdU7A+7OnPf3KpDc7XdSsyVNHZWyxWStBMs7/OtmBV1n7O1HXBkN/E5nY7fb38/Pz7wkEg8xWQ2qRJEmMUKqrq9mSn5/PJBSqlkfxTCS9kMjOr8Pv92e43e4MkmSo0l54ndVoNFa98MILR6qqqvb6fL7tHVq3WbJj8+Z8qggYn5CAuMTE88a4+UdRIy3WSHhheW5Eosb7+DuvTW6V3r4tKgq2QR8TA4Oggt/nh0/wM2NwwOVEqskMd2YqfvttM/ILCmDQa2FUS1AXFqBt4yZ479Un7+51y5hfvB7f5watlnTc2uqT9Xk06yvZBN7/9Juh198wYPX1ox9F9dGdNeJ4SERleTFUGg0sUVGQhRqbjMvugEfwwm31sCGX4hMRgoTY/n3xQpfOV+Xffu9VO5ZsmABgSjB8Q/5XEg4Z9bgdgyb3uU4qpclMRBMMBjOCwWAixT9SPJlGo3GUlZU9UVhYeCMRhE6nY0RC50a/CatW7DNJMMeOHUNJSQkrE0plOMlQTOv9fj/bNjo6+riI2FAoFCdJUpzdbm8iiuIVap0O5eVlvkGXXnpNkc+37PEHH8TEt99mxHYhgsbk2FFW+y1n0JWXvT3xqXFXtut5GSRHNSrzj7D1wcDvBB+SJERHmeEXJOw6kge1Bujd+1Ls2XcElVVVkNQmBCHhsxWbEJcYg9F33fDZ19/+0qy6vHpSTYZPDU72NNUXAqq3NhuosGb6xOcmprsqnrMlxOLXdeuxf+chVJUXIzo2DtktWyAhIQZxMRY0atYU/oAMITyqos8DvyyjtKwc8UlJmPXjfPSZ9v6rE1+fPjK3uOwVAHP/Vzegqrqa1ecllJaW1hY/OpeQZTknFAptTE9Pt6SkpDCJhsgjLy+PEQR9JoLxhcVx+o4mAP+fe6JI2iEvSWFhIVOpiHhiY2MZURHp0PpIcBKKi42FSwKitdCZvI6leT409+i0+xEmQyKtuqH7dE71nYikU9gBP/3sM6xaux6tmzV+6cl/3Tdu2B03a6HVo6ooHyEpyBhBJaiY2/rI0UJkpqdAK6mxZdWvaNasMTpc1JbZbxxOJ6KS4hFjioYlLhEqgxqd7W447NW4/b5b8OozoedzOvattBcceed8kA/rDdnEN0o57nMl3RG3Z2nLN1587ps2XfGLxgJDIAizRgOfw4nflq9E08wsGE06JKekIDopCU6bPSwpCOz1DUmCtaQIFpMFt469H63bNmv9yedfzbE6vEPmfL34Nhmw/d3XSbYQk8mEu+6+Gx/OnPl3HTY9ISHBQh4RmtQkoVRWVjJ1iBMFSTc06UkFiiQarlLROv49jTHZamw2G1tI0iFSIeKg/XBwNYv2QS8Cl86ERilJ0Nvy1hZXWJsS956KbImI63spkXizEes3b8Fnn3+Bli1aMBnitw0bMeq+exv1ubjDZzs2L+kmmFPgLMuF21cEURBrvaM0LlqdFnqDGWvXbYIYCODXlb+hoLAAF13cGanJ8Wjbvi2aUcFyWYDs9cHtdEEv+BHUaVBWUIGA1QZVwOFRs1zCU5+nu55wdr0hm1FxUcd9tvlDSNfqigWLH40MUWiR1RzGoA+hYIDdLp/Xi9ziQnRs2x7uShuSM9Ihmc3w+byQgqHaB1WECKfLBX/Ai9YdW2FcvAFmrX7QQw+O3nTVDbcPrKy07hX/xjQH/raePGnS30k2NjouTWySaPbv38/+JrJxOp210k2kFEPqE0k6POeMSITH39DftB2RJkk6JCFRFwMuNRF5MYKJIAutIMMqaGDTmnF5bGz8N99880HHDu2HXHbJJTh85AjrwoCwNETHof1SV4j6LN1kJsViy6aN+Gn4sMivuz/78B1fT3xpIun9KC/YAeoNQkQTCUbM/gCaZ2dCG/Rh5YrVOFhaiIAchNdlx89Ld2DJkl9Yx4oePS+B0+HG5vXbYHWUs7QcV5ULP2/YsF4KVM7JSdJBPM1M3lHkO/XKvxH1hmwO5+ce91kly9gZQm5cTtrSPmbDFR5rJaDXQE1tMohMaBJIIRw8nAvJ70Hu0UO4uGcPaDUaiAY9vF4fQqGaB16ktiEBGR5JQGxSJqxllejU86Lsdcvnb7h+6G3XFZeWL/27rpOrC9TqZeXKlce1EzmHOArA43A4DAcPHgR3UZPXiSY2b9dCE5tIhp8jNyrTGNLffB0RTdgwzH5Pi8PhYMRFUg6RzglSDgRYRBkHggJubNgQ/n37b3jk4Yf7z/rkk4VHDx/GunXrjrv6Vq1aMeKifdZXUHxLXGwMyt0V7AxNWvWzUyc//swNvbqqNy9fiZQGSYhNTYUnGKD2B+FxAFSiGjq1CJ0gofjAQZTkHoBRlqHXa+CHgNTEeORkZOBYSSkKC47h07kFsDn90Bij0U4N9A4U4N3NewKbdhb2So03+H2SDMlX//2s9YZsEu8df9xnejh1wRA2rv55WPTW7ZsSmrdpeMguwQCptp+P3+PBIWsVmuU0w09LV2PHtr1ont0EDVq0QJMmWay0qM/nh0pUQafVIxgQ4A1JiE5JQnVhPhqlx5unT37m5/fmzr9p3W8bvrqofdu/NTCqR48eWLNmzTlXGV566aWKPXv2/FpUVNSHCIWMuyQ50GSmmBpuayEphv4mUuGEwiUUbiymhUs7XOogAqL9ELkUFxezfVOvJh7wh/CbXC2o4NBqsN1ux6MpsVh/1DvriN2eXFVZedz50j2gpa4NqL5BLapgtdVUHWiV3WD69Enj7s9umo28EitiE2KgN5vgcnhg0huhi9bDF/JDpgA8iYL1nMg7ko89O/egoqIcRaXliLMkoOjobixfsRrt2rdHrNmMWIsF1W4PNBYjrruqDxKXLYd/cwF+q/J8C8BbXOmp12MUiXpDNm+++O+Tfr9v//6Kf3dsfvfg5IyfW7RtB5vLhZLiYkY0dqcDNn8Ay379FZ2at8T+3btQXliK2J370bhZFnKaN0GsyQK/FIKoM8AUmwBdlAEOhx1qtQb+ykq0atwI99xy/bxLL+469JXX3vhywriH/9brvvTSS8/5MciTd9lllzHxhaQYIgBur+FkwhurcWmG/o4kGZr4kTacSJsOJydufyF3OW1DjePoO24EJjqN1mqx1OfDlUEvZjXISLrhwQe/0BqNQ40aDUJkpKZYn7BdqL6CjRf1OisogUGt7jr2zhEfPXT3kJYajQCr24WGLZvAYDYjGJJRcrQUmw9sgkYvoEHjTCQmJqM8/whyD+ai8EgZ3F43HB4P4tOS4T5ajm7t2kEQA9h78BAyk5PY/dKq1FD5fSjYvRPeo4dwwOHHzjL3Z/V2gE6B+uuNCqN023bkuYSlQoU9X+Mqb7DrWCWMwQDio6ORlt0UyRoVDixdhOi0VAy8+mqs3bYdIb8Pv67biK3bd6Nxg0wWKl5ZXQ1LTCy6X9GDvdmddieMxljIOi/aNEvDpDEjvnj2maeC+/bt+89HH8z4W6/xo48+gtVqPScxJzQxfvjhh8ZqtboTSR9EEkQQRDZc6oic2FxtQlhy4a5zrhYRaRCBRBIQwjYd2o67csmATF4rUhfpO7L/0PdiMAi90Yi3Cm1YmCjhdrP25tkSVnZITZ1e4XIht7KyXsfe0DW63F4UFZXqMhJjnn35Xw88ecN1/VDlqUZINCIzowkkMQCX34cYvQWJsVHYLwWwZ8ch7Ny5n127216JqooK+IMCzDo9ouKicM3VvfDlvIU4fKQIAy6/BIXFpaiwWlFQWooosxkVRyqw5fBR9ExORA+1F3qfr8pBXq0zmMFSPamiW+/JJnDwANIgY96StVfoK0tWXn37yBR/KAS/y4U0eyWySqtQeOAw9EkZ6HZ5Dxi6tEZQNKHCWQ27wwazqEZKjBFpMQYUlpZg8Rdfod+1g5GYmoIqZxXUBhVU0TF4dMJDFIn89esz3xs0cMC1Cy7v1YPF8vwd+Omnn2prm5wjPJqSkiKQjYUmPRENt8NESilcTeIEEgm+PeqoTzjFOq4GkfeNbDjc60WIlWUc1Ovxut2KB1NisLvU+3SFSjW9KrxeqIddNCjJkWyA+WVWGLXibXeNGPTiuEfuatAoPQvW6kro4pJgEI0I+IMIyhKiTVGwWauwYdNG1mCxb49L4HTaYXe64I4zw5uSDEmWEWMxIy01lWrf4pKLO6OgeBFy8wqRFB8No8EAt9sFj9sNtUoNk86AqxLMcOyqglWWyyk0WTiPwpTqPdk07tkTQ0eNQpXJdGDpwdyO3//0y4Jr+vbqaDJbENi3FV9u2Zf3sz5rSuyGvT2jor+8qX3rFhCzW8CS1QKyLMHrs0Hl9kGUgCRdGkq9Mvbu24mQ4IU5IQ5+fwg60YQAAvj3C88gu1HWd9cNGnDNR598tvCOW4exyXOy8o1/JZ5//nlGNjTB/qpJFiGhRMXGxt7DUwzqBu9x1YeIgEcHc8MubUt/cwmGFtqurgqFcIBiJFnxMaNjUt0WytchAmISkCwjMcqMz0pcuEQro69Okza5quphuFzUKlYfCAS8QUp2A6r4vv630o6MkopqUp0a9OzQcuqTzz4ypO/Vfdj31VVO6MxRCEkhOAMelhhs1pkQ8gaxZsVa2Ow2tGiaDb+XvHk6pKcYoOEhBBAQIK+f1wun3Yb0pESoZAmr1v2GIQP6QoYMUa1GYmwM0ho1glclhhx7N4uPfre6IATsoUCf8ynNtf6TTffubCG02La9qGuH9p227c+blpqY3Gz1xi2/uIPytHvvG+x/f8a77278oGD2I50PPJCetaE9DLECDGbRrwpYLUajNxiS473BQGaXvj0QlRSHQ/mHcWl6BswiUGmvhsFggkMr47ZbB6PMWvHjQw+M6rFs2dLVc2d/eM6vMTs7m9lVysrKTipVnA0E9iYOEQncrVKpRArC44TB41+4rYZIgxt9uQGYB/lx1YgbjomMuEpF62hb+j0nK9qWkxB9JiM02XAotocSOzkJxVEsVWICnqquRpTXSyHNb0QlJ0/WabVaWZY9LpdLUqvVu10u189+v/9DjUaTfzoiVp0DOw/fn9cfQlq85aGHHrhvyuMP3qVDYjJsJXnwuf01sTMk2bHMyBB0ZlJVJSz6bgny8g6ga8dWkHwO7D5ajqSMJKQbE6DXauALeMLeUiDKYkFCfALmfL0ApdU2tGidjW279yA1MQlmCucQ1bAeO4qKvftx8cptGxv36z/m1qT4Mw4NnjN3zl86LmeLek82kXBba7wWOw4eHbvj4FH2t9ESBY3HhSSdHgGfd9EPu/YvCuzcr8/3IjpBZXA2ycpy7SnMw16fRxut10y8y2F7/MFRd6LXlVfg2/8sQ1JyPNq0bgSfywktGY3VMXhswoMoOJq76oOPPxo8YMC131kMuuPiPdg9lmV069aNuXr/LGiCNmnShJGN4a9NVDSqVKpn7XY7m/j04HKphatNXGrh5MRtNKcCt+NwRKpQCJMVNwhzQuPHJS8VXR/7PVVj1OvhiI+HXadDcwom1GiMYTK0EHl5vV4qdXGJ0+nMVqvVI05FJvQ9ESOPgP6zoDIQIX8Ifj8bqxvuHDH45YmPjm2a0bYj/GVFsOUeZBHAGmgQUAVqAvUkwBRlgeALYv5XXyHvaCF69OyKrEZpWLZ8PZavWumOiYlyZjVqlNQsOxvRMRYY9EaoIGHf4SNYsfxjrN22t9QvwTagX89mKl8ABw/lSlaXU+XWG9DLa0PGxnXiB/rEx1Yu/vG3P3KJCtmcBUInCfASITPdlx5gakoaH21GUPB4QxUhr9FsxhGvHYUBPwyA3+YNPDH14+8rK+3uKffeNRLzF/6Cm28aBEtSJtz7DsLnD0Bv0iAADd5943U0bz7n26FDrr8SwEnjcBZ8/z0GXHvtX3JtnAT+qrczy70JBm/2eDzRPOmSe5e4NMNJgtttIj1P3NBL5xWWkGpja+h7rm7xWBu+LXNxh6Uzfgy+rq6URH+nRUfXJBCGpSFOZrQNDyT0eL1F0t9YF8dm95KZJb1xZuork54ad8uwe0cCDg8qD+2redHQ5VFUryxAE9TArwpAb9ZD5Qe++uRLlBUVY+Cga2EwqbFg4U/4adWG6Rad+oW167fY3/jkh2ydVt2iSWp6slcULapAwJuYEF/du/9V+cKhijXb16/3THl37i+jbr66V4d2LVQ2txcepxspXicWClEF5ZUV2x4ZNx6DBw7428bjr8J5RTZnAoGFbqsAjYz1tkp4qsLGzN+zYl/7eP4y96ff//J/6RkNUVxWhX379uK+ETfD66iCx+2BVmuBR63Bg6OHwSeFfn7y9Q97AVjJD68JZ45r/8KYHE42ZNfg6s2fARGH3W4fQ5NWp9Ox3FNuo+H7JxIgaYCOzSUbREg9kcTB3eJkx+HRxdyewm01XJXhbvNIV3mki5zW0X6IsEhC5C+RWi8Y7S8YRLnPD7uNpDLVbIRJsi4YYYbJ68+ADMCU2CtJLLbnzjH33fjWxMceN8VkpsNx7BA8HgGCisZOghAiy2yIKU6yrIFZXyONLvj6e9irrRh2yyDIAR8WLFxzOC6r9aihIy9akrt9LfbvPUyb7fD5gzsOHz0Kb/h8O3XqgsmTXkab1l9i2LCh2H0wr8/chatmZKUnXXYwN2+/tdK+r9Jq22oPBBdSIbM3p74OWs43XHBkg/BF2WSKGP794ayViQQBeq32XUihywqO5g3LaZCIoFtkhkyNVgWfRw3J44VWJwA6A8aOvhtSQFjx9FszuwLYQIwlyjVk81faCPhkofP4s4GFNAH9fn+XQCDQnkiH21L4ZI2Pj2fRw5T6ERMVBafbzY7L8nXCxa84AdFCRMHVSJ40ye0+9Dd3p3MS47/jx6u1fYSPwUmL/64WclhKFUUcKClFg4pSNLOY1xZrovbo6g51eD8USX60uhqeMySbyPYpkeRVZXeSvcTcrnmT9195btywftcNQshuQ9mh/RTOzgJDaxRoDZNqmGQjhKDSg8UFrf1lBRC0YfS9I09kGl8AACAASURBVLF07W94etLUt64bOPRfD955LzsxX/+BWL6coqSL2fFiLVEodthrxif8dJaXl7H/77nnbvmBMY/cN2HC49i858hZPQP1EfW2BvGfgRyuo1AXQjgNwuvzwRsIDg/J2HzXiCGY8PRDNNvhDYSgVoVA8rA/4IfPI0Kl1+GJJ8bisdF3/AqgK+38XDhly8vLmaF40KBBLEmSSwtns4QTK++KIAUhMhKYcpqmTp2KrhdfykhTZzCwyU8ZzBazme2Dcp1oYkZKOFyN4lILV4dYwF6N2lab24QIaY1LU7Q+0iZUN+9J5mkqZeXIdDnxpEkDWaMeHyCjNElJEYtMx9BoUGazsYJTZwI6B4rWpmug9Iry8oraX/ml0LXPjbl3/+qF84b1u+kGlB8rQFmFlUWyC2wMJcisOJ63RqKh7wUjtKIBh/bshjrkR/9+vfHWjA+r3v10Sf8npnw4dszTz9YyoM4SDVLrTwdOfhazBZnpqUghI/AFhAuSbE4F3nWTi3N6tfqKOZ99XbRj1RKYTCI0tILEZPb20rDJYnMG4QoCk58bqxp395C1ANqciwBxeuunp6fj2muvZZOScoLOZqFgOpfLFSPL8m08W5tLJ4xs1GoUFxfBYrRg0r+nQBsTzYqOpSQnQ2s0QmM04vrrrkN2kya1Xiou2US6v2lseLwOl4K4zYeTDLcPcULiNhz+u0gwaYiIxuNBUlEhdsZGY5fKOH9Dpf23apcDx5xO5EcsuVVV2F9cDKvXe9pxjcztIkP13LlzWWTznDlzRtx+x51ki2t3Sdfm4376z/vfP//axDRRq0XB7n0I0jXR0yKLkGiRSH3UhQuVeyHAB40mhKLCYohyCK1btMDzUz9eMm7KrDZNW7dddMPAq2Ch8hNhQpU8bqYantGz4PMyMjzT7c8X/KPIRo5YCLExMdUr123s9vyLr1kd1mqIajIx0wNVY+ERhCCkoBMuZxUCEvDai0+K44b3XwOgG/1er9P9ZedGk5Eq4lG+FIWo87Kbf3RhVfmBfiqVShee9DI30jJJJBhkEsvYxycgISEW48eNhygI0KrVyMzOZvE+7777LrTkcg0bgxHx1qXPJAXpTnLtXKWK/Bz5WyKZSPLj64h2JFHEEX8A2aWlKGrUCHmy4H+DYm9CQXgcThbEGbnIfj86d+580q6SkaBj0bhQhDZN4KSkpOYPPvjgx7feeuucgVf36f7w3TcumD9rxmt9+/ZG0cHDbLvfi5JLkCUyXtdIaqTuyOxVJUKtEWCvLEPAZYVWbcBDz7w6+c0PP+8HoNCkO/c1is5H/OPIRgov9DhZbTa4JXX+/OWbBrz3wacwaA1QsRYwgXA9aSKcECCHUF3tgUvQ4LUXHo96f3g/Uql6lnv/2jcPPegU3j9gwIDaScltLmeycGLQ6XR3cQ8T6ririYyoDKXD7cRb//c2hg0ZguxGjdDvqqvw84IFSE5IwIj770duXh5M4XIR/Nh0PkSEkZICfU/Ewz1S5Nrm7m1+DpEpEpF2Hb6OcqJsbhda+tz4MT4Oa6uq5FaFhU9Dqz3Gs8r5og0Xr584cSI2bNhQS1pEOmTrIhWRxwzRZxpPugZy/w8ePPixTZs27Zk4ceJIuo7y4mP2CQ/cm2k0G3HsyBFIUiB8fjz+SGaBdbIcIu8UU52CviBCgSBElQai2gh7lVV+4NHnh37544qn+X1UOkqcHBekgfhUqOvL8P1eAmHd89M+mtqhY9t/9bv6KlitvpqHWNbUDJFMEzaE6ioXZIMZ97z4NGyCZsWEW4f1eaVB5vJYlYCPvpuP9OTUP3V+NFnpLdy8eXOmUlHtmchcpf+GsKrTWBCEK3ktGj65uRrD3dVUfPzTz79Ah/Yd8P706YiLj8fK5cvx+FNPobiyEgbKAA+PD3dTa8MRxXfcfjvsDgeWLFkCs8nE1pOtx1pdzbbnJSuYETrspSKSqI2xCbvbw54yEnmQ5HXjCr8DT9v8mFtdHUR8/LyMsM0oElVWKzp26oRnn32W7d8bVqOoeBddF6lIZP8i2wxVEaT2M23btu19//33vzx8+PCukfsyRcUZCssKQxk6s6iiey14IMu6sL8Rxz0xguyneF42YQx6NYKhEDZu2V6+dcv2azbt2LXxT934fwj+UWRzOoSAceOfn9KhdcuWvWMTU+D3eREM0AOm+b1AedAJh1cFb7QZ4198ArrK8b+MWfxrZwCbTOYacZ6/ec8WnBC4VMINs/8NRCo02aKjo+8iYgnHqJAKJXAVirZhRuCoKJRUVCA1JQPNshojITER3yxYgPFPPIHEhARoZBmVZWWQhd+ryjHSAJjn6prBg9GiaVMsWfITElNTQblq1ooKTHjsMaaOvfDiizVJl2GC44TJx4Y+k4RFZME8U+EyF9NsfmaD0SYkaiyy1MRusx2NJFquEjXNzmafKdGTgxurududQOUuRo0a9dbDDz/8EC/FWjOWAovc1ZuiTQ7rMQhMeqGHQEuuJQhCgBmDBVkPmSUgkUooQ6OWYbaYIQT8eHvm3P3zvv2+95WXdStu2KABqsJBpgpOjX+UGoX/Uuh83+HC616eOt0WpGqAzN2pjlC+ZPYgykEWHQibJOCh55/C54O6ryIv1fJNO9jDT+L6n8mliiz3UPf70yHs5TFptdoHwgmPMpcoqJsBSRVxMTGIsVjYRCcJbsnC75GQEIcv581D85wctG7VihmY/TRxwykIvMIfM/z6/YyYXpg0icIH8PD4x+AJSfBKEu4YNQoPjx3LfsNVKITtNjzYL7IYFydwWuegdAaXC5JWC21MDNK0GgRcrlY0lmRnoYX+rg5LTlSKFGEvV90xov1RakSDBg16z5o1a+u0aW8eRzSR4yjSfZVrLHk1/4q/PyGkRpHXSRWESqeC6PZC7ZNxLO8ohox4YOn4yW93Ki0uLCat2+c5vZFaQQ3+MZKNQadBRlIMS3w7GeiZc3v8tnk/fD+4Y4dmy6+9ZiC0OgMkyQMBfoSghRSiGBSKs1HBFZIhmfQYes/NBpNRt2Jgrx5kNN5OLUooz6luGP8fBZ8UPFOaB8idCrTOZDL10mg00aQ6cDsLqSlkW4mi7gdaLew+Hx647z78a8wYFObn496Hx2L/wUPYsHw5xt57L+6+6y6mGrkpYC8sUXGvFJcc9u7dgxnvTsf4xx/D8tUrcVnXrnhkzBi8/957eH3q1JqSHpWVx50vl3Q4wUS6wSlOBWo1yu0O3CrLaKDT4mWvtxki3ON0HVyyOZlxmvZN1005YAMHDnz+9ddff45CCTjp0W7I8EuXRAsNr4qaN6tqYq8iSYakGUnWQ9SpYBYkeHJ3we/0Yr/bj4+XrPrebYwb2K1jBySa1UhpkMWN8gr+C/4xZNO6eQNkNUiA0+07pXSj1amx72DBio8/+/7/WqYkPdCkVTOI0Unwe9XsIRQEN4IhAR5XiBVH8qlNsJriMKBnR/1nxwoWDV+778oqpzs3Mdosu1weH7cnsIf5LCOCibhoAhEibR51QTaa6Ojo4VwqUlN5VLVaoMjYFq1bs6C3Y0VFmPzKK7ipb18sXLgQT0+axN7o0SYTprz6Kl5+5RVc0qsXVq9ezSQXb1hC4WRDapXf7UaDhpmYPW8emrVqhU8+eB8mowkfz5qF6dOnIzoqinWQ4IhsC8PVO27L4YRKZFPi8aGf341PkuLwRJUHstm8OzYcYcxVMC7ZnIx0SZpRqVQ5L7300lfjx49vQ8cgiYjsRzRkNbwvhyOZyVitYeUgAjYnRIG8TN4arxipzYIOJqMIqdKOyq2boLeWoCg+CSOffvXjxOYX3b5+9Qp2TKoCqdNp0e2qIXhozFisXbv2rO7xPwX/GDXKZqtGeUUVKiurUHGKpaSkDAadHoUFZWO++vr7suJDufBXVEEn6iCxgtUqiGoVHNVVcFZVQRZV8CVlwJ6ShWHXXZ26qF+nrwWve0eF073C7XbHRNbgPVtcfvnluP3222uLjJ9sCQfqmS0Wy400wRC+sXTGHq8XqSkp6NqlCyOCgkOHWLH1xx57jMXleKqr4bXb8fEXX+CnJUtw/3331QbuRVbrQ1g6ocJjdpcbWrMJGempjGi+nj8fE19+GQaLBW5y1Xs8tRnjEfYj9pmkAC7VIEw0+TLQUZbxQ2YSIAp4vbqq8J0P3p9FFRlJNc3NzcX1119fawzmBmgyonN06dLlxTVr1uwmoiHjMB2LEw3n5xqOEpixn0BFLKyVFZBCPqY2y3KNXStWr4FUXoJji75F8Z6dKNToMPrNWVOPVDhuz0z73QlAREPocFFHNMvJOafP74WAC1Ky0aoFWD3HSwB3D7+JdRb0eE8fbSpCBY/XL5UXlw/J3Zu3ShvUIKGZGnqzGR6vloJWYTbq4LRVISreAp9Kj0DTZqAyW6lbdzVPVKtQ4nI2NRiNW4KBwPWhUGgb/kRaA72hqX8zuXm3b9/OXLl1a/Myb5DFcpMoihqyudAEZioQuZ4NBhTm5aFD587ISE/HR7Nnw15RAaNaDYfdzn5Lka3kaZr80kto2rgxkmJjUWm1sn3XdqkQRVYKweF2o1XHjvhw+nTIwSB+/OkndO7SBQ2bNWNqDBMhIhI9ef4UL6bF7TeUeEmpBqVOJzJ8AXyXkgS16MfUwmoKPPgiWF7hI2mGroe8S1999RU7D1KhqDvEN998wyW+jg888MD0KVOmdCZCO3LkCKt/zLPn6xJN5K3Q6PTwSpRd7oRKb4IsUqlUI7xH9iNv0Y+QbFbos5vjno+/fW3bvsOPst+oTn4v6TwVnB4XJNlU2kPo2DIT6kbZ8LhcuLJnV9x287UoK7ee9nfMT6ESoNKIcFntq5f9Z/FkY9D9lDZkR0zr9hCNsQj6/TBEx6KstBLWsirEpabCqNJhl6BFed9rsPKpaZjyxpuY+cH7jTQazVZJkp6imuNnm0fF+zvdeuutOHToEJNGeFM5RATMmUymR0maYNG6NYZTQQ4GZZ1Khe379wuXVVejfevWOLh/P7PJVJeXs6A9Vp7B64VFFHEsLw8H9u1jNp6ITpq1rmtyd986YgRenTIFBceO4bZRo1BaWYnNa9fitZdfxuAhQ2AKZ4TLYfUrsoQFESeLX6HMcpUKlbKMdD/wo05EuqEaXr+ENx1Mevn00fHj8fiECbjzrrtwy/DhjHAQJr1NmzbhhhtuQKNGjSYuXrz42X79+jHPExmRGzVqVFtz52TugOPug0aEz+2G9WgR4hs0hGyIRuW2nXAv/R6SPwhrcmO89tH8t7YdLHiU/8R7iojlSDsSl7wYznHhtfMJFxzZ0GSzOUKYMPl29BnUHxWFRSSpYOeeg7W9l08LGTCYDYKgFuWP5y99ekDjhHYdUuKuLdu1C6mdu7FCRpJAb2wBFcUlzDuji4vCb7mHkd3hYjRr0QIfvP8eunXqiLvvuw8GvX5yRkJCycGCgo8Qnix/BDRRqdJdu3btWCDbhAkTagPX6E1Ok0yW5eycnJzmBQWs3WttWU2SHohIqAH9/l27cMNNN2HxqlWwHj3K1Cx9OBiP5VMFAmy/RAREKnJE8qUc1kXo/5zWrfHtggV4/plnWHwMtc4Z9fDD+Ojtt/Hg6NF48/XXmZREgXqhiAqAYjhuh5WwoH0GA8jyePFUghktdQGWj/ZptQ/5cmiDWhC2kueLJurzzz1XayQnREVFXZSRkdG5Xbt2t0+ePLlb06ZNmZpF55qVlVXrXq/xeJ040JGFwtwUiRyUmISnKi2GxnoAxevXIl4NbCux45mP3n+2GPKLkb+PCnfAvP/++5kUxbF9x47avw/nnegGVxktMOr/uojz8xEXnmRD/Xd0gD8YwuEj+bBVVIaD2s78DWMxG+Wd2/ai1GrFTKv1upbJv266/Kru7cr37kBs84sQIrXAoIG1ogqlxwogIB3G6CS07dirdh933Xsvclq1our7aNGs2YdPP/polzc+/PDxSqu1+rQHPwlo4pAtpmXLlkwd4W9OepM/+eSTOHDgwDXr169nojz3gglhl0tQkgQK0Fu7ejWTEIYOGsSMwTHJyZQpydoUp2VkMEP0vv37oadkS6sV3nC+U2SZiNi4OLz66qvM9WzW66GlMhNaLX6YPx+vNWuGXr164aNZsyC5XDWeK1GszWInUqPzDQSD8MsCYgQJ95r0uE3rAdRewGfEjzYfEcwLqWo18v1+9L366triZLRvSZJ+fOutt/rT8SnwkfZ54MABRjBUdpQXcedjEEk2NX9LNQmVlIwblOCy2ViRLIh62KttkDevQ6avGtP3FoW2qpNGvPLRrC/0ogBn2INJ4964cRP0798fixYtOuX9+mDmTPy8dCmTdjp17Ijspk2BoB95hWXMMB0uyvWPwwWpRjFzRSAY/vssvEAqEq+9iBFUcMtScOKPK/sZ0hOOddcatQ7tEUS3aAqNWg+tXkRpaRF8QReym7VEnMV0XFmFyyLatEydOfO+fpdf3v/DL74Y8+Hs2d9SKxp6aKlUJsISz6kMyrQv8sR07NgRLVq0YJIORceySOBGjWjy38hzqNhbuyaeRabgPF84SNAjy3jxlVfwzDPP4Mq+/bBr9y74PB50bN4cM959F+aoKNx66y3Y8Ot65snS8MTLcBSySq1mKhzlVmnCJGJ1u6HTapEYF4c5c+di9Zo1rEi3j1QpKgdaVsZ+SxITkRVFbIsS9f4SkaEBsgwhhFQCK625rtqH9T7vPpNe96MzVHPvNmzaVEtWqampN0ybNq0/IvpbEXnROiqozonm93Y07EbWOgIp5YDEVm6kllQhRnwBlQhKhTNtWAvRWoXPyjzeqWv3XD357QdX3HrHbSfciyFDhpyWaDioSyiB7EuRoG6WarJl/QPVK0WhPAloYtkrq6CVJWQbddCLQunbc78dtnvnbggVhQgUFMBgNkJjUMNoUGHjxm1wB+uUSwirHWwJf9dv2LAG70ybNv/L99+fM3r06PjcozXiNhl/aVLRpDwVyMNCrVhJsiBDLG1PIfpPPvlk7OLFizvThAuEiUAbfouY6KGWZeYhogm6Yf16ZmR+7LEJLNy+66WX4qOZM7F5wwbkHdiP24ffjqA/CJPJiGiLhUkyyRkZLHuZ8qRYhwRyXXs87PgsG5wmeFjdInIgCeSpJ55gFtlA2F5Dv2P2GtSEARCJZwlAphBiheg97gBWujwogvyeNxREVY0BXFVeWgoKyKPYod69e79DUg6NJ3nEiGiJYEgio/95ca7f6yqHIgIygzVtD8NlLnhcjEqtgcdug7x3J2zFJZizK//ocz9tvArAihjNiVODPIP/+c9//tSzRXXcqWaP3fe77Uf9B1Xr8xUK2ZwE1PvbaXPCF/ZixGm1yHeHvpk084tHK/fvgiZ3P+SyShg1ehiM1CKmGlpjjWpzUkMwb7BPcTNZWViyaNGIaRNf2PvMoxOubNa8Bbp27crUpNPVM6Y3Mk3Y3r17M9Ih8qHJ5fF4rlGpVFpK4gRvBkdxKVT7VxQFfTiq1uXxINZkwtyZMxFvMePrzz7Hk488jlkfzcb9Dz+M2V9+gaY5bdC2bXskxMcjPjUVekptSEjAzTffjLatWzMpgiQXVqKTJn1UFGLi41k8TmVVFR55+GFMfPZZ7Nm0CU6bjXnFyNjMUym4hBSlEpAhqJBB2Y2SDI9Ki2KRRWlvCpF0J8sir3eWn59/+Z133rntnnvuSeHjy0tn0HjxQmN1e4vXDDsvM1qzngiSPFhENlQ3WK3TQPY5gV27sGR3IeYWVL0cZ9SspL1Y6hB/nz598Msvv/wlzxeRjS3S0Bwmm/+WwX6+QyGbk4AVgNJqmIEzJAGBEJCh16HYG3rtnS8XviflH4LqwC6oqO6M14W4pGg0zGzMdnS6KF8hrGKFTCZcP2hA4r/uvm1JVoOUWVqdlkXLEuGQy5ZsA9y9Td9FpgzQuVGBLV4LODo6+kaE7Tcs8I7IhlzfpAKpVIijSSUINQWmBAFFJSV4+oknYdHp8MXcWZj69ltIycjApm07EBD9aN+pAyo8XpjMZtw8cBBefPJJPPvMM7hx6M2QgkGmbpljYhCbkAAdqUehEFrl5GDm9Ol48I478PwTTzD3uiFc85jXKqZR0YlqmEnaggfGkIf9NlclYL43hNaCARmi5ko6R4PBwIwkFovl1alTpy597733svgY8gxyUiO5e7tuEXbUIX1ONDRGNd4kmakzGhlYX1KNV/YdQ4vEONzRKCahidaDNmpg09cf4eCubdi6dQt69O6N5cuXn3A7/6rn7celP2Px4sWo6V5z4UJJxKwDll/jDyA/92hNOQpqJ0hlQGUgTq/C4tzy+5O++SX9keEDrtUV5CHX44c+LgNJiUlnfAwqYLWnrBhCTBRef2ny7Ufzi277cv5376xaterxuXPnuunBKy8vp3ujS0hIEERRtBzNL3BW22wOIiLq6oCaGJxEo9F4DZ9svMWtihejIpVFlBAlyXBAZAF+5PZe9ssvLNqVjKU6tRoVxcXIDwZx+OABdL+kGyCqcOvNN7N9/bh0KdZt2IqhN92Apq1aoqTSCtFohKOqCi1bt8b9d9yBnj17YsvOnbj+5ptx4OBBxMXFMQmCXPG8swJFMqtEkWo6wx8IwiNKWGiJww6HF/PsGvQ3GdBPcg790Ot9TqPVpmRkZCwcPXp0h8GDB9eOG10nSXdENOZw1TsqA3Fagg8HJ/JayzXfqWDUabB29wH8+PUSvNPvYlyRnYntK1bpTKIKDdMM2LlkOR5Z2QFVPmDdOc5GsFZacfXVVx/vMr8AoZBNXQg1BbcriitYVZsAt8WEasrcUPDep9sOD7soc/P2mwb0abxs+0Fou7aCRjy+hS3HiaJ9je2gU8eumPvxJ6isdKJZw0xhzpw5D23btu3yV1555fU2bdo0efTRR4c0bdrUGB8fr46NjY1v36Z19cVduty4ePFPK8mwTMbirVu35pjNZpHbhlg9m1qLKAQqSKUSZOg9frhFPbOtsApw4cnHMsGpzozBgJBOh6++/BL/njQJyckpWLBgARYsWohqjwcxmmjcOGgQ+g8ehJdfmYJ2OTkYOnYsrr/pJlSUl2Pi5Mn4+rvvIMo1qYxENOQZ49HNrG2vUFN6is4hYIzGgbgYLPf7UWxzQKvX4htRBdFuJwnv3607dx45cMCAVPK+Ub1kDm4QJrJB2BEgSScXMCJLWXCi4aoWiy2iHC27A882z8ItZg225hUgwRLlulytYU3k5AQZAZ8PqUYtkGfFunL7CYf4qx89Hv19oeKCJRv+UP3RYDohnE2s0mjgpHD/iHU8TCwKcM5cs+Gqlj27HCB1IEn/x8tK0Nu/RetW2LdvH/YcOQLV6lXo3r1Hy88///yErniH9uzF7QOvSVw0b+5PY/71iPm5Z58Nks1GkqR03u2gNvGTJnWYcEiaQEiAzy/DJ/ihUdeoWKRKRGZgS0QoOh02bdmCux58EMVFRaBUATJAk2eqqPoYvl+4ANddPxgIShh2442sGf7Lb7yBr7/6ikk5USTthLO0Q+GAwOhwTArzaoVtK4JWA010DI7KAg6VlSAoC7Bo1PCWlFDyl/Tv5557jMiUemiRp46/7YkoWJ3kmJiae8GMwDV37HgX9/G9ynnL4ciyHeStq/aH0EcvIiZajSMON+zRMdAETBA1qlqDrQYmyFo1BhoM2FblPMEJoOCP4YIiG948jkKn0pLi0KhhOiq1fzCIjiUwiujQJBnRUgtYIjodsILcAqA2iFRt/+AHXyy4UpXQ4NsnunVj1kR6a58JtfEJQUWgDh46xAqwV1VVn2wb+VBurrR7/Xoxs2snfDrjA93QO+/5rlfPnmPpEpOTk9/kbmDwQDbeOI5Vyg0iLRSPFvoQlgfLIKj07K3NJI2IjgvkNSJJhPazbf165s5WSxKsJSXMu2Uwm/Ddd/Nx/cABuH7wYPzfjBnMK1NWXg6zwcA8XuQ5ksMZjwGvt9ZeQ0tk9TwhTIalFeWsQZtWo0ZBYSGTWGbMmKG6beRIdi5UBIvX8uHkEdnAj2Vtq2rUKFKLKI6KJ6FyqSayK0TdFw9JfJ6QF1S5JjrKAo9Oj4NWv9tLklZENDAZc9OMejSPi8WWsso/9CwpOB4XDNnQ40XyBSXR7Q8G8fJ7XyL22+V/uNYIteygspm2Y/lQk/tUe2IulRSUoVUJWL778NLL++bMSW3W7P6ak5BrJ3vteZ1GpYqLjcVFHTpg1apVTPXgWco8xJ9+Yq2sFE16HeYsWYqshCR8/dPi/q+8PrX7C5MmWUg64kTDJzNv2EdRw5IIWN0hGAwqpMTGoMrpre0ayd3F/LdkzyHSo7d6IFzQnBYD9XcyGlFUUsqiZu1eL4oLCxnBaCUJdquVxc/4fb5aVz/vfEnH4KkV3K5EBEdBeV6qm+Pzsb/Jvf3II4+AEw1lcNP1Ux4YH7MTy3XU5DmJolzr5+DSHc+/Ch9TlurqWjK1FZNgNxtRlpKJjJRMVPokbDyysbTKZoNRffwLSiuoEBIk3ndMwVnigiAbcsfqhZruO79V+7HPIwGrN/8tx27boRWbvX80eJC/saloN6UcUKAe5UFFGgmJOAS3G7vy8nCotBT2QACNi0uwe/duS3xsLJtI3CvCXd7+sH1EoHwkOYRi2QtZVCNFb4TP6UWVzwedRsNUKd7ZkudARUoCCKuTVP/HSV6yQADbtm9nZMQa4IXb3UbGtvDSEdQGhkcNRxYC450ZKECRXPWBQEC+4oorKO9LGDFiBNuWcqA4KUW6tXFSwsEJTqFIYuP/180jo2ByE3Xa1MfgmDkRhqh4WCurUFxdWVweCsJcp7Q0/YrOhBzTSrrl2eO8JxuyS9CD64GMQrJDuAJMvj7XcVL8YW6Q2bDtydZx/DebEU1cigqmSU9veSIeskuwNAG/H8eOHkVJVRUaJicjq2FDTHrhBabCkDTgcDgEXbguMJ+QZNxmnTrDuVEBtQqSNs1o5AAAIABJREFUPwC3M4gYvZ5V1fNRsmbEOdI5RAbGIWJis7wpklrCE9cVPhZXcfjCq/qRl4gXNo9sQse7ZdI1FhUV0TYhIpnu3burKIaF1hMJce8RSW2ICI4805yyyHyu8H0Q+D3g+6Hz05ALXm9EqV9AukYHt1qASwUXBRqfTBYORDY6VHBWOO/JhpLp5n7zTU0FPiFcQkCWIP098m5sk8aNW/MP/61tbt0OkVy6IcIgDwtNtl27dqF3nz5MDfE5HKiibgiShNSEBOzZswdff/01255ULiIZHgjGK+AxD1BYopAlGRVSFWSVBEMoipXeoMC+ckq0pL7aFH/j8dR6jU5WtpNnbPNeUfzcSarhuVPcs0VEQ9IIkQWdP2/Ny7s+kHpEZGowGKwjRtwS6NixUzLVpDGFi6bzVAIuGdVcl/SHKh5G2mwipRuEJTUyWvNyopThX+F2wa/RwSGJcASCLOPzzFreKfijOO+D+ohkakt9RqYI/A0LgCZNmjRhvtlTeb5ORj51vyPbBMIThVIReDYxkU9+URE8bje00dFYv2ULXA4Hm5yksnDwkp0I22IomI+KkDuDARhFNUyCAR5BZuNkkiQkm801LXrDhmKakJTp7aUMbao/E95f3Sb/XDIQI/pukzrGiSayJjAfDy4BUREsWnw+XyirYaNNHdp3VqelpbMo32PH8moN1rQv7u6Wa2vQnJlHkQiRq4McvGkeETRJSzR2/DzJPkT2KUqsddUU1DoXzU4VhKFEEP8JNGzYsHHjxo3/9BiSdEITgeJIaMJQCxeaBE6/nxUfZ6U2q6oYCVFZCD75uScqUtUgsmFtUvx+lLitaCo2xnDhcti8dnjFGs+TQaVCelQUiyym/ZMxmYppkQ9GSyRC0kGYFOl8eKoBJyYuPfB4HUQkR+L34uu1qhORDEk1YelJbtCwQavMxs3i4mLj4fdT988gc2OXlVEjOfvvXRggn7FUw+NpuN2JF++ic6Hx5RINl9AIySkpUBtItRRR7WZ1LC7sQJf/Mc4rsvkzBcTPBdq1a5caaUs41Rs40kh5qu9IuqG3L6kPFWVlsFG8CtmeVCr2pj985AiLPTFSzZlwTRZe/oGkHN6DqTYPCTWBiDu9uSj0e5ARagBXkLKdBVD+EfnqGxpN0AokHQaZd4lsRAGPh63nKkhdGwj/jqtbXErg18Jas5AHK2x4JpIhoiQ1ka5NLYrqzt26pKc2SBW8HsroprrKamzevB3btm1mAYW8Fs2ZSjScFPk94MRDC50LjR8dW45onEdokJkJ0WCAVwrB5fGR7feEyD0Ffx3OK7JJTUurB2fxOxo2bMhydsh+4juD5vanU6loMlJXAlJHSolsqqtZYSoVqT4aDXbu2sXUKp4jxW0s9DcvLRH55qbziTXHwqf2Y5m0Hk0DOUhxJiKklVksUUBQId5sRrLBgqAswUmkRR4lsv2Eq+lFRtxyokF4QvPjcwmCb8f7NxnD3TRJWqOYmbS0NPY5Pj4Obdp0gCzTdZBEE4TfX438/EMIBHwsi5vjTOMxjzOQh0tq8MBFGldOLlzSidyWbFeUs+Z02CsUyebcot4YiKnOyn/D5s1/jzv7DCFkZmYy4zBNInq4uQGSP9Cns+HUNRITKIuZ3sRkJCViITc4TXyX34+8I0dqi53zt3OkIZcnPHIbCgumM5qg0WlQVlGGTcGtyA5lw+c9Bl2CCgZBC50gQO8MwSAbIGtkqKTfo6RRR1Krey382LyzJTckR7q56TMZgMngS259IsC0tBwkJSRA9geZa5/Gyel0sCTElJTkWoP3mRINP37kZxYfRH2ywh4tDi518Wuh8SWJJ5yo6Q47nRScI9Qbspk0aVI9OIs/hNTs7OxWiAgm47kt5LrmJHAmqgCXDmhixoZ/SyoTU5W0WmRmZcHv9TJ1gKQfsoHw/fJyC5x8mNEzEGATjaQkmuRmgxnljko44EXA4UOCaEBGbAIEDWARLYgLaWGVKiELMgT5v58vl6h4R0siWE+4xg2dA0knRCy0noiGSx5EJMkpyayfuM1GbXGCx6nGDRs2+sOep9oC6mEbEhE/EU1kTlUkuGeMQGNJkg+dZyUNlIJzCiUR8+xhSU1NZU80l1boIefN2SKje88UJBllJCWxWiqHcnPZry7u1o1cXiwVIjIviKsEkccgtzJNIErSpHrE1P6Ettm3dx+2bd+GYyXHYNaa4PAGsbeoCEadGnGheGQiDe6AGy69AxpJc8LZRrr0eYlS1LjiQMXGaYKTF40IZt26dWzy0kIExCUVnqWdlZUlpaSmBotLdmpDISqToUEg4IfFEoXk5PQTjn0qcLKLbE/M1cm6Es2pwFVST03rmWKcQVzUuQZdC/fsnS6b/XyEQjZnifj4+KgWLVow6zCXYHjLEpp49LCQmB4Z9xGpOqHOgy2FEyfTGjZEQlISykpLWWQ0EQbV2SUjK72tub0m8rj0dqdgOSrCNX78eFZca86cOfi///s/Kpkpp6WlsX7fWmihggpmiwl2uwMVdhfcgoxETQbiYIZHsp+gRkmQEJJCTOLx+r2QQzLMJjO69+jOSI2Ih4IqGzdujE6dOjHp7JNPPmG/5bE2iOiI2aZNWwjQilwKAiMJHzIzG0KvP7PAPbpeUjNpUnKDNfcwkaRyOsKIlDbpfOgehT1n+0/5o78Zu3fvri0UfyFBIZuzRNOmTbOioqJEThzcVkE2AR66T3/zNIKTeaM4BF4WQhAQn5iIzMxMFjl8+PBhtgVlhvPgOB7Kz2NraNIS0YwcORJjx45lxyVyogJbtO3LL78sUDAgOze9Dn7qm0XlMNQCyCXlltzYhT2ID1mggw5+SFCxXKAQfEEfq6gpBX5/ww4aOAi9+/RmBEMLHY8MwEQyRAA5OTmsMDupgUQ2vG8UTR5qf2s2R6mcVClP+D14kBcsPxNwFZO71iNd8CTR1O3/HYlIAzf/nwqns5ITPt+RuvflfwE6lx9/XIhx444wo/qFBIVszhIJCQmZCJNMpKGWJgCpDvRg0wSgh58bS+siMlo3EjRxqacTubnp7R3ZMoTbd7jdhKSoNm3aYPjw4Ux1olQAmtjUY6p79+5smTp1KpYsWQKf1weDzoB4MR6qkApBOQin7IRNrkZQG4Sain+THUQKQOVTwSgZoUHN5M3pkIORt4xE2y5tsWDhAhTmF7JmcKRKcS8U2Yv4GJCkQVIDv3aSzEgiotgWqm4oywEmQ/l8XiQlJZ+sJKrEu9JEfkmudNo32YJ4gXMaZwrW00dk6NcFlzAjbTaokVDZ+eXl5RX9Dx+nWvBnYdiwoWjf4aL6cEp/GRSyOUukpaUlR/6SSzZ13568iT6L7K1TMqEuOJGQZEAFzGkSUUcD1mkywnbC29ry2JIOHTqw3km0HUkTtB+ajCRp0H7I+E7V/b759hvs2rELhShEIzRCNrKZNLMf+3E4cPi4s7HAghbJLdCqWyu07NIS7Tq3Q0JSAuZ8PId1DqB8LpIkuFGWJjt9JimL3N28sR1Po6DFbDHDFBUFv8cX7m1FnrwQ0tMzT3UTjhsosoc5whHU3CjOi3Tx2jknA7dr1SUahAMqV6xYgSuuuMJ62WWXHReZ/b8CjRndO+qDtXbNavYMXAhQyOYskZCQwKyQPL6E5/ZwlzePtOWBd7yAE1etTmf8owlwySWX4NNPP2USCU1gIpHIOBbuIieDMDVqo2PzUHwekUzfURY1fdejRw+0adsGy5cux/rf1qO4oBj7K/ajaVRTXGS+COnJGTBnGJEWlwKr3Y60tFTktMpBWsM0mDQ1k3vZz8uY6tS+ffvafCYiGgpIpONFFuyObLlL27DmdOSVory1UE3SJkUIU7/s8FDWxXFuKZp8JB1xOxDLSI+w05wKfLx4VPIJB1GpqL6w/6WXXiqnMapvoL5g1157LX788cd6d25/FArZnCV0Ef1WI0sa1DaJiyAgDrKv8ETDSC8KhxzRI5tsCSSVbNy4kfUeojc33ye3U9AEJCkoOzu7VrpgGc1hLwsP36djerwelpjZ9eKuuLT7pSgqK4Lda4eoEhEfE49YUywjMJ5UaYmqMZzKPplN+4OHD7KODkQ0CCdi0kJkRyoQjybmSZR0TFW4KiAfI6PJjIzkZFitlcy7VpMHRflKhuPUUO5l4yoYSUpEctweQ/sXw72ryEN3OkMq7zceOcb8OAirZQ6Ho3zUqFHFJK3Vlyh1/mwQkdN9vhCgkM1ZwmAwMLLhagKvCYPwA84nDSJsMzQpSCRm0b3h7gDc5sMRGVFMRtOffvqJTXIiG040tG/aDx2XbCZkSCQVKrJ+SyQx0WQLBUNMMuDerIzUBqxC3ozp72LgwIFo26amPQwlYVqo/QoESKGaUhL0sFO9HbJv0P7o/GuigeOZ3YbOldefob/pezLicvLkmeHcrhIIBGvTKuLi4iGK6uMSPRGhhnJDNDc0k9rEC4yRJHU6gzDqpLhwko4cbzLCl5WV5ZeUlEjckF7fQNdIKhWde35+/nFnR2R7vpCRQjZnB21MTAyTy2kSRSYh8v95fZjIHCgu/pPdgVexOxVochGJUOwMkQRJOVwl4f/zWjic8Dg4sZnCeVQkZdA+aiOPyTvk9WL2e+8h91AuNm3c9P/tnQmUnFWd9m+tXb2l09lDICQBREyEgGwZgQmioiwaBAMIuCLLMAcEnaOfM58IzucHg47rkVFQ+ASXQUCGRRyMyiKoyA4CwyIEQtYmnU4nvVR31fud3+37FDdv3urOnqrmPufU6e6qd6vqus/7/z//zRxy8CH2i9vkhtHJKmMfLCuuV64b5+Z6cN+wbIhG9bmkQ84JAT3zzDOV7F6J2RAmJAlhcF1s60ehfGuQ9w+BotOIuO38q/Xr7WcOUfvD/EeCb9H4ZMPiXbly5UuMLz744INr7Xu2EQiLywXnf/X973/fXHHFFTV1jdUQyGbLkCuVShURQA2sVIEtS0fajB9qlbuBDsNi4wsjC8RfBOxL7gqvqz+wWjCo9gmdhG004VHwe9FAEhANZMB1ViZUrl9vTjjhBHMag+ba2+3zslz0Ptju+eeft8cnK9hOtYwie05C3BAOLhTPEzXTRE+/wtpqNYOD9jXIA7eF98n1MDpYekvW9UaWy4PWhEWjlhY8eB+8H7Uc3VT4ZB8HpPie97znmXogGjB79uwN/t4cwt3ZCGSzZRgsl8uVz06NvftdH14Jwsq5kbCrhQSBsHCIIBHmhjQir32mdBssB6wbDfaX6yE3Cr2GCQTqcBcnLPbjNfbFauF61KrTJtgdeKCdIxU560eujBp6QQ64QxCCSg4gGb7wkI8iQBzTHx2s9+L3OJZ1Il2I3/1MX7lbbMc5pdHIEuH9ot3wmaALiRClkQ2ntQyX5Mf/7emnn/7tDvvmbGNsSgFwrSD0s9ky9L/00ku2HS2LRwtCkQ/j3Cnd2U1sUmbKG7aPFsJd3G80pW1V2KnjafCbcQt6v/32GyrW9EjCt6hYsFhFWB0iG+Pu8Da6hf5Co3NvFKwSBTkmZAMxqu6LzGR6BiNIS6fhNQnegs7vk6QsFzvU37lQWEZ6byIL8oR8olFUD0uQ5zTvW9aKziHy2VSw7R133NHb0tJy9auvvvrApZdeWmNfsdGHQDZbiMWLF/dTEKm7sb/g9aXXEHu5Ur7Ay+JHLOV5dANIR9nBPuQucCy1TcBtYbESseKOH3fTOA4kw/nUR8ZvwyDtSFqKrpMHRIH1oDosxviy+CmFeM973mOtEbljIpF4YqIVpF2RpDQtSIvfEaGHqr93qQi9IicRjW8JiWzYB2vK18f0XvQZidwjr0sj2/q5M2gel1122YOHHXbY/z3uuONm5/P5T/M87VgDti9qxo2qtcZY1aAvcaFQaHzwwQftIpSrwwyjbJaF90arBekcLF65QCxWLAuIAAGYxYIVwcJAD/GtBC0sWQq8hoWDMAwpcMcXfFeMc7DA2V4uknJ8FDaW/gNxIfKy+BFsCbded/31dtplqVg0R7773eb9xxxjj+vXdfnh/rj7pmvn/ArF59xUBz4LGrYbr6UpRMN7kZXoN+6COCUm+1afgNWla/AzrJW9TZnEffctMldc8c37f/e7u7+9fv36G7Sv3L/hcnUCtg1qhmx8n7+WIauhWCwud6Y4JQGlGTOmZ3p7sSbKlUQ+LUT1mdEdW8RKJIeFojoq9BVCsRCOFi8kpN/90ght49/l41GvlGtorkFxykrlNRY35+eBMCyLhW3vuece21y9PDBgjjr88ArRmFgxqTKDRWKCrAteU8c+6U1El5imgOtlnObAtai0w8QmJKgJOoSu19U/+dVXXjGrX3/djGlrq/QRgjA1zI5zXXPNta/fcssvb33hhedu+tCHTrrD1zjUnD1gx6BmyKbe5hwvW7bsBRYSlsnNN/8ydfjhB5u3vGVvs24d7kqpcpdV0SSEwh1drQN0p0eDoPZJoiyEQDkAkRqAm8R5JLhqDC0uFETkJ/H5fWNUDMrrEIzIBkGahYnIq8iO8URpijh/+ctf2mMdcuih5v0nnLDRe+c1zsdirfQL9twoXQuky7Wk3HRM3tfKlavsNQAsGVxRCFNtO1XvZLwQPtfPZ8c1vr56tfnbyy+bTiY1LF9u9nrrW+05IEw+B9yk2267revxxx//9X//93/f0dfXd0uxONBNV8Dvfe97VpQnKztgxyNEo7YQXV1dq1kAFEE+8cSTqTvuuMtQqjRnztvN2rVdGxxU0wj8QkBZJRyDhYKWwaJh0SktHwGV7TS4Tr1XcHOwbDQUTpEw9tH+LHaOi7vF9n4CnO/y+Il/WB4/+9nPLPETCj7l5JPtNn4kzTgXhgdW3Z/+9CdbBAr5Cf6EA4nSygRubh7KLXrsscfs32rbqTwhWYOyatBwIGQsw/vuv9+8vnSpmYgL2tho9j7ySDNzjz3sfg899BBtNR7o7u7+fy+99NLtd99991IIFleXz58+O1ikqjML2PGoGbKhB0q9gAXx17/+dTWLnVYOe+yxR+quu35jZzqxeOnr4me9sj1EoDwZtaZU0h9JcOrRImuB3xUm1r4KqRMRIuRNjohmOfE3USJIhVwWzoPGodwZE9NZIq+BuYjkBz/4gc2rQQg+7bTTKgTE9TAi+LOf/azNWOZ/df/999uaHeOyWCE1gWtiPw2sk/v3Ro7ROnseCFMitVxLEaESCOnFzDz0jtWrzdK//c0cPmuW2Wv//UnmMcvXrKF26OW77rrr5ocffviWAw444L7f/OY31iXEeqGN7NSpU1NLliyJ+D9J2wnYOagZsrnqqqtq4Co2DZj/ra2tXV/60pfsIiEkjPXw85//3DzxxBPW7J8wYZJZu3ZNxWVSVqwiK9JVlKyH24Rew4KQsIm1A6HJCnLCtCUzkZXCyWgaCiWjwwhRbFCb8VweX+NBp4FQPvaxj5ljjz3WPq9BdMZFcbAeeGCV0M5CkMsnSHjmfWi0DNYFBNLQ0GiWLl1pP68kzUThe96TtUJSKZsasGT5cnPYnDlmr3nzzJ9vv91cdeed9/7mzjuvnXfoodfNmzdvEGI599xzK7k7fEa4hEuXLo24Fq5XLS8Cdg5q5pO/7777auAqNguPL1q06LkFCxa8hcXM4qF51QsvvGiWL6dHcMlMmrSLtXBUMoDVocUnEpJwyvMsWvrQqIjRbyouDYZtsGK0P1bP8ccfb60I9mMB+yKoH92JYn2R/YXNcb7yla/YpD0Tm3gJcHn4m1YVf/zjH+1zBxxwgHnkkUcqLT8FnV96kM4/FCYnma/FDAyMrYjb8evheT43S8SNjWb1ypVm/syZZq8DDzTfuPTSzs9dcsnCsjGL2Gfxyy/bfbHy+A6deeaZ9m8SAxXKF/zhegE7HoHmtxyvn3jiiW+fO3fuMdOnT5+6evXqPU844YT9J0yYOHfMmMaxTz31WOod75hn9ttvrlm69LVKHo4sGn/hK2LFYiSXBBFTkSSRlcRThF00DFwl7tTc/RGRcZnY3j9u5OYpSWiNuxC+K0WLT+WwiAT9yJkEXMhQwMIxCWkLKp9QBrUgV5Eqb7lPkTdl0w/HW6IpFMy6zk7zjpkzzZ777msuueCCNV++8sp5xphKC09lanNOCDGgdhHIZitQLpeLjzzyyC2EiemFggbxwgsvjPnyl69snzt37n4PPfTEFQsXLnzLe9/7XusKqD7Jd1/cGJHKXRcCwSVSb18VLcrdwJqQtYO4iku3aNEiuw9RJkWkfFcpGmYwf+TacqqaW+QnshFkhfA+cLkguRNPPNE+53fIE6FoOmeSJUHVtwRk6VpKAdB7Y9/lHR1m36lTzZ4zZphPLFz4t2tvueW9xpgXdZyLLrqoInojUPsWVpQwGDBg5yKQzTaAWkGAV155Ze3FF1+8dsyY1sXFYnHRaaedds03v/nNhQiuWCAiGN+qUBavcaY+xAHJEBKXRcPfJN7NmTPHkgKkpHIGFj6uzfve976KLqTjKRpUbeH5IrH29a0aZQAzRYGxwGghajJ15513WmLBKpI1hYUBIan/sF+Iyu9KQtQ5sLxUKKps5Ew+b5Z2dJjZkyaZfXbZxRx/4om/uf2ee05qMGatHMSf/fSn5pRTT63oVldffXWl5koal1y/IArXBkK5wjaAxFzj8mI0imPy5Mk9HR0dJ59++umnL1y48DUsIE2uFFSnJC2nz9UqEbaFKLBuWECqkkYExgog5I6Voyma5LBITDaOtPSIlxPE7/qyYJRr40/b1HOcA8L73e9+Z6NhRKwQxHkv6iJoXLYvnwFkqBKNkjdd0z+XxG0IqNKnGSuns9O8fcoUs++0aeaok0761u333PPeSWPHrsUWymSz9hogGuNZXOyrzoA8+KwWLFhgyTBYOLWBYNlsA/iL1//JgsLy6Orq+skvfvGLX951112fvfjii88955xzpqpXsCwX5a74x1C5gVwo/mY/WRuI0lgcuDVYHdRXqb+N7w6ZBMvGd5V8/URkoO0Vpof8PvzhD1dIRNfjtzhlX5Ic1VjLr8eSHqSmWrxXIkRsq8Q/QGbw2/bYw0wbHDR//8EPfv3ep576XKG52d4VycT54dVXmyOPPNKv+mbHyO/nwzkhR6wwooOQc4hC7XwEy2Y7w6v27unq6vrKRRdddMixxx77g9tuu20AS0TahvHahkroRSzW7CkzNJ63rD4xuB7G5bjg1mDlYF3xmqrH/bB33JVQAaNqkyQimwTy5HVEaYiN3sjz5s2zD0YmP/744xtYTpQeyCWSKG5c8iDnw8XC8uE9qkBSBNc7OGj2nTXLrFm82LztuOPMvU89dQmWW3NTk+lzzd0Z2mc2/Fw3Mlv8Mg7IcrQNe6tXBLLZQSDh7qabbiJE++qsWbPO/sAHPnDw0Ucf/cD1119vtQUWpdwpjUQhOxc9RgIs5MMMKSJRai/KQkIoZvHjOmBZJJGLb2Eo/4Xz4KaNVASrxeu30OB4t912W4VsdAwq2LWdPxpXbSUgGbahbklFmoPOsnvrjBnm94sWmQ985CPmlWXLfp3OZLpxg9asXm3WuAjXn13YfVN1mGoz1wN2PALZ7CBABEy3JGoCMRA5fuCBB955xhlnnH3IIYes+u53v2vbb0IumozAQsNKYMFANMViMY1bANFAEmo5AemwuBGqWVjSQPyolAhBI2UgLJL42CbJovER13tkCXF9WDeRNwZYmdPGG2+j/SAU9sH6UaGo7eLnWpFed8015qwLLzQrhoT0n5Sd0G2P467h7LPPtmL4SL2HA2oPwZHdQfB7qqjolEU5ODj4g8HBwZ/ddNNNZz/66KNfmj9/fiuEhPugqZISh7EKcJvUA4cWE6p2lpCLlQNhaayssnexjkRM5MqQccv+uEd+1zsTG1GbRD4iMTX24nc1t8KVk9CNJeOTnZ0d1dJSmQOumehE3b71rW/ZBMFxEyaYvp6eznXr1t2Q9J/BTbzyyitF2AF1hEA2OxEsymuvvZYSge7u7u6vzZgx45oVK1Z8tqGh4YJTTz21SZ30ZQFAGlRMK/mNhY1I7EjLLkRIhtcRX8k0VmTJDIXlbU0S1gcCLmUWJqF8YSSIiFSgiTumJu4cW0l5Ep79iQlKDsSyohcQkSUKOinVgPiYd96xbt2d55xzThGyokwijqOOOiroMHWIQDY7AX6TatyK3/72tzaMPDg4+DpzyebPn/+tW2+99apXXnnleCwBNB1lF2NNsLjlxvCAcFSQqTEx/A1ZsYAhAFo5yMXhmJQlsJg1VTMpu9h4xZtCvCm7RgBzHGVGK5kvPk+L942mpC58FH7iOlLc+eijj9qoFFbOggUL/oD1Mhz8zogB9YFANjsBL7t6HvCZz3xGv3L7T69atWrgvPPOW3H44Yef1tHRwUzcCSxCiAHXigWuMC/WA9EdyEULXwucfBxcFfQdRGW1s1A1NhZSXItJWrjDWTtsj9DLObhGiE89dJKODRlpugKAYC+77DJ7fUTXsMp4H6tXr35gpP8Kx/ILRQNqH4FsdgIQSBOAXxAhAHOXX7BgQfc999zz64ceeuh0rBGIAn2DBcZi1rgY9WjB6lHzb3XJU/tRso5xU9R8fPr06ZX2Ff5iTbJgqgnGimbhymkWFmSDzlStDkvCMe8Rvejiiy+27UEZM6xwfWNj48P33nvv44TzcbOq4ROf+ISdLuHn1wTUNgLZ7AT4tUQeolQqFSHc7r///nYxX3311W9lEbKQcZXQWdTfRouM31nkuFd+fo1xrgaEBBHxGq4UpEXZg1L7fVQjng0u0kWVIDZ0IbUY5fxYU1yLP+HBb1yuxMVf/epX5pOf/KSdDkG1NpYNnwlWV7FYvNe4LgDDdQJA6+GzkkUXUPuo29D3cPOdaxF+Bmu1AWv/9m//ZonGDE1vmLFq1ap3qEATF0pTNo0jEjOU6Gefx8JQeYKygY2LHCEYQwaaH+6PmNmcgkUVdEJKuIKKKHFuMpe5DhUhaaCxAAAgAElEQVSbJllG/uxv3EL0G3KJsIZw7XitWCw+vinXQuSKiQj10ig/oI4tG75kjB795je/WXNjOHT35yFSQNdAX1FvG+7kCh0LtK5kSiVE8NBDD+0+efLkFCFl3CdcBmkz6CRYJtJysG6wMhCSNUdKPXJ8coqHtuNuky8K++/FeETDQ0l5WFsserUd1VgZNQWL60BK7OO6sIYgSo3pZZ+1a9fCRHdu6ud8++23WxcxoD5Qt2TD4qHFAf1vcRP4otcSVL/E4sd1Qd+gKlsWBeQRT0xDq+F9uOLG/TT5UlMosUqYSiCLgmPLSmLB425BYnJz/PCwb8Ekiar+SJa4taOEQI6LNYIlA2lgkXB90lbQjtShT+QWJzVcQa6fzwdyREviPblK9bvpe7Wp/8YbbrjBfOELXxg2wY/PBWKLN/januC9QchkjQe8gbrWbMgkff/732/vriR5cbfd2eBLzRf87rvvthYJuS4QApaGWh4owS4ubrI9DxZPZ2fngRAU2yCmQji4JxyfxaNG6JrcwPMQBotfY1KS3KNqFoxQTRDm3ESM0H000QHS8duRuhE3lSmhScfiNSw8lVXIQmKB9vb2/nlz/n2QM9XnfDZJug3XQPuLU0891V47luHmzAjfUvBdJNM5kM2GqGuy0R2NxUiR4E9/+tOddi36suPOEN5V03KukUVoPJ3JCaFVj+U0lSkiA7QWSEitRS1ZMR7FWTDGWXosZI3OHYlUhE0RhTkfVhNJgWp2pQ6ALCi5QWqQ7s+3iltJahD25JNPVhq887lw/HK5/Ojmfu40DuNRDeoBBNnw2W3vkUF/f8QRlgSxRAM2xKiJRqkvDIttR/cvYZFpFhJp91gXEOCWZLmm3pgGuZ+e05gUTWbAiikyk9tN2DTODWLR8hkoa7daKHu4thPx5+US0b4CItHIYBYvFgmWjVwnrBSRaFJSoDKKcXtJ3qO/D26VcRXvxpg/bfYHNgKwoKqF0Dmnyki2NqLFZ3DCggXmXhdBCz10NsaoIRu+NCw03BZ0gOEsh20JLBjull/96letZvGLX/zC3k3RM7YU5XJ5eiaTGY9rwWKkUZaaUNkm58zapq8NoeXYkH3pJLIuTILrNNLvgpqlQzRYVWppKvFXzdF1HmedbHDepHNqkB4/+fychvPIYYcdtmL+/Pnb9P+jxmM6v1xY4yrURTJbY/FwDKy+O371qw3OG7AhRg3Z8CX2W2cyw2lHgC8Vi/Gf//mfK2fjbrqVeOvee++dQdugDojEN/Xn5YvdTCdAhMj16+3gfz+65EeP1AwrLv4mWTBJLhdEAGlS5qDIlsgBqwZyh9TlHrJg/WmWfqmC8YRm9sEtVEU759h3331v3RkTNnDlPvrRj1Ys0y0Bjd+JGvKZqGNjwMYYVUl96oFL9IfBbwo1by+gPajJuATRrU2fdy7U8WqTiTum1Hy5R4XGRpOhVADrKUYcPmn40wvihGNGEIuxYnAHIU7l1vATkZv3SjsLWY/x3J+4DqS/fZcP0sIdxB1zSYD3brd/1DDgu4LIvDXgMwl9c0bGqMwgVh9gja3dXkjq77s1cNXdzKf9lHJxsNLUnsEPZ9tWDb29lQWepL/IfYjn8wwHlRXgKuFmSHiOvObs6DTqxCe3yHhlGCJetRyNvDal+p19CZ9jsfHz0UcfHaSNZz0Jq3wWH//4x231PLlewXUaHqOSbFJu8JtCsNsL8UmTWwvXp/c9URQ1QjboNZrn5CflGdf/F2tH9U2++2I8bYTjQEx+KFrbJFl9smDQIHCLIAIJwLgcHAuy0SA6TWZgPMtrry2tHCOJ/CJvrIydD4XgXSjY97lu3bpmyg941BPI+KYBfMDIGLW1USpCrCewCIvF4vEsSBY6USjcFYXOjbubsvBZ9ITYZQFV+wzQEiAGSEPd9IYjSE10ILKkTF8N/4cw0MR8QVo9bYrFPjtuWFZQklsnQF48cHMPPuggk83lKH+oy7oDVdIHjIxRRza6y+tuXA/wBN7GYrF4ktwLzHPCxES5VPNkBeLmZusiMssaIlJDKt+iYLuh2doNVlNQyDopWmQ8HQXXC4KBqOnop2bnLChmmEM8sqbemH/F/gN2/kE2m6toRanYzCa25zgQVC/dBydONB85/njzwyExv77uDAGbjVFHNhJDMfnr6Y7jCjU/VC6X29TG81A3SQDrBILBmuF36R3GRYBwQ/zok/FmQEFKWBCQEr9XK2GQ5UKGMOdXuPud73xnZTIC5+Ez1X5vzGwiRb9kenoGKgWnUWyueOQ1PgdrurrMKUcfba/tzw8+CLm1aWxvwOjEqCMbRE1Sxc8999y66XXC4maRXnjhhe8jA5lFTDRtzpw5zEOyo5G+/e1vG6ZqkkcEcahkQLktxptVJYuC40BaPCApuZVJWo3C3Cx4LBusKXrKSFzWCBkh3imvq2ut6e+n+DO3wbXEyxas9UVHsPHjzaquLvPbP/3JXte6gYHtX0cQsFMxqshG/Vyuu+46uyglYtY6lFm7bt26o3CbcF/22muvdbvsskuhq6srq17CNJkieVAjbCEIDYpjfy3seLiZ7dSWUzOp/GF0vE4ED7KBvHClDjroIGvJKNzuE5TcOY4JGbH/Y489anNM2AcXUJaSv18l4dB1Dfzr88+bV5ctsxZXd1fX2Lr4ZwVsMUYd2fC46667auBqNhuH7rnnnlNZvMVicWCfffZ5ddy4cW8hKoSF8rnPfc5ccMEF5te//rVN9GPRop9ArKeffrqtUcLyoO8NVglEy2fBT7QWZpHTkuHMM8+sTD7A4mFbCAH3SRoPrg2kp4RAzs9xgZ+7xDZEjzg3rSIQlbWfRsn40UBZXRCVdXPpOoigPHS8nm3xIQbULkYV2dgZRM3N9stfL02VdPdfs2bNx7h2xFzW9OzZs6l32EfNr6ishmSuuuoq26qC7naXX365Db2S/Yqe8+CDD9oB+xdddJF1tXhMnDTJLHnlFfOT664zBx96qP2MEHy/853vWIuCPJEXX3zRPk/k65prrrGZsFgeWEF8jlSRf/7zn7dh+IULF9pEP6JSZPzS5uGKK66w142Fo9Yael+ycGQNSdPp6+3l+XImk9E/qrZ6hARsc4wqslFYON5wu5bhZjkx+/scddxrb2/vnTt37hRNyjROi6JVwq233mpuueWWSrTtX/7lXywZYCngbt18881W3GU6AYt8xcqV5oqvftV85OSTzTuPPNK8+MIL1vVi27POOsu6Qcccc4y1SiAg3CD6++JOcQ7pSRDTpz71KVunRVc+2nt87WtfM//6r/9qX0dr8sf5qrTCb1XqFZmKhKyv59yruoxGKUUgYGSMqtooDWWrp0xOFmNXV9cpiKTq73LIIYekZ82aNcMnG1wkFj/C9w9/+EO7yPmdRY7rAzlgsdz/wANmwQc+YL70+c+bSy+/3Pzxz3827zjkEPO+44+3rTw5BoWqJKJ973vfs1M6sZYgEVwljokmpBYSmuAAqWHxYN3gcqHvnHzyyXY/GphrjK+yg6XPqJRDUO9j93pKrw0MDGQRpJklXk9417veZf8HAZvwXR8tn5FCsf4w+1pH6o0B+B9GP+l15QcHHHDAtPb29jyL2hd7+VIfeeSR1rJhXC8LU9XKWBSQAoRw/U9+Yq0QLA+0nu5168xrS5eahnzeEhMCLsPqIJx///d/N5/+9Kct8Vx44YWVIXPxLGC0HbZDD5s1c6bpXLPGPo+mtHLVqkqxpiKAfgheN4J4lrPgSLXhnnvuqYv/Wxy0yghTHkbGqCEbtZrUFMlaBwvTJdFNHDdu3DzIQpnCu+++e151SCa2OLEoaIfKgDe0E7W7VISJrGL0nWuuvdacfdZZ5utf/7olka41a0zKuUNYTywOkgLRbDjPP/zDP1jN5rjjjrPHjSf+oRvhqtFCY6+ZM83cOW83jz31pBk7ts0sX7rU7uPXUMULPyHVJKtT29FS4/e//72NgtUTIG7Ed647FGIOj1FDNmpz4E+brGWo/06hUHg/hMEihGzQUOgToz7DfiYuDywIKsEZbsckTVk2fnIehINLJauF40Mq6EF5Z90Q6uYzQ2g+77zz7DbHH3+8XTi4BpBavG2Fut09+fTTZsqUieb9xx5r7rz9DtOxbJm9LnKD3sgqfoNUJA772ct+6B2rrlQqTcel47rradFifdICBJcyYHiMGrJBEGUUSr2UKFx//fXmy1/+spk1a9Y/qp0n7gSjaImmQTx+sp6f+s9rEM5f/vIXu8hNrHEWD8gCDYZIEUl6WDOylJR3o32Yp33OOeeYmTNn2uc4PqSCniSxV10C1aHv/j/+wXz3O/9hLZqXXnutIvr6Y2T8fjrV2m94xZm2wKue9A/eDzcNRPUwe3xk1DXZ+HfPrWl+tDPANMjbbrttz+eee+4g5bCwyHkfWDeItPG+M1qwtrZoKHRsdRqVDegLL8LhNZpUYS3gAvnJf8ZZHK740/YEJrQO4fFwTdcr9VKKNPX29ti7+f77H2CuvPI/zJNPPWmto8gjm/j/aKT2o64KPNK88HqBb02G9hIjI0zE3ImYNWvWmeS4qAoa0L9GUTVfs4lrKLyOG8adVZnSvkUhUVaznPzsYlkcvhDMdoi9mrqJW4CLBhGg5ShCxd+QI+R1/vkXmLlz51rxmMrtpNYSvqUjxC0cVwTaSJ5RPblQirYFotk01DXZ0FfFuBlManheD1BB5NNPP32mWn6yeFnENJDq9ZpimZgbJaKAHGRJYBHh4vglC/GKa9+aUEW4GnLJWsIlQ1zGIiKPBiLhM1ZHPdwnegRDQlhm9913r1m06C7T09NbGSWTZMn4qNbrxhgzO4qiTBRFdTNL1+8jFDAy6ppsFL259NJLK02cahksMqwDxNpisXjE3Llzx6vuCMKBeHCjsCziGoBPHjoO5Mr+WB2UCfgi7EhkY5z5rzwYHnyeaCZYGIi9RPa4Fs3yhhB5qDbrgx88xnR0rDArVqw0ra3NFSvGr+4e6a4vchwcHNytXC7PMMa8WNP/RA9+5XvAyKhrstEX+qSTTtrp17I5IAnusssuu1DV2CIPWRFq4+BrMPFOexJs2QaNBavD12N8tytOVCIcX7vRNugxlCr8+Mc/tq0u5TpBSm6QnNVvIMxTTjnF3HTTzaaz83UzduyYjRpmJRFmEvkozN/c3Dw3k8m8WE9uicozgis1MuqabD75yU9uVn/dnQ3EzzPOOINQ78SWlpYFauspy4IoFAsZKyd+x4y7UpoTpYiI38wqbtHE68TieTA+8Rg3cQBRmUbg8dd0rcakTF9/n3nuuaft77y3ONkMh/g2jgSnbetWq9sbIQq16ahrsqHSuN5A8eKUKVP+kfoi3BZNg0SYJZyNBSF3SEh5c6BUEiDrRHfVKDZ9MhWb2+0TkG95+BaQv8jJyUmaGPBGnkzGTJ4w1nSuXmXSmWzlekdyn5JIRlZbsVgch2tYTwt4JI0q4A2EaNRWoJpbMBxYTK2trWe7Qfp2oRFanjVrlnWFNL7WP67f8tO3aBS1Uo+aODkk9f813gLx9RWX65JIBnHoeoq9RbN6VZfJZFIbFFkmHSP+WfmFmSKbcrk8tt5cEpF/wMgIZLMVwNVAY9nMuph3FwqFyf4+LDgEWY6lkHe1cLFPOoLmFsXzbEwsDG48y0OkoLC7v/D9UgkTIys/N6aju9ssXbnKzhw3CaH3pN99+H87HWqsmyG1Pf5d2wVJbmpAMgLZbAX4ohHG3tTeuc56+N/SZYyr5sbaIXM4aaEbj2D8RSt3SxMqFcb29/F/+sf0rRpZWJoD5YvGJkZcPjjvsuXLzfLly4wq1uPvNe5ixMnFf57jFYvF8RAn2c/1ZN0QtQukMzIC2WwFEFKJ3JhNEArdnXvPwcHBI9TFjgUFUZDlO3369EooNYls4nk2IgmEWX7HFUuyRpJC4LKM/NEu/F4tbySJbLiGbpdtTKg88gow40LxcK6Y8chm7dq1EzkeuT5q6F7r4HPjf2ctw5BzMywC2WwFiCSpqfhI+RauLOCLsiAibzIkWg0umUoH4tpL/HdZP6qixkqSpRRHEtmk3BA/uU86r18cWQ0+QUAMapDlC8PVrBkfcQJz17DHcccd1/qf//mf3dRm1RMoflVRbEAyAtlsJTT7eiTdJoqi/MDAwGlqw2A84iC/hm57/B6ffGkSXCLjTS/AssGqUf2Sr9v4+8f/9hMAo1hbiDhhJFk2yjj2heVNIZn46zE9Z/xZZ501tampqe5WLdZYiEoNj0A2Wwk1D49PcvCJgzt/T0/PSfl8Pq852sbrmUz2r3E6STV3LF4fpW3VoJyFT/axP9y/Wgax9o/rKgqvj2TZpLym5XK74pZNUgQqfh3+Z+Xaj6a++MUvjsPKw7WsJ1DF3x8mYw6LQDZbCdyXl156aaNFhaWCeKxQdqlU+nw8h4TXiEBpYUn0rQafQNSMSvvRQoIm5G8Mjtu4eNOHyMqPbCURXRJZiGxwG/x6LP/1avkn/naRN1tKYvtTTz3VPG/evB36P9xWKLj6tIBkBLLZSvDlUq2QD0gIIuGO3d/fv28qldrXt2qM16CdRSZXbDiNI4oVWGpBSwfi2PGGW4KIRGFl34pSO1WJxNXgH1d9b3wLxs/9Md72Sfk+cXLyojmTauDfukUI+TbDI5DNdgILjgbjtGcolUrnqYOgv2CV1IcVFMWK+uILc7iSA4hCiX1JEamkMgYRi9w9fyJC/Pxx14drwSpT4644+SVpN3HCkevk13K5ZMWpQfsYnQhksx1BbxoW0dq1a09WWwn/Ts7fCIu8Fs+TiWMkl0S5Nj5ZxIVon0DiEzT9bZNC7/45eUiUVmsLHT9erhDFyiU2sGj007lRY5iM2d3dEmZ+j06ELKTtA7uOEA3f9ra3faCzs7NN85P8OzsuFMl8/BRR+P16kx5+Mp7AMelvI+tE1gpkINfK12gUMo+XLGh/EY6/rx5K/OOaEcX9CJhPlkmajX8+W9DpXLpcJmMa02nT3txsGpuabDqyT8r18AgYGcGy2T6wq+zGG2+kQdZnSPyLWwtyI9B14qFoM0KRpIm1ilALCCwC6UKKSum82jZeuxQnG//64haPnicHhnOokNQkuEv+8f3fVY5gRWF+T6VMI3PI83lTaGyExCbU4P8zYBsgkM02BMl9AlXcl19+eWsulzucPBpffNXixipQhzvfqhCq5br4kRwl1fFT4XdZSXGXLX6cJOsm6TUTE6g5H3oN5DZc4WScaCQCi2wiT6vBUsrQ/KxOJ2MGjIxANlsGbucbmCrkhuASSW+wiyeTOZ/POCl8jMDa3t5u+/HIXRkO8UXvJ+Kpkblmc/s5NIIv7iZFh/ztUrFiz1SsVYU0G8gtbnUlkZb/vo1HMAO4c3oeUiRB0Jj6SrAJ2GQEstl8JDroEIfxqoCd4Ht2Un8WN9/b9hzGAvJ7AVdDXGD1j+m3FlVRpL9dPKFPiLs+1XJu4gl4kBl5PTpfEimZmG4T741s90mlosiN+4ZsMlFkcqnUhPg5A0YHAtlsGTawanCfWEwsQC2oYrF4dC6X2w1XSS6NoCQ2IlEah1tN8zAJmk2clHBr3DiUjSyL+DGrJe7FCcLXdvyGXToGzbUgTL9gsloiX9J1cLycMam0s2pAiXMa0+a+l6G57yhDIJvNxwariYXIcLeU103PDAmz50nDifcFZjtya9By/ES+TdE+hJTXtc/PKk4KNSe5U9VQrUbKJxu5bNVyaJLgH1OfSRrB2AuDR0N1VlPwSo0xy7bvvzFgRyOQzVYCrUY9ZfxeMLlcbr6mPfhahZLwiOig18TD2JsDP9EPopGGEreEhtODqgnGPjn4YrOOi2YznAWVRHJ+Ay/7dyZjxa+Uey98XtlsFs1mQiCb0YdANlsBkvHQXZS2L/T09Jzb0tLS6hpC2Wf9lHxFopQ5vDn6RDXrIXINteK6SFLYPL6fSSAa/3z+6BfjiI28HpNgKVXLrzGeO2bJK502TRRfcn0im1zOZIfOEb6XoxA180897bTTzB133GEriesFKknww9os1NbW1lMhoiihRklkA9H4g92SUC1aJKRiDdCxNnw3yh+HO1IXuXgY3A91Cyqa5P3644FHQlKNlo3AMUXT9VO2Gg6WzVDeTmM9ZpuG1L7hUTNkQ7Yt1dOHH364nV1UD6iSVv/Wtra2v0P41TxuEyMGFhwWkbJvR9Jq4oTlP0+IXeeRZeM3EVdZwkhWji8Kx8/lW0kcC0Gbkbs5N3LXJFg48QTFDRpzxULrulaO57YbmxpBA6o16H0FVEdNmasIrdQT1QvZJKFQKHykvb094y9O4+WWsPgJF9MOIqmxeRLiQq3xFrciUSqHiLtDfj1WtfC6XJukIswoVmLBuRjFS59gFZf6SGoL6h8LZDzSNQrd09eYbOJ8HvYZ39DYWHdlALwvE+q6qqLmfONq7S3rBW1tbR+ETDR8zsTqfORCUcKwuXqNSciVkbWkjn1q7+n3Ax4pGhV5pQy6TmUGixDlkhFh4zz0suH3uL4TF5f99+7Db+5us4r5rPiZz5tcQ8O41paWuvq/W/dy86ZsvOkQhLhti7nNzc37Zjwdwn8QfSlHkbUIICSzhclr/j4qimThQ9SQjV+JbWJ6jA8/FO8TjYsKbUBYIjTyajgPhFOtT3C1UL3/e8oTtW10rrHR9BaLpm9gANF4rCJr9QJLrmE65rAIZLMNkclkPkJGsKItKf/OTpiXL+TgoNVqWLRbu5hcXooll5yb3QTZ+E26/DYSSfvr+jTVgX3joXoTs6ggmvhzJkZqw703a83weUDK7ppVpd5LSJ08G46z3f5TATsDNUc2I9UI1TAad91114+TO0NYWHpN9Ea2rMnziCIrDvsTCbYGHFtV2Ii2WASybHzXTdZWPJrlsp0rUx1U0EmkLEkAtiNcurs3Epyric9+fk2F9LCetJ9G7w4M2PPlsdQymckpR0T1gmDZjIyaIxtGYtQjstnsKbvsssvEAawDiAYXwWXJUvOTd4sKTQKy8aMxm5KBmwQtcBYzbpRaTcQjUkIS0ZAjpGiWhGIWvQTnpJC5cmx8DOcOxl0otoyS5ksZY5oLBVPIZttL6EZ1NPTNvq8QjRoWNUc2P/rRj2yko178dRb1N77xDfPy4sWfaigUzECxSDGhzYxlqZS1YBFE3eRJLBG2LSfM9B4J1XJvIteL2I9CGTe5MmmcLc9BGupJI+uH/KCkFqa+u8X4mqTrHS7hcKPPjeZcuZzJuWuHLMe1tprVQ59ZMwPwsnU2hjdgeNQM2SjyccQRR9TA1Wwe+orF6V/4p396Z4Q4ywLl/TjCiSAaT/tACEWvSbs74Ug5NqZKo/A4yt6cbu0z4FwT6TmCGy2zAdGotw7b+mRla5jccdU3h4JTM4zrVO19+ICEi84KHNPQYNoaG+3vLtdmPJGd0giD/2oNgXCGR02RDYuDzNR6GSz/7DPPmF/dfrvpWLPmtF2nTjXYA5F37dFQf5bK7zywariLj1QPtTlfXOkyfqha51SDK5EIhMFz0pU0e4pwvJ9x7B9bYXCOoexh371KyjquRpb+c1R54y61IJZnMqa7r28oZyiX280YMzWdydRVfZSfOxSwMWqGbPjyEg5WSLgesPfee5v/c/HFZvXrrx8zvq1tKMoyzEQDRFgsCHrf2HagLG6+nI4kbHFjrOhxU10Vf8CcSCVy/YYhFv5WY3W5QWwP8fG8cSUEgn/tGRc5YtslS5bY/TXZcyS9qVqZhD1+uWwKCMJYWi4/qIU8m2yWcvnZ6VSqrsiG/33oi1EdIfS9FWgfN868b8GCPX78/e8fhh6T8uqU/NCz8TJ9l69YYR5/4okVBHbz2dykxqbmVDmftxXgEydPMWMbCyZXLplBRz6qdxKqlRP4zc7VTF0WFNElHjynnBpeg9ghv+GSC+MWChEvXDCO5VtQSWULw5VZSCPCrYzca41oRvm8aRxy+5oKMYG71gHZ9NfN1e541AzZSAeoF0AmWCrLly5dOKatzeoy6VgavnFfQIV3x4wZ0/v66tX/vOiOO27fY889+wvZ7K65NZ2TB1asmNKXSu82db99923dbbfp6YbCxDHNzZnGQqE0ZsyY0tSpU8dTCYFVogmbkId/HiwNuUG+KwWZqDOgsnWxqtg+aUZ3EkRgmhclC83HcCHwpL8j1zqVfBusuwYXubOkM9Sao7SexL66+lYEDIeaIZszzjijBq5iZCgcjMhbGnIDPjRt6lSzYuVKSzjSmyS8+uKwSaXKkydP/nlfb++yztWdZt7ct7+y79gG05Q3Zm1Xp9nr1cfMT/9wj/n+ytX0GM3tv//+pdmzZw92dHTMaW9vnz9x4sSDd9lll3x7e/vMCRMm7M05EHlVOtA6NHdpg4kKilJxzRCEb4GMZM34BCIS9XNsqu3rE05Sgl/ketk00adZ9WOlkim6bn25oaZj44L6MbpQM2RDcV89QIs0k8uZtpaWQ5symQN716/foGteYqnC0ILrK5VKY6fvvvuy7q612SXLVwxOa8mZydm0mTh5ohnfmDNHF4rm9jUPd75W7LP7LV682Nx33333G2PuxyKZNm0aVuDU+fPnH7T77rsvnD59+vsmTJgwHvdGZBKvV1JrUo198TUhH8NZOLKOsGp8PSlOJCOJw5UcIEeA2r6PAlWsG2Z+D+l2G5pOAXWPmiGbuFley+gvFu0CaS0UTs6Uy6boLZxKY29XBZxWctpQPRBpJLbSdGz72Mz64kB0d+dgaXG6YN5byBmTy5veTLcVSU2xbyij1vtcsKaIJHV0dCy78cYbb02n07e2t7d//Pzzz7905syZu/GaPxYm3hS92gTMJMIQ/G25Fn/q5nBIOm7lmLh9JA5mMkOZy7hODQ12bhQNtFqGyGZ83XwhAjYJNUM2hF7rATbLlX40Y8eOyRpzhiFSg/jr6p9AyYnFaek4uoMbszplzBqXY1jK8FMAAAuUSURBVFNsTKVQWcuPphui8kBkTs8OmPbBonWNTMKC5Vgq4nQaEAmQ1954443ZSy655Co9j6gMKUAwEodl4WQ9YhTiFo1fLS63EeJbtmyZ7Tnk5974iEemqiUg2nIFVydWxCWj2jubNTmXgOgSEZu3tF1qQG2iZshm5tSpNXAVIyNSiLNcPnGwXB7f4FpbokGkXb+aSL1NlBTn6nwgmsgYG3fOGRPljBlMZ7PZGanUwCuptLll0Jjpra1myvTdzJLFL5t1Pb2JJCyxlgeFn//zP/9z7e9///u/P+KII05/9dVXhwoae3ttiF1RI43O1fhcDYtTwp9cIk3TVPN0AImx/9VXX22ee+65qjeGTUnycyerzMoi7C2hWNYgFlw+n28KM79HF2qGbFJ1EuK092ru9uXyh7FmbGI/d2IiKK59hIob1VaCvrq5oQXdEbnVaKkonS6nhsgoM86Y0nORMS80tZiD3vl3ZsykiaYvmzPdPRsuOFV6K4/G1TENXnXVVZeMHz9+z9122+3Q559/3lpHaj0aF4y10P16KH+cjL+9cR0JIaATTzzR3HnnnebJJ5/caktUxJJxbTf6scZc5IxeNoWGhomBbEYXaqbSLaqjRzmVmtiQTr+3wQm/GWfVGOcyyR1Iu1nWWD4QTjad7nA/K1GqVCpVZhYkG7YUItOYLpqewXVmn7fNMgfOnmUKmQ3FXj+HRroMC79UKr3wne985/PPPvvsA5MmTapMbpDuI2LhuhpdyYTC5XKT5PbwO9sQ3YKs+Mlj//33t0WkfkV5HEnPR7EOgrKoIjcq2Db9clYXP9FzmvL5MPN7lKF2kvpi9Tu1jHQULUiXy5mUa5EAmRSouCba45LV0HJIzEPezTk9J4qiVRVdwwtJw1/pVCqdgfuHiqJNX++AyfaXzNwZM8zrK143Tzz7bNXkPvU07u7uvveWW25ZuPfeex89fvz4o3fbbbeDs9ns9IkTJ6bVgF1V4XooQoVllnKLH40HMvOzhJ1rU5kWYUbIrdmo0tvr4GeTC0mAw6VzzbrKDQ1mkHqp/v6h5l2ZzLQwrG50oXaiUdn6SGYuY72USsdmBgaG7uKUWWQypjmfN91k6WI9sIDoPMcgN1eU6Rp4d+g4vog6FL1KRenyhoZmuRSZgVRkjp43zyxZutR0r1+fWM6hhcyEzYGBgdeeeOKJHw0MDPwol8tN22effcaMHz9+WqFQeNeuu+56eGtr68R8Pr9mzJgxg9lsdm6hoaEhl8tFzfl8ulgsposDAylIRpaPjs95IQElX1Ybzzvcc3q/fD62FQcWlZdx3YdeNDho3as5c+aM3WXWrOzDf/lLXZGNCD1gY9TMCq+X4stUFO2ajaLjss5tkgAs68BaCK5LX9YVPwrpdLrDP1YssW7j3nQpY/oHiqax0GBamprMiu7uYa+NBct1yIVas2bNa88888xrfX19z/T09Cxim0mTJuWmT58+QL1Usa9vv5bm5nG5fL7UUCike3p6Mr29vVhB6YZ8PlvGekunM7lsNt3c0lJsbm5uXblixf8qNDbO2dzPzU/yI3GPzy/t/h50GhGWztq+PjN2zBian09dt25dez6fX1YvxY1yc6lYD5nPG6NmyGagDiwbLJTc4OBReWNgl6HwNg8Ixmk0moKJO2C8HjPpdLqUSqXIsxmyiHRMrBJHM0lfUBshKg3VSqU3oxJc1ggEhJXCdVBAGUXRwMoVK8yK5cu5pseNC9VbF9BZaopg9fYPVfqkPT0tn8ud1trWNmdz2j/4Vo60LD6bIpoSnxEi9eCgbQna3tJixrW1mbWdnZknH388W29tG+qplmtHo2ZWePeSJTVwFcOAvittbWZMa+u7bbTGCb0QAC5gE3OienreyNDVnQ5BdCivZT1kk3avlVy+iY3CIbhuh7lDEmOl72RdmJk7b2OhYPKuPsrvX8O2fj2V8mx4fWBgID1QKrWWtyD/RcfxRxTjkqaHNDCrBeWUKkAVZnMzbJbW51kvCC5UddQM2Xz6/PNr4Cqqg8Xy1BNPpJ996KFjcFOwbFgc3JlJs1/f0GA6caXcWBIyYiM3iYDFmc83lDLp1BosjVV9faafxedaZCIit2niQOwKUur45/J3tgU2dQH7oXCnLeVTqVTDJufTxN+LO6fcPatvoOGQROhyh0puZnkun6dAanImk1m8jd72DsGWfjZvBtQM2czZb78auIrqQH/pWLXq3U8Vi+NyrnCQNpY0fsKqKbS22rAJSWrWRiiVrGi8vrHJrOhYZfqLa5eXS+k1Het6zUChIZXNZKJB96Vc76JTzY58fFgriEVKqYFb9DsKfv2TW0TpqErN0kh9bfyIlF82kX4ju9pagRAR7lvDkDs6ram5eYe9320BXGpq5UITrY1RM2RzyRe+UANXUQWu7CCbyXx06q672jtxy5gxfS8tWZL5y8MP9xTy+c6JU6e+/sry5eW169d3Dw4MLFnf17fERNHqKRMn9rS0tnb9+bFH7s+k0l2z3/o2097SXGmzYJzl0uOKEZOwvlg0e8+eTabwDjXTfQvI6VG58uBgblP731RDZX9VoLsG6Lh3Pf39tFllwgJi+7TWpqa6WrhklJdo/xGsm41QM2RTGGorULNwCXI/L+fz/5VKp58vFgqv3/qHP2T3O/DAnpdeemntbTff3JfgBdlw9Zx99jFd6/tMYzajEP9G26WTnnQgHMwETVqK9vdv3/ZMflsKP0Lo3J7cQKmUSbrOkSq9/d8rrxOZcok0jHaBcCCbIqUSxpiWQqF9xqRJG+T21DpsI3cyrkNd10aoGbLJ1ng0ypn8t6edS/HXJ580F15wgfnkWWfZ15ndrTE0dJgboPqaBdPUZDWcQj5n8iOE96s5SGlX/lDazm6U2okmde9zLlAuZUzWXsEwLSqGqyI3cWKCcIhG8burWGf7hqYmolP7vPzqq0OtU+sEuLoQZj1NhthRCG1BNxN2obiFOHny5MrOWB71OvPKOKJRGYRJaHrlNJdcZGtIty00b6lMAejAAA3kzaqODiyczJLOzoqQXg8oOTc3W0czr3YUAtlsIdAwiDQJ9Rzy1CgXtaio1hTL0BLDfWfiVk+1/UwCccWfwxroIypF2L1UMn947DGzbMWKb7W1tX19wsSJlbng9QC+BytWrLCub8CGCGTzJofme2PRlL0plXE4MslHUZStRjQmgYR8bFSiIbKhAZlLLhwsl19I9fd/LpvP/1eTy0PKujB5PSCFG1pnuUE7CoFs3sRQAt9IExYE3Kik78zmEIHqoNTVEPQNNW/vzGWzNzQ0Nn6l0NDwGkL4gEuI3JIkwp2FyljhEI3aCIFs3qTwNRp/imY1uLqfrdJsNiAlqr77+yGeR7KZzA1tY8bc3NrS8rzxOgWKjOpp2UZ1dr07EoFs3oSwnQRd6cJwrtMGGApN51Ox78ymVHz7I25cD+PObDb7m4Z8/uctTU2LWltbu7OuJUdUZQZVQP0jkM2bCOpfk3ctJPT3JmHIzcqZmGWz0TQFz0LS8dXUPJNOP5ZJp28qNDbe2Nra+ix5QxnXSjUIqqMfgWzeJCi5KZgkFYpgNiczNxrqu9xUjqKcpmpaQDZqkK58pHI5yqTT/eVyuTebyXTnc7lHs9nsDS3NzbcXCoW1WdcKFCsnpPW/eRDI5k0AyKGpUDAFxsI4d2a4UStJyAw1JC/29vQsbmlpKabT6eVRFK2OoqjTVbN3GvdzoFjkuc4pkyZBNGuz2eyStCZPOCtmuFB5wOhEIJtRDgmtza7Dn2Zsby6ghLFtbQ81FgpHNRQKazPpNFMi+o2q1R1xED3qXrfORpzI2+F89BVODQ5WBN+AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7Q9jzP8Hc6pNNIGGD5gAAAAASUVORK5CYII=" alt="elias"></p><ul><li>after <code>![image][image id]</code> write something</li></ul><h2 id="HelpLinks"><a href="#HelpLinks" class="headerlink" title="HelpLinks"></a>HelpLinks</h2><ul><li><a href="https://direct5dom.github.io/HTML/PicToBase64/" target="_blank" rel="noopener">图片转Base64编码</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> Base64 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LightCVM and DB in Tencent Cloud</title>
      <link href="/archives/lightCVMAndDBinTencentCloud/"/>
      <url>/archives/lightCVMAndDBinTencentCloud/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>在使用轻量级应用服务器的时候发现连接不上数据库</li><li>查阅得知,腾讯云内部轻量服务器和云数据库默认内网是不通的<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>到轻量级应用服务器 console 选择 内网互联 tab , 然后选择区域 “关联云联网” </li><li><img src="/images/lightCVMAndDBinTencentCloud/Snipaste_2022-03-05_16-38-12.png" alt></li><li>填写信息建立关联后,到 私有网络的云联网中进行确认配置即可</li><li><img src="/images/lightCVMAndDBinTencentCloud/Snipaste_2022-03-05_16-41-01.png" alt></li><li>值得注意的一点是，<strong>云联网的设备是需要付费的，但是如果设备在同一个地域就不需要收费</strong>（如：上海一区和上海五区是同一个地域）</li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://cloud.tencent.com/document/product/1207/56847" target="_blank" rel="noopener">内网互联</a></li><li>👉 <a href="https://cloud.tencent.com/document/product/877" target="_blank" rel="noopener">云联网</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CloudServer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Something About VMware</title>
      <link href="/archives/somethingAboutVmware/"/>
      <url>/archives/somethingAboutVmware/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>Bulid server in VMware </li><li>Some issues encountered<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="VMware-Workstation-and-Device-Credential-Guard-incompatible"><a href="#VMware-Workstation-and-Device-Credential-Guard-incompatible" class="headerlink" title="VMware Workstation and Device/Credential Guard incompatible"></a>VMware Workstation and Device/Credential Guard incompatible</h3><ul><li><img src="/images/somethingAboutVMware/Snipaste_2021-12-29_20-51-30.png" alt></li><li><img src="/images/somethingAboutVMware/Snipaste_2021-12-29_20-52-08.png" alt></li><li><p>👉<a href="https://www.microsoft.com/en-us/download/details.aspx?id=53337" target="_blank" rel="noopener">Device Guard and Credential Guard hardware readiness tool</a></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Set-ExecutionPolicy RemoteSigned</span><br><span class="line"></span><br><span class="line">./DG_Readiness_Tool_v3.6.ps1 -Disable -AutoReboot</span><br><span class="line">    </span><br><span class="line">./DG_Readiness_Tool_v3.6.ps1 -Enable -AutoReboot</span><br><span class="line"></span><br><span class="line">./DG_Readiness_Tool_v3.6.ps1 -Ready</span><br></pre></td></tr></table></figure></div></li><li><p>close Hyper-V <code>bcdedit /set hypervisorlaunchtype off</code></p></li></ul><h3 id="vmci-sys-incompatible"><a href="#vmci-sys-incompatible" class="headerlink" title="vmci.sys incompatible"></a>vmci.sys incompatible</h3><ul><li><img src="/images/somethingAboutVMware/Snipaste_2021-12-29_21-28-29.png" alt></li><li>open .vmx file, set <code>vmci0.present = &quot;FALSE&quot;</code></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li><p>some setting in dnf</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line">.encoding = "GBK"</span><br><span class="line">config.version = "8"</span><br><span class="line">virtualHW.version = "10"</span><br><span class="line">numvcpus = "4"</span><br><span class="line">cpuid.coresPerSocket = "4"</span><br><span class="line">scsi0.present = "TRUE"</span><br><span class="line">scsi0.virtualDev = "lsisas1068"</span><br><span class="line">sata0.present = "TRUE"</span><br><span class="line">memsize = "4096"</span><br><span class="line">mem.hotadd = "TRUE"</span><br><span class="line">ide0:0.present = "TRUE"</span><br><span class="line">ide0:0.fileName = "vmfordnf.vmdk"</span><br><span class="line">ethernet0.present = "TRUE"</span><br><span class="line">ethernet0.virtualDev = "e1000"</span><br><span class="line">ethernet0.wakeOnPcktRcv = "FALSE"</span><br><span class="line">ethernet0.addressType = "static"</span><br><span class="line">usb.present = "TRUE"</span><br><span class="line">sound.present = "TRUE"</span><br><span class="line">sound.virtualDev = "hdaudio"</span><br><span class="line">sound.fileName = "-1"</span><br><span class="line">sound.autodetect = "TRUE"</span><br><span class="line">mks.enable3d = "TRUE"</span><br><span class="line">pciBridge0.present = "TRUE"</span><br><span class="line">pciBridge4.present = "TRUE"</span><br><span class="line">pciBridge4.virtualDev = "pcieRootPort"</span><br><span class="line">pciBridge4.functions = "8"</span><br><span class="line">pciBridge5.present = "TRUE"</span><br><span class="line">pciBridge5.virtualDev = "pcieRootPort"</span><br><span class="line">pciBridge5.functions = "8"</span><br><span class="line">pciBridge6.present = "TRUE"</span><br><span class="line">pciBridge6.virtualDev = "pcieRootPort"</span><br><span class="line">pciBridge6.functions = "8"</span><br><span class="line">pciBridge7.present = "TRUE"</span><br><span class="line">pciBridge7.virtualDev = "pcieRootPort"</span><br><span class="line">pciBridge7.functions = "8"</span><br><span class="line">vmci0.present = "FALSE"</span><br><span class="line">hpet0.present = "TRUE"</span><br><span class="line">usb.vbluetooth.startConnected = "TRUE"</span><br><span class="line">displayName = "vmfordnf"</span><br><span class="line">guestOS = "windows7"</span><br><span class="line">nvram = "vmfordnf.nvram"</span><br><span class="line">virtualHW.productCompatibility = "hosted"</span><br><span class="line">powerType.powerOff = "soft"</span><br><span class="line">powerType.powerOn = "soft"</span><br><span class="line">powerType.suspend = "soft"</span><br><span class="line">powerType.reset = "soft"</span><br><span class="line">hypervisor.cpuid.v0="FALSE"</span><br><span class="line">extendedConfigFile = "vmfordnf.vmxf"</span><br><span class="line">uuid.bios = "56 4d 87 ee d7 81 67 f3-2d 2e 3a db bc 71 88 24"</span><br><span class="line">uuid.location = "56 4d 87 ee d7 81 67 f3-2d 2e 3a db bc 71 88 24"</span><br><span class="line">replay.supported = "FALSE"</span><br><span class="line">replay.filename = ""</span><br><span class="line">ide0:0.redo = ""</span><br><span class="line">pciBridge0.pciSlotNumber = "17"</span><br><span class="line">pciBridge4.pciSlotNumber = "21"</span><br><span class="line">pciBridge5.pciSlotNumber = "22"</span><br><span class="line">pciBridge6.pciSlotNumber = "23"</span><br><span class="line">pciBridge7.pciSlotNumber = "24"</span><br><span class="line">scsi0.pciSlotNumber = "160"</span><br><span class="line">usb.pciSlotNumber = "32"</span><br><span class="line">ethernet0.pciSlotNumber = "33"</span><br><span class="line">sound.pciSlotNumber = "34"</span><br><span class="line">vmci0.pciSlotNumber = "36"</span><br><span class="line">sata0.pciSlotNumber = "37"</span><br><span class="line">scsi0.sasWWID = "50 05 05 6e d7 81 67 f0"</span><br><span class="line">ethernet0.generatedAddressOffset = "0"</span><br><span class="line">vmci0.id = "-1549065039"</span><br><span class="line">monitor.phys_bits_used = "40"</span><br><span class="line">vmotion.checkpointFBSize = "134217728"</span><br><span class="line">cleanShutdown = "TRUE"</span><br><span class="line">softPowerOff = "TRUE"</span><br><span class="line">usb:1.speed = "2"</span><br><span class="line">usb:1.present = "TRUE"</span><br><span class="line">usb:1.deviceType = "hub"</span><br><span class="line">usb:1.port = "1"</span><br><span class="line">usb:1.parent = "-1"</span><br><span class="line">tools.syncTime = "FALSE"</span><br><span class="line">disable_acceleration = "TRUE"</span><br><span class="line">mce.enable = "TRUE"</span><br><span class="line">monitor_control.vt32 = "TRUE"</span><br><span class="line">prefvmx.useRecommendedLockedMemSize = "TRUE"</span><br><span class="line">MemTrimRate = "0"</span><br><span class="line">monitor.virtual_mmu = "automatic"</span><br><span class="line">monitor.virtual_exec = "automatic"</span><br><span class="line">ethernet0.address = "20:50:56:37:0D:A5"</span><br><span class="line">tools.remindInstall = "TRUE"</span><br><span class="line">ehci.present = "TRUE"</span><br><span class="line">SMBIOS.reflectHost = "TRUE"</span><br><span class="line">ehci.pciSlotNumber = "35"</span><br><span class="line">ethernet0.linkStatePropagation.enable = "FALSE"</span><br><span class="line">vhv.enable = "TRUE"</span><br><span class="line">cpuid.1.eax = "00001111111010111111101111111111"</span><br><span class="line">cpuid.1.ebx = "00000000000000000000011011110001"</span><br><span class="line">cpuid.1.ecx = "0--------------0----------------"</span><br><span class="line">cpuid.1.edx = "-----------0---------0----------"</span><br><span class="line"></span><br><span class="line">hgfs.mapRootShare = "TRUE"</span><br><span class="line">usb.generic.autoconnect = "FALSE"</span><br><span class="line">bios.forceSetupOnce = "FALSE"</span><br><span class="line">toolsInstallManager.updateCounter = "1"</span><br><span class="line">sharedFolder0.present = "TRUE"</span><br><span class="line">sharedFolder0.enabled = "TRUE"</span><br><span class="line">sharedFolder0.readAccess = "TRUE"</span><br><span class="line">sharedFolder0.writeAccess = "TRUE"</span><br><span class="line">gui.exitOnCLIHLT = "TRUE"</span><br><span class="line">monitor_control.restrict_backdoor = "TRUE"</span><br><span class="line">monitor_control.enable_fullcpuid = "TRUE"</span><br><span class="line">board-id.reflectHost = "TRUE"</span><br><span class="line">hw.model.reflectHost = "TRUE"</span><br><span class="line">serialNumber.reflectHost = "TRUE"</span><br><span class="line">SMBIOS.noOEMStrings = "TRUE"</span><br><span class="line">svga.autodetect = "TRUE"</span><br><span class="line">msg.autoAnswer = "FALSE"</span><br><span class="line">mks.noBeep = "FALSE"</span><br><span class="line">sched.mem.pshare.enable = "FALSE"</span><br><span class="line">sched.mem.maxmemctl = "0"</span><br><span class="line">MemAllowAutoScaleDown = "FALSE" </span><br><span class="line">mem.ShareScanTotal = "0"</span><br><span class="line">mem.ShareScanVM = "0"</span><br><span class="line">vmi.present.getPtrLocation.disable = "TRUE"</span><br><span class="line">isolation.tools.setPtrLocation.disable = "TRUE"</span><br><span class="line">isolation.tools.setVersion.disable = "TRUE"</span><br><span class="line">isolation.tools.getVersion.disable = "TRUE"</span><br><span class="line">monitor_control.disable_directexec = "TRUE"</span><br><span class="line">monitor_control.disable_chksimd = "TRUE"</span><br><span class="line">monitor_control.disable_ntreloc = "TRUE"</span><br><span class="line">monitor_control.disable_selfmod = "TRUE"</span><br><span class="line">monitor_control.disable_reloc = "TRUE"</span><br><span class="line">monitor_control.disable_btinout = "TRUE"</span><br><span class="line">monitor_control.disable_btmemspace = "TRUE"</span><br><span class="line">monitor_control.disable_btpriv = "TRUE"</span><br><span class="line">monitor_control.disable_btseg = "TRUE"</span><br><span class="line">svga.guestBackedPrimaryAware = "TRUE"</span><br><span class="line">vmx.buildType = "release"</span><br><span class="line">priority.grabbed = "high"</span><br><span class="line">mainMem.useNamedFile = "FALSE"</span><br><span class="line">ethernet0.connectionType = "nat"</span><br><span class="line">usb:0.present = "TRUE"</span><br><span class="line">usb:0.deviceType = "hid"</span><br><span class="line">usb:0.port = "0"</span><br><span class="line">usb:0.parent = "-1"</span><br><span class="line">sata0:0.present = "FALSE"</span><br><span class="line">ide0:1.present = "FALSE"</span><br><span class="line">sata0:1.present = "FALSE"</span><br><span class="line">floppy0.present = "FALSE"</span><br></pre></td></tr></table></figure></div></li><li><p>another</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">isolation.tools.setVersion.disable = "TRUE"</span><br><span class="line">isolation.tools.getVersion.disable = "TRUE"</span><br><span class="line">monitor_control.enable_fullcpuid = TRUE</span><br><span class="line">cpuid.1.eax = "00001111111010111111101111111111"</span><br><span class="line">cpuid.1.ebx = "00000000000000000000011011110001"</span><br><span class="line">cpuid.80000002.0.eax="0110:0101:0111:0100:0110:1110:0100:1001"</span><br><span class="line">cpuid.80000002.0.ebx="0010:1001:0101:0010:0010:1000:0110:1100"</span><br><span class="line">cpuid.80000002.0.ecx="0110:1111:0110:0101:0101:1000:0010:0000"</span><br><span class="line">cpuid.80000002.0.edx="0010:1001:0101:0010:0010:1000:0110:1110"</span><br><span class="line">cpuid.80000003.0.eax="0101:0101:0101:0000:0100:0011:0010:0000"</span><br><span class="line">cpuid.80000003.0.ebx="0010:0000:0010:0000:0010:0000:0010:0000"</span><br><span class="line">cpuid.80000003.0.ecx="0010:0000:0010:0000:0010:0000:0010:0000"</span><br><span class="line">cpuid.80000003.0.edx="0101:1000:0010:0000:0010:0000:0010:0000"</span><br><span class="line">cpuid.80000004.0.eax="0011:0101:0011:0111:0011:0110:0011:0101"</span><br><span class="line">cpuid.80000004.0.ebx="0010:0000:0100:0000:0010:0000:0010:0000"</span><br><span class="line">cpuid.80000004.0.ecx="0011:0111:0011:0000:0010:1110:0011:0011"</span><br><span class="line">cpuid.80000004.0.edx="0000:0000:0111:1010:0100:1000:0100:0111"</span><br></pre></td></tr></table></figure></div></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> VMware </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fiddler About Phone Proxy</title>
      <link href="/archives/fiddlerAboutPhoneProxy/"/>
      <url>/archives/fiddlerAboutPhoneProxy/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>Fiddler 手机抓包的一些设置</li><li>通过 Fiddler 获取手机应用的网络请求数据</li><li>不通端网络的设置方式</li></ul><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="外部网络-Fiddler-宿主机网络"><a href="#外部网络-Fiddler-宿主机网络" class="headerlink" title="外部网络 / Fiddler 宿主机网络"></a>外部网络 / Fiddler 宿主机网络</h3><ul><li>手机和 Fiddler 宿主机连接在同一个外部网络中</li><li>Fiddler 宿主机连接外部网络,然后宿主机开放热点, 手机连接该热点</li></ul><ol><li>然后在手机的 WLAN 连接里配置宿主机上 Fiddler 的代理地址和端口<ul><li><img src="/images/fiddlerAboutPhoneProxy/Screenshot_2021-12-20-22-31-01-945_com.android.se.jpg" alt></li></ul></li><li>连上后,手机浏览器打开该 代理地址和端口 下载证书</li><li>最后打开手机应用,即可在 Fiddler 里看到网络数据了 </li></ol><h3 id="手机共享网络"><a href="#手机共享网络" class="headerlink" title="手机共享网络"></a>手机共享网络</h3><ul><li>手机通过开启热点,把移动网络分享出来,然后宿主机连接该网络</li></ul><ol><li>打开手机移动网络设置,找到 APN , 设置代理地址和端口为宿主机上 Fiddler 的代理地址和端口<ul><li><img src="/images/fiddlerAboutPhoneProxy/Screenshot_2021-12-20-22-36-09-186_com.android.ph.jpg" alt></li><li><img src="/images/fiddlerAboutPhoneProxy/Screenshot_2021-12-20-22-36-22-323_com.android.se.jpg" alt></li><li><img src="/images/fiddlerAboutPhoneProxy/Screenshot_2021-12-20-22-36-43-946_com.android.se.jpg" alt></li></ul></li><li>最后打开手机应用,同样的可以在 Fiddler 里看到网络请求包了</li></ol><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>Fiddler 抓包的常规配置开启</li><li><img src="/images/fiddlerAboutPhoneProxy/Snipaste_2021-12-20_22-05-08.png" alt></li><li><img src="/images/fiddlerAboutPhoneProxy/Snipaste_2021-12-20_22-07-17.png" alt></li><li>下图右上角查看该代理地址信息</li><li><img src="/images/fiddlerAboutPhoneProxy/Snipaste_2021-12-20_22-07-49.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Fiddler </tag>
            
            <tag> Proxy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RoboCopy In Win10 Task About(0x1/0x10)</title>
      <link href="/archives/roboCopyInWin10TaskAbout/"/>
      <url>/archives/roboCopyInWin10TaskAbout/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>RoboCopy bat 脚本添加到 win10 定时任务中</li><li>出现 上次运行结果为 0x1,0x10</li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>因为脚本中使用到 网络磁盘 的原因</li><li>手动执行脚本没问题,但是添加到定时任务就不行</li><li>原因是在 定时任务 中的网络磁盘账户信息和 本地执行的网络磁盘账户 并不是一致的</li><li>解决方法:<ol><li>在定时任务的 常规-安全选项-选择【只在用户登录时运行】,这样就使用了和本地执行一致的网络磁盘账户信息</li><li>在脚本中添加 网络磁盘账户信息 <code>net use j: \\RemoteHost\Files RemotePassword /user:RemoteUser</code><a id="more"></a></li></ol></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://yo.zgserver.com/robocopy0x10.html" target="_blank" rel="noopener">计划的Robocopy任务失败，出现0x10错误</a></li><li>👉 <a href="https://blog.csdn.net/u010033674/article/details/115034957" target="_blank" rel="noopener">批处理脚本手动双击可以执行，但计划任务中执行失败</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> RoboCopy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Use ArchiveBox For Daily</title>
      <link href="/archives/useArchiveBoxForDaily/"/>
      <url>/archives/useArchiveBoxForDaily/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><ul><li>由于经常发现一些站点或文章很不错,每次都只是手动保存链接</li><li>偶尔回头看的话,原本保存的链接的站点或文章已经消失了</li><li>所以需要一个服务在保存站点链接的时候,把站点抓取保存成文件</li><li>这样日后翻看就很方便<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>ArchiveBox 可以很好的满足这个日常的需求 👉 <a href="https://archivebox.io/" target="_blank" rel="noopener">ArchiveBox</a></li></ul><h3 id="Easy-Setup-With-Docker"><a href="#Easy-Setup-With-Docker" class="headerlink" title="Easy Setup With Docker"></a>Easy Setup With Docker</h3><ul><li>切换到非 root 账户下安装</li><li><code>mkdir ~/archivebox &amp;&amp; cd ~/archivebox</code> ## 创建目录</li><li><code>docker run -v $PWD:/data -it archivebox/archivebox init --setup</code> # 初始化</li><li><code>docker run -v $PWD:/data -p 8000:8000 archivebox/archivebox</code> # 启动容器<br><img src="/images/useArchiveBoxForDaily/Snipaste_2021-12-12_03-21-47.png" alt></li></ul><h3 id="Account-About"><a href="#Account-About" class="headerlink" title="Account About"></a>Account About</h3><ul><li>登录后台需要修改下默认密码</li><li><code>docker exec -it [容器id] /bin/bash</code> 进入容器</li><li>ArchiveBox 修改用户信息需要在非 root 账户下</li><li>进入容器后默认的是 root 用户,需要创建新用户<ul><li><code>useradd -d /home/elias elias</code></li><li><code>passwd elias</code></li></ul></li><li><code>su elias</code> 接着切换用户执行操作</li><li><code>archivebox manage changepassword USERNAME</code> 修改账户密码</li><li><code>archivebox manage changepassword admin</code> 修改默认的 admin 密码<br><img src="/images/useArchiveBoxForDaily/Snipaste_2021-12-12_03-21-24.png" alt></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li><p>容器里需要给目录赋权限</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ archivebox manage changepassword USERNAME</span><br><span class="line">[i] [2021-12-11 19:17:32] ArchiveBox v0.6.2: archivebox manage changepassword USERNAME</span><br><span class="line">    &gt; /data</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;/usr/local/lib/python3.9/logging/config.py&quot;, line 564, in configure</span><br><span class="line">    handler = self.configure_handler(handlers[name])</span><br><span class="line">  File &quot;/usr/local/lib/python3.9/logging/config.py&quot;, line 745, in configure_handler</span><br><span class="line">    result = factory(**kwargs)</span><br><span class="line">  File &quot;/usr/local/lib/python3.9/logging/handlers.py&quot;, line 153, in __init__</span><br><span class="line">    BaseRotatingHandler.__init__(self, filename, mode, encoding=encoding,</span><br><span class="line">  File &quot;/usr/local/lib/python3.9/logging/handlers.py&quot;, line 58, in __init__</span><br><span class="line">    logging.FileHandler.__init__(self, filename, mode=mode,</span><br><span class="line">  File &quot;/usr/local/lib/python3.9/logging/__init__.py&quot;, line 1146, in __init__</span><br><span class="line">    StreamHandler.__init__(self, self._open())</span><br><span class="line">  File &quot;/usr/local/lib/python3.9/logging/__init__.py&quot;, line 1175, in _open</span><br><span class="line">    return open(self.baseFilename, self.mode, encoding=self.encoding,</span><br><span class="line">PermissionError: [Errno 13] Permission denied: &apos;/data/logs/errors.log&apos;</span><br></pre></td></tr></table></figure></div></li><li><p>切换到 root 账户, 到 <code>/data</code> 目录下 </p></li><li><code>chmod -R 777 ./</code> 给 data 目录下所有文件赋予权限</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> ArchiveBox </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS8 About Docker</title>
      <link href="/archives/centos8AboutDocker/"/>
      <url>/archives/centos8AboutDocker/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><ul><li>安装 ArchiveBox 遇到了一些问题</li><li>由于是用 Docker 安装的, 容器启动失败<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.</span><br><span class="line">ERRO[0001] unable to get systemd connection to add healthchecks: dial unix /tmp/podman-run-1003/systemd/private: connect: connection refused</span><br><span class="line">ERRO[0001] unable to get systemd connection to start healthchecks: dial unix /tmp/podman-run-1003/systemd/private: connect: connection refused</span><br><span class="line">4</span><br></pre></td></tr></table></figure></div></li></ul><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>查了一下发现在 CentOS8 里直接使用 <code>yum install docker -y</code> ,安装的是 podman-docker</li><li>虽说命令兼,但是有些问题,所以把它卸了重新装 Docker</li><li><code>yum remove docker</code> 卸载当前装的 podman</li><li><code>curl https://download.docker.com/linux/centos/docker-ce.repo -o /etc/yum.repos.d/docker-ce.repo</code> 下载 docker-ce 源</li><li><code>yum install docker-ce -y</code> 安装 docker-ce</li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><h3 id="docker-Cannot-connect-to-the-Docker-daemon-at-unix-var-run-docker-sock-Is-the-docker-daemon-running"><a href="#docker-Cannot-connect-to-the-Docker-daemon-at-unix-var-run-docker-sock-Is-the-docker-daemon-running" class="headerlink" title="docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?."></a>docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.</h3><ul><li>添加用户到 docker 组</li><li><code>gpasswd -a $USER docker</code> root用户下添加当前登录用户(root)到 docker 组</li><li><code>gpasswd -a elias docker</code> root用户下添加 elias 用户到 docker 组</li><li><code>systemctl restart docker</code> 重启 docker </li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> Docker </tag>
            
            <tag> Podman </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Apache Log4j2 Fixbug</title>
      <link href="/archives/log4j2Fixbug/"/>
      <url>/archives/log4j2Fixbug/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><ul><li>Apache Log4j 2.x &lt; 2.15.0 存在远程代码执行</li><li>结合了 JNDI , 本地利用 Log4j2 构造函数, 调用远程服务端 Log4j2 的函数,导致本地函数可以注入远程服务端代码</li><li>详细 👉<a href="https://help.aliyun.com/noticelist/articleid/1060971232.html" target="_blank" rel="noopener">【漏洞预警】Apache Log4j2 远程代码执行漏洞（CVE-2021-44228）</a><a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>到 maven 官方仓库下载最新修复该漏洞的 jar 👉 <a href="https://repo.maven.apache.org/maven2/org/apache/logging/log4j/" target="_blank" rel="noopener">org/apache/logging/log4j</a> </li><li>在官方站点可查看哪些 jar 引用了 涉及该漏洞版本的log4j2 jar , 如 👉 <a href="https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.14.1/usages" target="_blank" rel="noopener">mvnrepository/Artifacts using log4j-core version 2.14.1</a> </li><li>在项目里替换一下 已修复漏洞的 jar 的引用即可</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> SRC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Raw Github Connection Refused</title>
      <link href="/archives/rawGithubConnectionRefused/"/>
      <url>/archives/rawGithubConnectionRefused/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">root@raspberrypi /h/pi# curl -sSL 'https://get.archivebox.io' | sh</span><br><span class="line">curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused</span><br><span class="line">root@raspberrypi /h/pi# ping raw.githubusercontent.com</span><br><span class="line">PING raw.githubusercontent.com (127.0.0.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.180 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.156 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=3 ttl=64 time=0.114 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=4 ttl=64 time=0.118 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=5 ttl=64 time=0.102 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=6 ttl=64 time=0.105 ms</span><br><span class="line">64 bytes from localhost (127.0.0.1): icmp_seq=7 ttl=64 time=0.128 ms</span><br><span class="line">^C</span><br><span class="line">--- raw.githubusercontent.com ping statistics ---</span><br><span class="line">7 packets transmitted, 7 received, 0% packet loss, time 234ms</span><br><span class="line">rtt min/avg/max/mdev = 0.102/0.129/0.180/0.026 ms</span><br><span class="line">root@raspberrypi /h/pi#</span><br></pre></td></tr></table></figure></div><ul><li>由上可知,由于 DNS 污染问题, raw.githubusercontent.com 经常访问不了</li></ul><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>打开 <a href="https://www.ipaddress.com/" target="_blank" rel="noopener">ipaddress</a> , 输入 <code>raw.githubusercontent.com</code> 查看目前 DNS 解析到的 IP</li><li>如 <a href="https://ipaddress.com/website/raw.githubusercontent.com" target="_blank" rel="noopener">ipaddress</a> ,翻看可见解析到的 IP</li><li>最后在机器上配置 hosts 解析即可, 刷 DNS 缓存<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">185.199.108.133 raw.githubusercontent.com</span><br><span class="line">185.199.109.133 raw.githubusercontent.com</span><br><span class="line">185.199.110.133 raw.githubusercontent.com</span><br><span class="line">185.199.111.133 raw.githubusercontent.com</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li><p>on pi 重启网络</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi ~&gt; /etc/init.d/networking restart</span><br><span class="line">[....] Restarting networking (via systemctl): networking.service==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===</span><br><span class="line">Authentication is required to restart &apos;networking.service&apos;.</span><br><span class="line">Authenticating as: ,,, (pi)</span><br><span class="line">Password:</span><br><span class="line">==== AUTHENTICATION COMPLETE ===</span><br><span class="line">. ok</span><br></pre></td></tr></table></figure></div></li><li><p>使用工具刷新 DNS</p><ul><li><code>sudo apt-get install nscd</code></li><li><code>sudo /etc/init.d/nscd restart</code></li></ul></li><li>改变机器 DNS 解析服务器 <code>sudo nano /etc/resolv.conf</code><ul><li><code>nameserver 8.8.8.8</code> 修改</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git Reset Commit Without Change Code</title>
      <link href="/archives/gitResetCommitWithoutChangeCode/"/>
      <url>/archives/gitResetCommitWithoutChangeCode/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>因为设置了定时提交 github 脚本,偶尔在目录下打包了大的压缩包忘了删除</li><li>定时任务提交 git commit 到本地仓库了</li><li>今天手动 push 到 github 发现文件过大<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">F:\Code\Temp&gt;git push</span><br><span class="line">    Enumerating objects: 1193, done.</span><br><span class="line">    Counting objects: 100% (1193/1193), done.</span><br><span class="line">    Delta compression using up to 12 threads</span><br><span class="line">    Compressing objects: 100% (812/812), done.</span><br><span class="line">    Writing objects: 100% (1177/1177), 146.10 MiB | 461.00 KiB/s, done.</span><br><span class="line">    Total 1177 (delta 212), reused 1111 (delta 175), pack-reused 0</span><br><span class="line">    remote: Resolving deltas: 100% (212/212), completed with 14 local objects.</span><br><span class="line">    remote: error: Trace: 64c7aa0d8f24426987252f0fa81b8013929e07d5a0f4f52abfff441e541eee51</span><br><span class="line">    remote: error: See http://git.io/iEPt8g for more information.</span><br><span class="line">    remote: error: File vue/vue.zip is 161.24 MB; this exceeds GitHub's file size limit of 100.00 MB </span><br><span class="line">    remote: error: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.</span><br><span class="line">    To github.com:OrekiYuta/Temp.git</span><br><span class="line">    ! [remote rejected]   master -&gt; master (pre-receive hook declined)</span><br><span class="line">    error: failed to push some refs to 'github.com:OrekiYuta/Temp.git'</span><br></pre></td></tr></table></figure></div></li></ul><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>解决方法是 回退本地 commit 到大文件提交记录之前的 commit</li><li><p>以下方法只是 回退本地 commit 记录,并不会对本地代码修改回退</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">F:\Code\Temp&gt;git log</span><br><span class="line">commit 137833d814c302e03e806aa0dd297c66cbfe26f8 (HEAD -&gt; master)</span><br><span class="line">Author: OrekiYuta &lt;orekiyuta@gmail.com&gt;</span><br><span class="line">Date:   Sat Dec 11 02:49:13 2021 +0800</span><br><span class="line"></span><br><span class="line">    on</span><br><span class="line"></span><br><span class="line">commit 05d5ba83c4d0ee2678ab7ad0fe71f36456b3d548</span><br><span class="line">Author: OrekiYuta &lt;orekiyuta@gmail.com&gt;</span><br><span class="line">Date:   Sat Dec 11 02:30:57 2021 +0800</span><br><span class="line"></span><br><span class="line">    2021-12-11/ 2:30:54.50 by auto commit</span><br><span class="line"></span><br><span class="line">commit 4d09030accde17e9f9b1551fbbea06511683d635</span><br><span class="line">Author: OrekiYuta &lt;orekiyuta@gmail.com&gt;</span><br><span class="line">Date:   Fri Dec 10 23:30:55 2021 +0800</span><br><span class="line"></span><br><span class="line">    2021-12-10/23:30:54.05 by auto commit</span><br><span class="line"></span><br><span class="line">commit f0089c3aa837e7fb7a820717f1e5f529f352890e</span><br><span class="line">Author: OrekiYuta &lt;orekiyuta@gmail.com&gt;</span><br><span class="line">Date:   Fri Dec 10 02:32:18 2021 +0800</span><br><span class="line"></span><br><span class="line">    2021-12-10/ 2:31:49.91 by auto commit</span><br><span class="line"></span><br><span class="line">commit f4fe5830c92e3a0240c6606f6b35bea74b951f35 # commit id 标识</span><br><span class="line">Author: OrekiYuta &lt;orekiyuta@gmail.com&gt;</span><br><span class="line">Date:   Thu Dec 9 23:31:11 2021 +0800</span><br><span class="line"></span><br><span class="line">    2021-12-09/23:31:01.07 by auto commit</span><br></pre></td></tr></table></figure></div></li><li><p>定位到想要回退 commit 的记录 id 标识</p></li><li><p><code>git reset id</code> 执行即可</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">F:\Code\Temp\vue&gt;git reset a389eb06aa841e79c734f361a25b77b4c177e964</span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M       python/amos/.idea/amos.iml</span><br><span class="line">M       python/amos/.idea/misc.xml</span><br><span class="line">M       python/amos/.idea/modules.xml</span><br><span class="line">M       python/amos/.idea/vcs.xml</span><br><span class="line">M       python/lab/app/service/github_commit_service.py</span><br><span class="line">D       python/lab/test.md</span><br><span class="line">D       vue/kasrc/.editorconfig</span><br></pre></td></tr></table></figure></div></li><li><p>最后重新提交 push 代码到 github 即可</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Yarn Connetion Retrying</title>
      <link href="/archives/yarnConnetionRetrying/"/>
      <url>/archives/yarnConnetionRetrying/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>创建 quasar 项目的时候,安装依赖的时候网络总是重连<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yarn install v1.22.10</span><br><span class="line">info No lockfile found.</span><br><span class="line">[1/5] Validating package.json...</span><br><span class="line">[2/5] Resolving packages...</span><br><span class="line">info There appears to be trouble with your network connection. Retrying...</span><br></pre></td></tr></table></figure></div></li></ul><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>改下 yarn 下载源就行</li></ul><ol><li><p><code>yarn config list</code> 查看代理</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">info yarn config</span><br><span class="line">&#123;</span><br><span class="line">'version-tag-prefix': 'v',</span><br><span class="line">'version-git-tag': true,</span><br><span class="line">'version-commit-hooks': true,</span><br><span class="line">'version-git-sign': false,</span><br><span class="line">'version-git-message': 'v%s',</span><br><span class="line">'init-version': '1.0.0',</span><br><span class="line">'init-license': 'MIT',</span><br><span class="line">'save-prefix': '^',</span><br><span class="line">'bin-links': true,</span><br><span class="line">'ignore-scripts': false,</span><br><span class="line">'ignore-optional': false,</span><br><span class="line">registry: 'https://registry.yarnpkg.com', # 默认</span><br><span class="line">'strict-ssl': true,</span><br><span class="line">'user-agent': 'yarn/1.22.10 npm/? node/v12.22.3 win32 ia32',</span><br><span class="line">lastUpdateCheck: 1639062753417</span><br><span class="line">&#125;</span><br><span class="line">info npm config</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>删除代理</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn config delete proxy # 执行这个就行</span><br><span class="line">npm config rm proxy   # 根据 config 结果, 如果 npm 设置了也删除就行</span><br><span class="line">npm config rm https-proxy # 同上</span><br></pre></td></tr></table></figure></div></li><li><p><code>yarn config set registry https://registry.npm.taobao.org</code> 更换下载源</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">info yarn config</span><br><span class="line">&#123;</span><br><span class="line">'version-tag-prefix': 'v',</span><br><span class="line">'version-git-tag': true,</span><br><span class="line">'version-commit-hooks': true,</span><br><span class="line">'version-git-sign': false,</span><br><span class="line">'version-git-message': 'v%s',</span><br><span class="line">'init-version': '1.0.0',</span><br><span class="line">'init-license': 'MIT',</span><br><span class="line">'save-prefix': '^',</span><br><span class="line">'bin-links': true,</span><br><span class="line">'ignore-scripts': false,</span><br><span class="line">'ignore-optional': false,</span><br><span class="line">registry: 'https://registry.npm.taobao.org', # 更换成淘宝镜像</span><br><span class="line">'strict-ssl': true,</span><br><span class="line">'user-agent': 'yarn/1.22.10 npm/? node/v12.22.3 win32 ia32',</span><br><span class="line">lastUpdateCheck: 1639062753417</span><br><span class="line">&#125;</span><br><span class="line">info npm config</span><br><span class="line">&#123;&#125;</span><br><span class="line">Done i</span><br></pre></td></tr></table></figure></div></li></ol><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>Carry On !!!<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> quasar create coza</span></span><br><span class="line"></span><br><span class="line">___</span><br><span class="line">/ _ \ _   _  __ _ ___  __ _ _ __</span><br><span class="line">| | | | | | |/ _` / __|/ _` | '__|</span><br><span class="line">| |_| | |_| | (_| \__ \ (_| | |</span><br><span class="line">\__\_\\__,_|\__,_|___/\__,_|_|</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">? Target directory exists. Continue? Yes</span><br><span class="line">? Project name (internal usage for dev) coza</span><br><span class="line">? Project product name (must start with letter if building mobile apps) coza</span><br><span class="line">? Project description lazy sleep</span><br><span class="line">? Author OrekiYuta &lt;orekiyuta@gmail.com&gt;</span><br><span class="line">? Pick your CSS preprocessor: SCSS</span><br><span class="line">? Check the features needed for your project: ESLint (recommended), TypeScript, Vuex, Axios, Vue-i18n</span><br><span class="line">? Pick a component style: Composition</span><br><span class="line">? Pick an ESLint preset: Prettier</span><br><span class="line">? Continue to install project dependencies after the project has been created? (recommended) yarn</span><br><span class="line"></span><br><span class="line">Quasar CLI · Generated "coza".</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[*] Installing project dependencies ...</span><br><span class="line"></span><br><span class="line">yarn install v1.22.10</span><br><span class="line">info No lockfile found.</span><br><span class="line">[1/5] Validating package.json...</span><br><span class="line">[2/5] Resolving packages...</span><br><span class="line">warning @quasar/app &gt; webpack-dev-server &gt; url &gt; querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.</span><br><span class="line">[3/5] Fetching packages...</span><br><span class="line">info fsevents@2.3.2: The platform "win32" is incompatible with this module.</span><br><span class="line">info "fsevents@2.3.2" is an optional dependency and failed compatibility check. Excluding it from installation.</span><br><span class="line">[4/5] Linking dependencies...</span><br><span class="line">warning " &gt; vue-i18n@9.1.9" has unmet peer dependency "vue@^3.0.0".</span><br><span class="line">warning " &gt; vuex@4.0.2" has unmet peer dependency "vue@^3.0.2".</span><br><span class="line">warning " &gt; @babel/eslint-parser@7.16.3" has unmet peer dependency "@babel/core@&gt;=7.11.0".</span><br><span class="line">warning "@typescript-eslint/eslint-plugin &gt; tsutils@3.21.0" has unmet peer dependency "typescript@&gt;=2.8.0 || &gt;= 3.2.0-dev || &gt;= 3.3.0-dev || &gt;= 3.4.0-dev || &gt;= 3.5.0-dev || &gt;= 3.6.0-dev || &gt;=</span><br><span class="line">3.6.0-beta || &gt;= 3.7.0-dev || &gt;= 3.7.0-beta".</span><br><span class="line">[5/5] Building fresh packages...</span><br><span class="line">success Saved lockfile.</span><br><span class="line">Done in 64.59s.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[*] Running eslint --fix to comply with chosen preset rules...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yarn run v1.22.10</span><br><span class="line"><span class="meta">$</span><span class="bash"> eslint --ext .js,.ts,.vue ./ --fix</span></span><br><span class="line">Done in 49.61s.</span><br><span class="line"></span><br><span class="line">[*] Quasar Project initialization finished!</span><br><span class="line"></span><br><span class="line">To get started:</span><br><span class="line"></span><br><span class="line">cd coza</span><br><span class="line">quasar dev</span><br><span class="line"></span><br><span class="line">Documentation can be found at: https://quasar.dev</span><br><span class="line"></span><br><span class="line">Quasar is relying on donations to evolve. We'd be very grateful if you can</span><br><span class="line">read our manifest on "Why donations are important": https://quasar.dev/why-donate</span><br><span class="line">Donation campaign: https://donate.quasar.dev</span><br><span class="line">Any amount is very welcomed.</span><br><span class="line">If invoices are required, please first contact razvan@quasar.dev</span><br><span class="line"></span><br><span class="line">Please give us a star on Github if you appreciate our work:</span><br><span class="line">https://github.com/quasarframework/quasar</span><br><span class="line"></span><br><span class="line">Enjoy! - Quasar Team</span><br></pre></td></tr></table></figure></div></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Quasar </tag>
            
            <tag> vue.js </tag>
            
            <tag> Yarn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SecurityGroup On TencentCVM</title>
      <link href="/archives/securityGroupOnTencentCVM/"/>
      <url>/archives/securityGroupOnTencentCVM/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>在云服务器上部署了服务，开放端口配置注意点<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>以下为 腾讯云CVM 为例说明</li></ul><ol><li>先找到自己的机器,并找到安全组选项,并新建一个随意的安全组<ul><li><img src="/images/securityGroupOnTencentCVM/Snipaste_2021-12-04_17-51-56.png" alt></li></ul></li><li>新建完后,点击修改规则<ul><li><img src="/images/securityGroupOnTencentCVM/Snipaste_2021-12-04_17-53-32.png" alt></li></ul></li><li>让外部访问,设置入站规则即可<ul><li><img src="/images/securityGroupOnTencentCVM/Snipaste_2021-12-04_17-56-04.png" alt></li><li><img src="/images/securityGroupOnTencentCVM/Snipaste_2021-12-04_17-56-52.png" alt></li></ul></li><li>最后设置一下,关联实例，把需要开放以上规则的机器配置上<br> Snipaste_2021-12-04_17-57-56.png</li></ol><ul><li>以下为机器内的服务的启动配置说明</li></ul><ol><li><p>正常操作了以上的步骤,端口即是正常开放了,</p><ul><li>telnet 能否连通,还需要机器内的端口监听正确</li></ul></li><li><p>比如以下情况,在外部是 telnet 不通的</p><ul><li><img src="/images/securityGroupOnTencentCVM/Snipaste_2021-12-04_18-03-22.png" alt></li><li>因为服务监听的是机器内本地(127.0.0.1)的端口，没法响应外部(0.0.0.0)请求</li><li>上图的服务,限制了只有来源IP为127.0.0.1才可以访问，其他IP无法访问，因此是无法telnet成功</li></ul></li><li><p>正确的方式是把服务启动修改为0.0.0.0，允许所有IP即可</p></li><li>或者保持以上的本地监听(127.0.0.1),再配置 Nginx,通过Nginx代理监听</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> CloudServer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>USBWebserver For Dev</title>
      <link href="/archives/USBWebserverForDev/"/>
      <url>/archives/USBWebserverForDev/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>在一台机器上搭建 MySQL 并开放外部使用 </li><li>常规方式有 （1）直接部署 MySQL （2） 在 Docker 中部署 MySQL</li><li>以上两种方式有其一定的优势:（1）性能好 （2）容器隔离</li><li>但是以上两种方式都需要部署成本, 为了寻求更便捷的部署和迁移, 将使用以下方式<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li><p>利用 可以移植的 USBWebserver =&gt; <a href="https://usbwebserver.yura.mk.ua/" target="_blank" rel="noopener">USBWebserver8</a></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Most light weight local portable web server with Apache, PHP, MySQL and PHPMyAdmin for Windows on the Web. Just unzip enywhere (including USB flash drive), run and start using.</span><br></pre></td></tr></table></figure></div></li><li><p>部署环境在 win10,解压启动即可</p></li><li>设置开机启动，win + r ,<code>shell:startup</code>,把启动文件放在该目录即可</li><li>到此，只能是本地访问，提供给外部访问还需要进去 MySQL 赋予用户权限 <ul><li><img src="/images/USBWebserverForDev/Snipaste_2021-12-04_17-32-09.png" alt></li><li><img src="/images/USBWebserverForDev/Snipaste_2021-12-04_17-32-44.png" alt></li><li><img src="/images/USBWebserverForDev/Snipaste_2021-12-04_17-33-12.png" alt></li></ul></li><li>最后防火墙开放端口即可</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Get ACP Certification</title>
      <link href="/archives/getACPCertification/"/>
      <url>/archives/getACPCertification/</url>
      
        <content type="html"><![CDATA[<h2 id="Prepare"><a href="#Prepare" class="headerlink" title="Prepare"></a>Prepare</h2><ul><li>Alibaba Cloud Certified Professional - Cloud Computing</li><li>Sign up =&gt; <a href="https://edu.aliyun.com/clouder/OfflineExam/detail/3086?token=9a7af9e452bbbef26b1b6d229d64b6c8" target="_blank" rel="noopener">阿里云认证专场考试报名</a></li><li>Exam on =&gt; <a href="https://edu.aliyun.com/clouder/my/clouderpackage?spm=5176.0.0.0.7caf28f8o5DvDQ&amp;type=acp" target="_blank" rel="noopener">阿里云云计算工程师ACP认证 (Alibaba Cloud Certified Professional - Cloud Computing)</a></li></ul><h2 id="If-Pass"><a href="#If-Pass" class="headerlink" title="If Pass"></a>If Pass</h2><ul><li>Check on =&gt; <a href="https://edu.aliyun.com/clouder/my/clouderpackage?spm=5176.0.0.0.7caf28f8o5DvDQ&amp;type=acp" target="_blank" rel="noopener">阿里云云计算工程师ACP认证 (Alibaba Cloud Certified Professional - Cloud Computing)</a><ul><li><img src="/images/getACPCertification/Snipaste_2021-11-29_23-14-39.png" alt></li></ul></li><li>Get the Certification<ul><li><img src="/images/getACPCertification/img_a6eb0073291d7e6bdf5174b95da57845.png" alt></li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Alibaba </tag>
            
            <tag> Certificate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sync Over RoboCopy</title>
      <link href="/archives/syncOverRoboCopy/"/>
      <url>/archives/syncOverRoboCopy/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>基于 Windows 操作系统, NTFS 文件系统之间的文件同步<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>windows 自带的一个文件复制工具 robocopy</li><li><p>可用于日常的磁盘之间的文件备份/同步,设置个定时任务就很方便了</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">robocopy &quot;G:\Elias_Main&quot; &quot;\\192.168.1.5\eliasSave\Elias_Main&quot; /mt:12 /mir /ts /r:3 /w:5 /log+:&quot;X:\Elias_Z_MoveToThis_Log\%date:~0,4%-%date:~5,2%-%date:~8,2%-Backup-Elias_Main.txt&quot;</span><br></pre></td></tr></table></figure></div></li><li><p>具体参数可参考以下</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\OrekiYuta&gt;robocopy</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">   ROBOCOPY     ::     Windows 的可靠文件复制</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">  开始时间: 2021年10月24日 6:26:28</span><br><span class="line">            简单用法:: ROBOCOPY source destination /MIR</span><br><span class="line"></span><br><span class="line">                  源:: 源目录(驱动器:\路径或\\服务器\共享\路径)。</span><br><span class="line">                目标:: 目标目录(驱动器:\路径或\\服务器\共享\路径)。</span><br><span class="line">               /MIR :: 镜像完整目录树。</span><br><span class="line"></span><br><span class="line">    有关用法的详细信息，请运行 ROBOCOPY /?</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">****  /MIR 可以删除文件也可以复制文件!</span><br><span class="line"></span><br><span class="line">C:\Users\OrekiYuta&gt;robocopy /?</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">   ROBOCOPY     ::     Windows 的可靠文件复制</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">  开始时间: 2021年10月24日 6:26:35</span><br><span class="line">               用法 :: ROBOCOPY source destination [file [file]...] [options]</span><br><span class="line"></span><br><span class="line">                 源 :: 源目录(驱动器:\路径或\\服务器\共享\路径)。</span><br><span class="line">               目标 :: 目标目录(驱动器:\路径或\\服务器\共享\路径)。</span><br><span class="line">               文件 :: 要复制的文件(名称/通配符: 默认为 &quot;*.*&quot;)。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 复制选项:</span><br><span class="line">::</span><br><span class="line">                 /S :: 复制子目录，但不复制空的子目录。</span><br><span class="line">                 /E :: 复制子目录，包括空的子目录。</span><br><span class="line">             /LEV:n :: 仅复制源目录树的前 n 层。</span><br><span class="line"></span><br><span class="line">                 /Z :: 在可重新启动模式下复制文件。</span><br><span class="line">                 /B :: 在备份模式下复制文件。</span><br><span class="line">                /ZB :: 使用可重新启动模式；如果拒绝访问，请使用备份模式。</span><br><span class="line">                 /J :: 复制时使用未缓冲的 I/O (推荐在复制大文件时使用)。</span><br><span class="line">            /EFSRAW :: 在 EFS RAW 模式下复制所有加密的文件。</span><br><span class="line"></span><br><span class="line">      /COPY:复制标记:: 要复制的文件内容(默认为 /COPY:DAT)。</span><br><span class="line">                       (复制标记: D=数据，A=属性，T=时间戳)。</span><br><span class="line">                       (S=安全=NTFS ACL，O=所有者信息，U=审核信息)。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">               /SEC :: 复制具有安全性的文件(等同于 /COPY:DATS)。</span><br><span class="line">           /COPYALL :: 复制所有文件信息(等同于 /COPY:DATSOU)。</span><br><span class="line">            /NOCOPY :: 不复制任何文件信息(与 /PURGE 一起使用)。</span><br><span class="line">            /SECFIX :: 修复所有文件的文件安全性，即使是跳过的文件。</span><br><span class="line">            /TIMFIX :: 修复所有文件的文件时间，即使是跳过的文件。</span><br><span class="line"></span><br><span class="line">             /PURGE :: 删除源中不再存在的目标文件/目录。</span><br><span class="line">               /MIR :: 镜像目录树(等同于 /E 加 /PURGE)。</span><br><span class="line"></span><br><span class="line">               /MOV :: 移动文件(复制后从源中删除)。</span><br><span class="line">              /MOVE :: 移动文件和目录(复制后从源中删除)。</span><br><span class="line"></span><br><span class="line">     /A+:[RASHCNET] :: 将给定的属性添加到复制的文件。</span><br><span class="line">     /A-:[RASHCNET] :: 从复制的文件中删除给定的属性。</span><br><span class="line"></span><br><span class="line">            /CREATE :: 仅创建目录树和长度为零的文件。</span><br><span class="line">               /FAT :: 仅使用 8.3 FAT 文件名创建目标文件。</span><br><span class="line">               /256 :: 关闭超长路径(&gt; 256 个字符)支持。</span><br><span class="line"></span><br><span class="line">             /MON:n :: 监视源；发现多于 n 个更改时再次运行。</span><br><span class="line">             /MOT:m :: 监视源；如果更改，在 m 分钟时间后再次运行。</span><br><span class="line"></span><br><span class="line">      /RH:hhmm-hhmm :: 可以启动新的复制时运行的小时数 - 时间。</span><br><span class="line">                /PF :: 基于每个文件(而不是每个步骤)来检查运行小时数。</span><br><span class="line"></span><br><span class="line">             /IPG:n :: 程序包间的间距(ms)，以释放低速线路上的带宽。</span><br><span class="line"></span><br><span class="line">                /SL :: 对照目标复制符号链接。</span><br><span class="line"></span><br><span class="line">            /MT[:n] :: 使用 n 个线程进行多线程复制(默认值为 8)。</span><br><span class="line">                       n 必须至少为 1，但不得大于 128。</span><br><span class="line">                       该选项与 /IPG 和 /EFSRAW 选项不兼容。</span><br><span class="line">                       使用 /LOG 选项重定向输出以便获得最佳性能。</span><br><span class="line"></span><br><span class="line"> /DCOPY:复制标记:: 要复制的目录内容(默认为 /DCOPY:DA)。</span><br><span class="line">                       (复制标记: D=数据，A=属性，T=时间戳)。</span><br><span class="line"></span><br><span class="line">           /NODCOPY :: 不复制任何目录信息(默认情况下，执行 /DCOPY:DA)。</span><br><span class="line"></span><br><span class="line">         /NOOFFLOAD :: 在不使用 Windows 复制卸载机制的情况下复制文件。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 文件选择选项:</span><br><span class="line">::</span><br><span class="line">                 /A :: 仅复制具有存档属性集的文件。</span><br><span class="line">                 /M :: 仅复制具有存档属性的文件并重置存档属性。</span><br><span class="line">    /IA:[RASHCNETO] :: 仅包含具有任意给定属性集的文件。</span><br><span class="line">    /XA:[RASHCNETO] :: 排除具有任意给定属性集的文件。</span><br><span class="line"></span><br><span class="line">  /XF 文件[文件]... :: 排除与给定名称/路径/通配符匹配的文件。</span><br><span class="line">  /XD 目录[目录]... :: 排除与给定名称/路径匹配的目录。</span><br><span class="line"></span><br><span class="line">                /XC :: 排除已更改的文件。</span><br><span class="line">                /XN :: 排除较新的文件。</span><br><span class="line">                /XO :: 排除较旧的文件。</span><br><span class="line">                /XX :: 排除多余的文件和目录。</span><br><span class="line">                /XL :: 排除孤立的文件和目录。</span><br><span class="line">                /IS :: 包含相同文件。</span><br><span class="line">                /IT :: 包含已调整的文件。</span><br><span class="line"></span><br><span class="line">             /MAX:n :: 最大的文件大小 - 排除大于 n 字节的文件。</span><br><span class="line">             /MIN:n :: 最小的文件大小 - 排除小于 n 字节的文件。</span><br><span class="line"></span><br><span class="line">          /MAXAGE:n :: 最长的文件存在时间 - 排除早于 n 天/日期的文件。</span><br><span class="line">          /MINAGE:n :: 最短的文件存在时间 - 排除晚于 n 天/日期的文件。</span><br><span class="line">          /MAXLAD:n :: 最大的最后访问日期 - 排除自 n 以来未使用的文件。</span><br><span class="line">          /MINLAD:n :: 最小的最后访问日期 - 排除自 n 以来使用的文件。</span><br><span class="line">                       (If n &lt; 1900 then n = n days, else n = YYYYMMDD date)。</span><br><span class="line"></span><br><span class="line">                /XJ :: 排除接合点和符号链接。(默认情况下通常包括)。</span><br><span class="line"></span><br><span class="line">               /FFT :: 假设 FAT 文件时间(2 秒粒度)。</span><br><span class="line">               /DST :: 弥补 1 小时的 DST 时间差。</span><br><span class="line"></span><br><span class="line">               /XJD :: 排除目录的接合点和符号链接。</span><br><span class="line">               /XJF :: 排除文件的符号链接。</span><br><span class="line"></span><br><span class="line">                /IM :: 包含已修改的文件(更改时间不同)。</span><br><span class="line">::</span><br><span class="line">:: 重试选项:</span><br><span class="line">::</span><br><span class="line">               /R:n :: 失败副本的重试次数: 默认为 1 百万。</span><br><span class="line">               /W:n :: 两次重试间的等待时间: 默认为 30 秒。</span><br><span class="line"></span><br><span class="line">               /REG :: 将注册表中的 /R:n 和 /W:n 保存为默认设置。</span><br><span class="line"></span><br><span class="line">               /TBD :: 等待定义共享名称(重试错误 67)。</span><br><span class="line"></span><br><span class="line">               /LFSM :: 在低可用空间模式下运行，启用复制暂停和继续(参见“备注”)。</span><br><span class="line"></span><br><span class="line">               /LFSM:n[KMG] :: /LFSM，指定下限大小(以 n [K:kilo、M:mega、G:giga] 字节为单位)。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 日志记录选项:</span><br><span class="line">::</span><br><span class="line">                 /L :: 仅列出 - 不复制、添加时间戳或删除任何文件。</span><br><span class="line">                 /X :: 报告所有多余的文件，而不只是选中的文件。</span><br><span class="line">                 /V :: 生成详细输出，同时显示跳过的文件。</span><br><span class="line">                /TS :: 在输出中包含源文件的时间戳。</span><br><span class="line">                /FP :: 在输出中包含文件的完整路径名称。</span><br><span class="line">             /BYTES :: 以字节打印大小。</span><br><span class="line"></span><br><span class="line">                /NS :: 无大小 - 不记录文件大小。</span><br><span class="line">                /NC :: 无类别 - 不记录文件类别。</span><br><span class="line">               /NFL :: 无文件列表 - 不记录文件名。</span><br><span class="line">               /NDL :: 无目录列表 - 不记录目录名称。</span><br><span class="line"></span><br><span class="line">                /NP :: 无进度 - 不显示已复制的百分比。</span><br><span class="line">               /ETA :: 显示复制文件的预期到达时间。</span><br><span class="line"></span><br><span class="line">          /LOG:文件 :: 将状态输出到日志文件(覆盖现有日志)。</span><br><span class="line">         /LOG+:文件 :: 将状态输出到日志文件(附加到现有日志中)。</span><br><span class="line"></span><br><span class="line">       /UNILOG:文件 :: 以 UNICODE 方式将状态输出到日志文件(覆盖现有日志)。</span><br><span class="line">      /UNILOG+:文件 :: 以 UNICODE 方式将状态输出到日志文件(附加到现有日志中)。</span><br><span class="line"></span><br><span class="line">               /TEE :: 输出到控制台窗口和日志文件。</span><br><span class="line"></span><br><span class="line">               /NJH :: 没有作业标头。</span><br><span class="line">               /NJS :: 没有作业摘要。</span><br><span class="line"></span><br><span class="line">           /UNICODE :: 以 UNICODE 方式输出状态。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 作业选项 :</span><br><span class="line">::</span><br><span class="line">      /JOB:作业名称 :: 从命名的作业文件中提取参数。</span><br><span class="line">     /SAVE:作业名称 :: 将参数保存到命名的作业文件</span><br><span class="line">              /QUIT :: 处理命令行后退出(以查看参数)。</span><br><span class="line">              /NOSD :: 未指定源目录。</span><br><span class="line">              /NODD :: 未指定目标目录。</span><br><span class="line">                /IF :: 包含以下文件。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 备注:</span><br><span class="line">::</span><br><span class="line">       以前在卷的根目录上使用 /PURGE 或 /MIR 导致</span><br><span class="line">       robocopy 也对“系统卷信息”目录内的</span><br><span class="line">       文件应用所请求的操作。现在不再是这种情形；如果</span><br><span class="line">       指定了任何一项，则 robocopy 将跳过</span><br><span class="line">       复制会话简要源目录和目标目录中具有该名称的任何文件或目录。</span><br><span class="line"></span><br><span class="line">       已修改的文件分类仅在源</span><br><span class="line">       和目标文件系统支持更改时间戳(例如 NTFS)</span><br><span class="line">       以及源和目标文件具有不同的更改时间(否则相同)</span><br><span class="line">       时才适用。默认情况下不复制这些文件；指定 /IM</span><br><span class="line">       将其包含在内。</span><br><span class="line"></span><br><span class="line">       使用 /LFSM 请求 robocopy 在“低可用空间模式”下运行。</span><br><span class="line">       在该模式下，每当文件副本导致</span><br><span class="line">       目标卷的可用空间低于可以</span><br><span class="line">       由 LFSM:n[KMG] 形式的标志明确指定的“下限”值时，robocopy 将会暂停。</span><br><span class="line">       如果指定了 /LFSM，但没有显式下限值，则会将下限设置为</span><br><span class="line">      目标卷大小的百分之十。</span><br><span class="line">       低可用空间模式与 /MT、/EFSRAW、/B 和/ZB 不兼容。</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://docs.microsoft.com/zh-cn/windows-server/administration/windows-commands/robocopy" target="_blank" rel="noopener">Docs/Windows Server/Windows 命令/服务器角色命令/robocopy</a></li><li>👉 <a href="https://outmanzzq.github.io/2018/09/30/robocopy-for-windows/" target="_blank" rel="noopener">windows 备份杀手锏 robocopy 命令使用</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> LAN </tag>
            
            <tag> RoboCopy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mklink in Win</title>
      <link href="/archives/mklinkInWin/"/>
      <url>/archives/mklinkInWin/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>当磁盘不够用,或者想转移当前目录文件存储的时候,又不能改变当前文件结构的情况</li><li>Winodws 提供了文件路径映射功能。<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MKLINK [[/D] | [/H] | [/J]] Link Target</span><br><span class="line"></span><br><span class="line">        /D      创建目录符号链接。默认为文件</span><br><span class="line">                符号链接。</span><br><span class="line">        /H      创建硬链接而非符号链接。</span><br><span class="line">        /J      创建目录联接。</span><br><span class="line">        Link    指定新的符号链接名称。</span><br><span class="line">        Target  指定新链接引用的路径</span><br><span class="line">                (相对或绝对)。</span><br></pre></td></tr></table></figure></div><ul><li>用法：<code>mklink /j &quot;映射到这个目录&quot; &quot;想要映射过来的路径&quot;</code> =&gt; <code>mklink /J &quot;e:\test&quot; &quot;f:\test&quot;</code></li><li>需要注意的是, <code>mklink /j &quot;目标路径&quot; &quot;源路径&quot;</code>, 目标路径事先不能存在,因为会创建该路径造成冲突,无法创建</li><li><p>总之,常用的如下</p><ul><li><code>mklink /d &quot;d:\target&quot; &quot;d:\origin&quot;</code></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\system32&gt;mklink /d &quot;d:\target&quot; &quot;d:\origin&quot;</span><br><span class="line">为 d:\target &lt;&lt;===&gt;&gt; d:\origin 创建的符号链接</span><br></pre></td></tr></table></figure></div></li><li><p><code>mklink /j &quot;d:\target&quot; &quot;d:\origin&quot;</code>  /j 只能创建本地磁盘映射, /d 可用于创建网络映射</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\system32&gt;mklink /j &quot;d:\test&quot; &quot;\\192.168.1.10\AcerC\origin&quot;</span><br><span class="line">完成该操作需要本地卷。</span><br><span class="line"></span><br><span class="line">C:\Windows\system32&gt;mklink /d &quot;d:\test&quot; &quot;\\192.168.1.10\AcerC\origin&quot;</span><br><span class="line">为 d:\test &lt;&lt;===&gt;&gt; \\192.168.1.10\AcerC\origin 创建的符号链接</span><br></pre></td></tr></table></figure></div></li></ul></li></ul><ul><li><p>创建了映射之后,就可以在创建的映射目录里对目标路径进行操作了,就相当于操作目标路径的文件一样</p></li><li><p>此外, robocopy 没法移动文件到符号链接,对以上创建的映射无法生效</p><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">D:\&gt;robocopy &quot;d:\cc&quot; &quot;z:\test&quot; /MIR /sl</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">ROBOCOPY     ::     Windows 的可靠文件复制</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">开始时间: 2021年10月24日 2:17:54</span><br><span class="line">        源: d:\cc\</span><br><span class="line">    目标: z:\test\</span><br><span class="line"></span><br><span class="line">    文件: *.*</span><br><span class="line"></span><br><span class="line">    选项: *.* /S /E /DCOPY:DA /COPY:DAT /PURGE /MIR /R:1000000 /W:30</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">2021/10/24 02:17:54 错误 1463 (0x000005B7) 正在访问目标目录 z:\test\</span><br><span class="line">无法遵循符号链接，因为其类型已禁用。</span><br><span class="line">正在等待 30 秒... 正在重试...</span><br></pre></td></tr></table></figure></div></li></ul></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://www.cnblogs.com/cnxkey/articles/7658462.html" target="_blank" rel="noopener">windows 软链接的建立及删除</a></li><li>👉 <a href="https://blog.walterlv.com/post/ntfs-link-comparisons.html" target="_blank" rel="noopener">比较 Windows 上四种不同的文件（夹）链接方式</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> LAN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Enable Hyper-V Service</title>
      <link href="/archives/enableHyper-Vservice/"/>
      <url>/archives/enableHyper-Vservice/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>After installed Docker Desktop , Cannot enable Hyper-V service.</li><li><img src="/images/enableHyper-Vservice/Snipaste_2021-10-04_22-49-16.png" alt></li></ul><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>Check Windows Configuration.</li><li><img src="/images/enableHyper-Vservice/Snipaste_2021-10-04_22-51-11.png" alt></li><li>win + r , input “cmd”.</li><li>Execute <code>systeminfo</code>.</li><li><img src="/images/enableHyper-Vservice/Snipaste_2021-10-04_22-50-14.png" alt></li><li>Must all the Hyper-V Requirements are YES.</li><li><p>For me , “Virutalization Enabled In Firmware : NO”.</p></li><li><p>My PC mainboard is Interl H61 , Click “delete” button show the Bios.</p></li><li>Then, Find and Enabled the Virutalization Configuration.</li><li><img src="/images/enableHyper-Vservice/IMG_20211004_225913.jpg" alt></li><li><p><img src="/images/enableHyper-Vservice/IMG_20211004_225923.jpg" alt></p></li><li><p>Final, Check the systeminfo , Open the Docker Desktop as well.</p></li><li><img src="/images/enableHyper-Vservice/Snipaste_2021-10-04_23-18-11.png" alt></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://docs.microsoft.com/zh-cn/virtualization/hyper-v-on-windows/reference/hyper-v-requirements#verify-hardware-compatibility" target="_blank" rel="noopener">Windows 10 Hyper-V System Requirements</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Selfhost PhotoPrism</title>
      <link href="/archives/selfhostPhotoPrism/"/>
      <url>/archives/selfhostPhotoPrism/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>Better to manage a large number of pictures with photoprism</li><li>Demo =&gt; <a href="https://demo.photoprism.org/browse" target="_blank" rel="noopener">demo.photoprism</a><a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>If host on windows must install docker at frist. 👉 <a href="https://www.docker.com/get-started" target="_blank" rel="noopener">Docker Desktop</a><h3 id="Host-with-local-disk"><a href="#Host-with-local-disk" class="headerlink" title="Host with local disk"></a>Host with local disk</h3></li></ul><ol><li><p>Make the docker-compose.yml and Modify configuration.</p><ul><li>where I sign “(^.^)”,it mean should be change. <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YAML"><figure class="iseeu highlight /yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3.5'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example Docker Compose config file for PhotoPrism (Linux / AMD64)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Documentation : https://docs.photoprism.org/getting-started/docker-compose/</span></span><br><span class="line"><span class="comment"># Docker Hub URL: https://hub.docker.com/r/photoprism/photoprism/</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Please run behind a reverse proxy like Caddy, Traefik or Nginx if you need HTTPS / SSL support</span></span><br><span class="line"><span class="comment"># e.g. when running PhotoPrism on a public server outside your home network.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># DOCKER COMPOSE COMMAND REFERENCE</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Start    | docker-compose up -d</span></span><br><span class="line"><span class="comment"># Stop     | docker-compose stop</span></span><br><span class="line"><span class="comment"># Update   | docker-compose pull</span></span><br><span class="line"><span class="comment"># Logs     | docker-compose logs --tail=25 -f</span></span><br><span class="line"><span class="comment"># Terminal | docker-compose exec photoprism bash</span></span><br><span class="line"><span class="comment"># Help     | docker-compose exec photoprism photoprism help</span></span><br><span class="line"><span class="comment"># Config   | docker-compose exec photoprism photoprism config</span></span><br><span class="line"><span class="comment"># Reset    | docker-compose exec photoprism photoprism reset</span></span><br><span class="line"><span class="comment"># Backup   | docker-compose exec photoprism photoprism backup -a -i</span></span><br><span class="line"><span class="comment"># Restore  | docker-compose exec photoprism photoprism restore -a -i</span></span><br><span class="line"><span class="comment"># Index    | docker-compose exec photoprism photoprism index</span></span><br><span class="line"><span class="comment"># Reindex  | docker-compose exec photoprism photoprism index -f</span></span><br><span class="line"><span class="comment"># Import   | docker-compose exec photoprism photoprism import</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To search originals for faces without a complete rescan:</span></span><br><span class="line"><span class="comment"># docker-compose exec photoprism photoprism faces index</span></span><br><span class="line"><span class="comment"># -------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Note: All commands may have to be prefixed with "sudo" when not running as root.</span></span><br><span class="line"><span class="comment">#       This will change the home directory "~" to "/root" in your configuration.</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"><span class="attr">photoprism:</span></span><br><span class="line"><span class="attr">    restart:</span> <span class="string">always</span> </span><br><span class="line">    <span class="comment"># Use photoprism/photoprism:preview instead for testing preview builds:</span></span><br><span class="line"><span class="attr">    image:</span> <span class="string">photoprism/photoprism:latest</span></span><br><span class="line"><span class="attr">    depends_on:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">mariadb</span></span><br><span class="line">    <span class="comment"># Only enable automatic restarts once your installation is properly</span></span><br><span class="line">    <span class="comment"># configured as it otherwise may get stuck in a restart loop:</span></span><br><span class="line">    <span class="comment"># https://docs.photoprism.org/getting-started/faq/#why-is-photoprism-getting-stuck-in-a-restart-loop</span></span><br><span class="line">    <span class="comment"># restart: unless-stopped</span></span><br><span class="line"><span class="attr">    security_opt:</span></span><br><span class="line"><span class="attr">    - seccomp:</span><span class="string">unconfined</span></span><br><span class="line"><span class="attr">    - apparmor:</span><span class="string">unconfined</span></span><br><span class="line">    <span class="comment"># Run as a specific, non-root user (see https://docs.docker.com/engine/reference/run/#user):</span></span><br><span class="line">    <span class="comment"># user: "1000:1000"</span></span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">"2342:2342"</span> <span class="comment"># [server]:[container]</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_ADMIN_PASSWORD:</span> <span class="string">"(^.^)"</span>          <span class="comment"># PLEASE CHANGE: Your initial admin password (min 4 characters)</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_ORIGINALS_LIMIT:</span> <span class="number">5000</span>               <span class="comment"># File size limit for originals in MB (increase for high-res video)</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_HTTP_COMPRESSION:</span> <span class="string">"gzip"</span>            <span class="comment"># Improves transfer speed and bandwidth utilization (none or gzip)</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DEBUG:</span> <span class="string">"false"</span>                      <span class="comment"># Run in debug mode (shows additional log messages)</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_PUBLIC:</span> <span class="string">"false"</span>                     <span class="comment"># No authentication required (disables password protection)</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_READONLY:</span> <span class="string">"false"</span>                   <span class="comment"># Don't modify originals directory (reduced functionality)</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_EXPERIMENTAL:</span> <span class="string">"false"</span>               <span class="comment"># Enables experimental features</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DISABLE_CHOWN:</span> <span class="string">"false"</span>              <span class="comment"># Disables storage permission updates on startup</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DISABLE_WEBDAV:</span> <span class="string">"false"</span>             <span class="comment"># Disables built-in WebDAV server</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DISABLE_SETTINGS:</span> <span class="string">"false"</span>           <span class="comment"># Disables Settings in Web UI</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DISABLE_TENSORFLOW:</span> <span class="string">"false"</span>         <span class="comment"># Disables all features depending on TensorFlow</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DISABLE_FACES:</span> <span class="string">"false"</span>              <span class="comment"># Disables facial recognition</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DISABLE_CLASSIFICATION:</span> <span class="string">"false"</span>     <span class="comment"># Disables image classification</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DARKTABLE_PRESETS:</span> <span class="string">"false"</span>          <span class="comment"># Enables Darktable presets and disables concurrent RAW conversion</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DETECT_NSFW:</span> <span class="string">"false"</span>                <span class="comment"># Flag photos as private that MAY be offensive (requires TensorFlow)</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_UPLOAD_NSFW:</span> <span class="string">"true"</span>                 <span class="comment"># Allow uploads that MAY be offensive</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_DATABASE_DRIVER: "sqlite"         # SQLite is an embedded database that doesn't require a server</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DATABASE_DRIVER:</span> <span class="string">"mysql"</span>            <span class="comment"># Use MariaDB (or MySQL) instead of SQLite for improved performance</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DATABASE_SERVER:</span> <span class="string">"mariadb:3306"</span>     <span class="comment"># MariaDB database server (hostname:port)</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DATABASE_NAME:</span> <span class="string">"photoprism"</span>         <span class="comment"># MariaDB database schema name</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DATABASE_USER:</span> <span class="string">"(^.^)"</span>         <span class="comment"># MariaDB database user name</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_DATABASE_PASSWORD:</span> <span class="string">"(^.^)"</span>       <span class="comment"># MariaDB database user password</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_SITE_URL:</span> <span class="string">"http://localhost:2342/"</span>  <span class="comment"># Public PhotoPrism URL</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_SITE_TITLE:</span> <span class="string">"PhotoPrism"</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_SITE_CAPTION:</span> <span class="string">"Browse Your Life"</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_SITE_DESCRIPTION:</span> <span class="string">""</span></span><br><span class="line"><span class="attr">    PHOTOPRISM_SITE_AUTHOR:</span> <span class="string">""</span></span><br><span class="line">    <span class="comment"># Set a non-root user, group, or custom umask if your Docker environment doesn't support this natively:</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_UID: 1000</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_GID: 1000</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_UMASK: 0000</span></span><br><span class="line">    <span class="comment"># Enable TensorFlow AVX2 support for modern Intel CPUs (requires starting the container as root):</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_INIT: "tensorflow-amd64-avx2"</span></span><br><span class="line">    <span class="comment"># Hardware video transcoding options:</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_FFMPEG_BUFFERS: "64"              # FFmpeg capture buffers (default: 32)</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_FFMPEG_BITRATE: "32"              # FFmpeg encoding bitrate limit in Mbit/s (default: 50)</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_FFMPEG_ENCODER: "h264_v4l2m2m"    # Use Video4Linux for AVC transcoding (default: libx264)</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_FFMPEG_ENCODER: "h264_qsv"        # Use Intel Quick Sync Video for AVC transcoding (default: libx264)</span></span><br><span class="line">    <span class="comment"># PHOTOPRISM_INIT: "intel-graphics tensorflow-amd64-avx2" # Enable TensorFlow AVX2 &amp; Intel Graphics support</span></span><br><span class="line"><span class="attr">    HOME:</span> <span class="string">"/photoprism"</span></span><br><span class="line">    <span class="comment"># Optional hardware devices for video transcoding and machine learning:</span></span><br><span class="line">    <span class="comment"># devices:</span></span><br><span class="line">    <span class="comment">#  - "/dev/video11:/dev/video11" # Video4Linux (h264_v4l2m2m)</span></span><br><span class="line">    <span class="comment">#  - "/dev/dri/renderD128:/dev/dri/renderD128" # Intel GPU</span></span><br><span class="line">    <span class="comment">#  - "/dev/dri/card0:/dev/dri/card0"</span></span><br><span class="line"><span class="attr">    working_dir:</span> <span class="string">"/photoprism"</span></span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line">    <span class="comment"># Your photo and video files ([local path]:[container path]):</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">"C:/AcerC/Pic:/photoprism/originals/Pic"</span> <span class="comment">#(^.^)</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">"D:/Bic:/photoprism/originals/Bic"</span>       <span class="comment">#(^.^)</span></span><br><span class="line">    <span class="comment"># Multiple folders can be indexed by mounting them as sub-folders of /photoprism/originals:</span></span><br><span class="line">    <span class="comment"># - "/mnt/Family:/photoprism/originals/Family"    # [folder_1]:/photoprism/originals/[folder_1]</span></span><br><span class="line">    <span class="comment"># - "/mnt/Friends:/photoprism/originals/Friends"  # [folder_2]:/photoprism/originals/[folder_2]</span></span><br><span class="line">    <span class="comment"># Mounting an import folder is optional (see docs):</span></span><br><span class="line">    <span class="comment"># - "~/Import:/photoprism/import"</span></span><br><span class="line">    <span class="comment"># Permanent storage for settings, index &amp; sidecar files (DON'T REMOVE):</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">"./storage:/photoprism/storage"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mariadb:</span></span><br><span class="line"><span class="attr">    restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"><span class="attr">    image:</span> <span class="attr">mariadb:10.5</span></span><br><span class="line"><span class="attr">    security_opt:</span></span><br><span class="line"><span class="attr">    - seccomp:</span><span class="string">unconfined</span></span><br><span class="line"><span class="attr">    - apparmor:</span><span class="string">unconfined</span></span><br><span class="line"><span class="attr">    command:</span> <span class="string">mysqld</span> <span class="bullet">--transaction-isolation=READ-COMMITTED</span> <span class="bullet">--character-set-server=utf8mb4</span> <span class="bullet">--collation-server=utf8mb4_unicode_ci</span> <span class="bullet">--max-connections=512</span> <span class="bullet">--innodb-rollback-on-timeout=OFF</span> <span class="bullet">--innodb-lock-wait-timeout=120</span></span><br><span class="line"><span class="attr">    volumes:</span> <span class="comment"># Don't remove permanent storage for index database files!</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">"./database:/var/lib/mysql"</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="attr">    MYSQL_ROOT_PASSWORD:</span> <span class="string">(^.^)</span></span><br><span class="line"><span class="attr">    MYSQL_DATABASE:</span> <span class="string">photoprism</span></span><br><span class="line"><span class="attr">    MYSQL_USER:</span> <span class="string">(^.^)</span></span><br><span class="line"><span class="attr">    MYSQL_PASSWORD:</span> <span class="string">(^.^)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following lines to upgrade automatically, whenever there is a new Docker image available:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  watchtower:</span></span><br><span class="line"><span class="comment">#    restart: unless-stopped</span></span><br><span class="line"><span class="comment">#    image: containrrr/watchtower</span></span><br><span class="line"><span class="comment">#    environment:</span></span><br><span class="line"><span class="comment">#      WATCHTOWER_CLEANUP: "true"</span></span><br><span class="line"><span class="comment">#      WATCHTOWER_POLL_INTERVAL: 7200 # Checks for updates every two hours</span></span><br><span class="line"><span class="comment">#    volumes:</span></span><br><span class="line"><span class="comment">#      - "/var/run/docker.sock:/var/run/docker.sock"</span></span><br><span class="line"><span class="comment">#      - "~/.docker/config.json:/config.json" # Optional, for authentication if you have a Docker Hub account</span></span><br></pre></td></tr></table></figure></div></li></ul></li><li><p>Move the “docker-compose.yml” , where you will install the PhotoPrism.</p><ul><li>E.g : “C:\PhotoPrism”(Win) or “/app/PhotoPrism”(Linux)</li></ul></li><li><p>Then, to the “docker-compose.yml” directory , execute <code>docker-compose up -d</code></p></li><li><p>Final,Open <a href="http://localhost:2342/" target="_blank" rel="noopener">http://localhost:2342/</a> in a Web browser.</p></li></ol><h3 id="Host-with-network-disk"><a href="#Host-with-network-disk" class="headerlink" title="Host with network disk"></a>Host with network disk</h3><ul><li>The key is volumes config.</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YAML"><figure class="iseeu highlight /yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line"><span class="attr">  photoprism:</span></span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line">      <span class="comment"># Map originals folder to NFS:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"photoprism-originals:/photoprism/originals"</span>   <span class="comment"># The photoprism-originals</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#...</span></span><br><span class="line"><span class="comment"># For Windows / CIFS shares:</span></span><br><span class="line"><span class="comment"># Write at the end </span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line"><span class="attr">  photoprism-originals:</span></span><br><span class="line"><span class="attr">    driver:</span> <span class="string">local</span></span><br><span class="line"><span class="attr">    driver_opts:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">cifs</span></span><br><span class="line"><span class="attr">      o:</span> <span class="string">"username=user,password=secret,rw"</span></span><br><span class="line"><span class="attr">      device:</span> <span class="string">"//host/folder"</span></span><br></pre></td></tr></table></figure></div></li><li><p>Full config such as bottom.</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YAML"><figure class="iseeu highlight /yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3.5'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example Docker Compose config file for PhotoPrism (Linux / AMD64)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Documentation : https://docs.photoprism.org/getting-started/docker-compose/</span></span><br><span class="line"><span class="comment"># Docker Hub URL: https://hub.docker.com/r/photoprism/photoprism/</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># IMPORTANT: When installing PhotoPrism on a public server outside your home network, please</span></span><br><span class="line"><span class="comment">#            always run it behind a secure HTTPS reverse proxy like Traefik, Caddy, or NGINX.</span></span><br><span class="line"><span class="comment">#            Your files and passwords will be transmitted in clear text otherwise.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># DOCKER COMPOSE COMMAND REFERENCE</span></span><br><span class="line"><span class="comment"># --------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Start    | docker-compose up -d</span></span><br><span class="line"><span class="comment"># Stop     | docker-compose stop</span></span><br><span class="line"><span class="comment"># Update   | docker-compose pull</span></span><br><span class="line"><span class="comment"># Logs     | docker-compose logs --tail=25 -f</span></span><br><span class="line"><span class="comment"># Terminal | docker-compose exec photoprism bash</span></span><br><span class="line"><span class="comment"># Help     | docker-compose exec photoprism photoprism help</span></span><br><span class="line"><span class="comment"># Config   | docker-compose exec photoprism photoprism config</span></span><br><span class="line"><span class="comment"># Reset    | docker-compose exec photoprism photoprism reset</span></span><br><span class="line"><span class="comment"># Backup   | docker-compose exec photoprism photoprism backup -a -i</span></span><br><span class="line"><span class="comment"># Restore  | docker-compose exec photoprism photoprism restore -a -i</span></span><br><span class="line"><span class="comment"># Index    | docker-compose exec photoprism photoprism index</span></span><br><span class="line"><span class="comment"># Reindex  | docker-compose exec photoprism photoprism index -f</span></span><br><span class="line"><span class="comment"># Import   | docker-compose exec photoprism photoprism import</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># See https://docs.photoprism.org/getting-started/docker-compose/#command-line-interface for more examples.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To search originals for faces without a complete rescan:</span></span><br><span class="line"><span class="comment"># docker-compose exec photoprism photoprism faces index</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> All commands may have to be prefixed with "sudo" when not running as root.</span></span><br><span class="line"><span class="comment"># This will point the home directory placeholder ~ to /root in volume mounts.</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="comment"># REQUIRED: PhotoPrism Application Server</span></span><br><span class="line"><span class="attr">  photoprism:</span></span><br><span class="line"><span class="attr">    restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="comment"># Use photoprism/photoprism:preview for testing preview builds:</span></span><br><span class="line"><span class="attr">    image:</span> <span class="string">photoprism/photoprism:latest</span></span><br><span class="line"><span class="attr">    depends_on:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">mariadb</span></span><br><span class="line">    <span class="comment"># Only enable automatic restarts once your installation is properly</span></span><br><span class="line">    <span class="comment"># configured as it otherwise may get stuck in a restart loop:</span></span><br><span class="line">    <span class="comment"># https://docs.photoprism.org/getting-started/faq/#why-is-photoprism-getting-stuck-in-a-restart-loop</span></span><br><span class="line">    <span class="comment"># restart: unless-stopped</span></span><br><span class="line"><span class="attr">    security_opt:</span></span><br><span class="line"><span class="attr">      - seccomp:</span><span class="string">unconfined</span></span><br><span class="line"><span class="attr">      - apparmor:</span><span class="string">unconfined</span></span><br><span class="line">    <span class="comment"># Run as a specific, non-root user (see https://docs.docker.com/engine/reference/run/#user):</span></span><br><span class="line">    <span class="comment"># user: "1000:1000"</span></span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"2342:2342"</span> <span class="comment"># [server]:[container]</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_ADMIN_PASSWORD:</span> <span class="string">"123"</span>          <span class="comment"># PLEASE CHANGE: Your initial admin password (min 4 characters)</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_SITE_URL:</span> <span class="string">"http://localhost:2342/"</span>  <span class="comment"># Public URL incl http:// or https:// and /path, :port is optional</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_ORIGINALS_LIMIT:</span> <span class="number">5000</span>               <span class="comment"># File size limit for originals in MB (increase for high-res video)</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_HTTP_COMPRESSION:</span> <span class="string">"gzip"</span>            <span class="comment"># Improves transfer speed and bandwidth utilization (none or gzip)</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DEBUG:</span> <span class="string">"false"</span>                      <span class="comment"># Run in debug mode (shows additional log messages)</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_PUBLIC:</span> <span class="string">"false"</span>                     <span class="comment"># No authentication required (disables password protection)</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_READONLY:</span> <span class="string">"false"</span>                   <span class="comment"># Don't modify originals directory (reduced functionality)</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_EXPERIMENTAL:</span> <span class="string">"false"</span>               <span class="comment"># Enables experimental features</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DISABLE_CHOWN:</span> <span class="string">"false"</span>              <span class="comment"># Disables storage permission updates on startup</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DISABLE_WEBDAV:</span> <span class="string">"false"</span>             <span class="comment"># Disables built-in WebDAV server</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DISABLE_SETTINGS:</span> <span class="string">"false"</span>           <span class="comment"># Disables Settings in Web UI</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DISABLE_TENSORFLOW:</span> <span class="string">"false"</span>         <span class="comment"># Disables all features depending on TensorFlow</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DISABLE_FACES:</span> <span class="string">"false"</span>              <span class="comment"># Disables facial recognition</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DISABLE_CLASSIFICATION:</span> <span class="string">"false"</span>     <span class="comment"># Disables image classification</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DARKTABLE_PRESETS:</span> <span class="string">"false"</span>          <span class="comment"># Enables Darktable presets and disables concurrent RAW conversion</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DETECT_NSFW:</span> <span class="string">"false"</span>                <span class="comment"># Flag photos as private that MAY be offensive (requires TensorFlow)</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_UPLOAD_NSFW:</span> <span class="string">"true"</span>                 <span class="comment"># Allow uploads that MAY be offensive</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_DATABASE_DRIVER: "sqlite"         # SQLite is an embedded database that doesn't require a server</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DATABASE_DRIVER:</span> <span class="string">"mysql"</span>            <span class="comment"># Use MariaDB 10.5+ or MySQL 8+ instead of SQLite for improved performance</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DATABASE_SERVER:</span> <span class="string">"mariadb:3306"</span>     <span class="comment"># MariaDB or MySQL database server (hostname:port)</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DATABASE_NAME:</span> <span class="string">"photoprism"</span>         <span class="comment"># MariaDB or MySQL database schema name</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DATABASE_USER:</span> <span class="string">"elias"</span>         <span class="comment"># MariaDB or MySQL database user name</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_DATABASE_PASSWORD:</span> <span class="string">"123"</span>       <span class="comment"># MariaDB or MySQL database user password</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_SITE_TITLE:</span> <span class="string">"M4PIXI"</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_SITE_CAPTION:</span> <span class="string">"Collection"</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_SITE_DESCRIPTION:</span> <span class="string">""</span></span><br><span class="line"><span class="attr">      PHOTOPRISM_SITE_AUTHOR:</span> <span class="string">""</span></span><br><span class="line">      <span class="comment"># Set a non-root user, group, or custom umask if your Docker environment doesn't support this natively:</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_UID: 1000</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_GID: 1000</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_UMASK: 0000</span></span><br><span class="line">      <span class="comment"># Enable TensorFlow AVX2 support for modern Intel CPUs (requires starting the container as root):</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_INIT: "tensorflow-amd64-avx2"</span></span><br><span class="line">      <span class="comment"># Hardware video transcoding options:</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_FFMPEG_BUFFERS: "64"              # FFmpeg capture buffers (default: 32)</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_FFMPEG_BITRATE: "32"              # FFmpeg encoding bitrate limit in Mbit/s (default: 50)</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_FFMPEG_ENCODER: "h264_v4l2m2m"    # Use Video4Linux for AVC transcoding (default: libx264)</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_FFMPEG_ENCODER: "h264_qsv"        # Use Intel Quick Sync Video for AVC transcoding (default: libx264)</span></span><br><span class="line">      <span class="comment"># PHOTOPRISM_INIT: "intel-graphics tensorflow-amd64-avx2" # Enable TensorFlow AVX2 &amp; Intel Graphics support</span></span><br><span class="line"><span class="attr">      HOME:</span> <span class="string">"/photoprism"</span></span><br><span class="line">    <span class="comment"># Optional hardware devices for video transcoding and machine learning:</span></span><br><span class="line">    <span class="comment"># devices:</span></span><br><span class="line">    <span class="comment">#  - "/dev/video11:/dev/video11" # Video4Linux (h264_v4l2m2m)</span></span><br><span class="line">    <span class="comment">#  - "/dev/dri/renderD128:/dev/dri/renderD128" # Intel GPU</span></span><br><span class="line">    <span class="comment">#  - "/dev/dri/card0:/dev/dri/card0"</span></span><br><span class="line"><span class="attr">    working_dir:</span> <span class="string">"/photoprism"</span></span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line">      <span class="comment"># The *originals* folder contains your original photo and video files (- "[host folder]:/photoprism/originals"):</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"photoprism-originals:/photoprism/originals"</span></span><br><span class="line">      <span class="comment"># Multiple folders can be made accessible by mounting them as subfolders of /photoprism/originals:</span></span><br><span class="line">      <span class="comment"># - "/mnt/Family:/photoprism/originals/Family"    # [folder 1]:/photoprism/originals/[folder 1]</span></span><br><span class="line">      <span class="comment"># - "/mnt/Friends:/photoprism/originals/Friends"  # [folder 2]:/photoprism/originals/[folder 2]</span></span><br><span class="line">      <span class="comment"># You may mount an *import* folder from which files can be transferred to *originals* (optional):</span></span><br><span class="line">      <span class="comment"># - "~/Import:/photoprism/import"</span></span><br><span class="line">      <span class="comment"># Cache, session, thumbnail, and sidecar files will be created in the *storage* folder (never remove):</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"./storage:/photoprism/storage"</span></span><br><span class="line">  <span class="comment"># RECOMMENDED: MariaDB Server, see https://docs.photoprism.org/getting-started/faq/#should-i-use-sqlite-mariadb-or-mysql</span></span><br><span class="line"><span class="attr">  mariadb:</span></span><br><span class="line"><span class="attr">    restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"><span class="attr">    image:</span> <span class="attr">mariadb:10.6</span></span><br><span class="line"><span class="attr">    security_opt:</span></span><br><span class="line"><span class="attr">      - seccomp:</span><span class="string">unconfined</span></span><br><span class="line"><span class="attr">      - apparmor:</span><span class="string">unconfined</span></span><br><span class="line"><span class="attr">    command:</span> <span class="string">mysqld</span> <span class="bullet">--transaction-isolation=READ-COMMITTED</span> <span class="bullet">--character-set-server=utf8mb4</span> <span class="bullet">--collation-server=utf8mb4_unicode_ci</span> <span class="bullet">--max-connections=512</span> <span class="bullet">--innodb-rollback-on-timeout=OFF</span> <span class="bullet">--innodb-lock-wait-timeout=120</span></span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"./database:/var/lib/mysql"</span> <span class="comment"># Never remove</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="attr">      MYSQL_ROOT_PASSWORD:</span> <span class="number">123</span></span><br><span class="line"><span class="attr">      MYSQL_DATABASE:</span> <span class="string">photoprism</span></span><br><span class="line"><span class="attr">      MYSQL_USER:</span> <span class="string">elias</span></span><br><span class="line"><span class="attr">      MYSQL_PASSWORD:</span> <span class="number">123</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># OPTIONAL: Upgrades services automatically, see https://docs.photoprism.org/getting-started/updates/#watchtower</span></span><br><span class="line">  <span class="comment">#</span></span><br><span class="line">  <span class="comment"># watchtower:</span></span><br><span class="line">  <span class="comment">#   restart: unless-stopped</span></span><br><span class="line">  <span class="comment">#   image: containrrr/watchtower</span></span><br><span class="line">  <span class="comment">#   environment:</span></span><br><span class="line">  <span class="comment">#     WATCHTOWER_CLEANUP: "true"</span></span><br><span class="line">  <span class="comment">#     WATCHTOWER_POLL_INTERVAL: 7200 # Checks for updates every two hours</span></span><br><span class="line">  <span class="comment">#   volumes:</span></span><br><span class="line">  <span class="comment">#     - "/var/run/docker.sock:/var/run/docker.sock"</span></span><br><span class="line">  <span class="comment">#     - "~/.docker/config.json:/config.json" # Optional, for authentication if you have a Docker Hub account</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line"><span class="attr">  photoprism-originals:</span></span><br><span class="line"><span class="attr">    driver:</span> <span class="string">local</span></span><br><span class="line"><span class="attr">    driver_opts:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">cifs</span></span><br><span class="line">      <span class="comment"># The IP of your NAS:</span></span><br><span class="line"><span class="attr">      o:</span> <span class="string">"username=elias,password=123,rw"</span></span><br><span class="line">      <span class="comment"># Share path on your NAS:</span></span><br><span class="line"><span class="attr">      device:</span> <span class="string">"//192.168.1.1/pic"</span></span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://photoprism.app/" target="_blank" rel="noopener">PhotoPrism </a></li><li>👉 <a href="https://docs.photoprism.org/getting-started/docker-compose/" target="_blank" rel="noopener">PhotoPrism Setup Using Docker Compose </a></li><li>Network about ↓</li><li>👉 <a href="https://docs.photoprism.org/getting-started/faq/#how-can-i-mount-network-shares-with-docker" target="_blank" rel="noopener">How can I mount network shares with Docker?</a></li><li>👉 <a href="https://github.com/photoprism/photoprism/discussions/1290" target="_blank" rel="noopener">Mount drive, I’m confused, need help.</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
            <tag> Selfhost </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Disable Windows Update</title>
      <link href="/archives/disableWindowsUpdate/"/>
      <url>/archives/disableWindowsUpdate/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>Disable Windows Update<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>win + r , input “services.msc”</li><li><img src="/images/disableWindowsUpdate/Snipaste_2021-10-02_02-39-27.png" alt></li><li>win + r , input “regedit”</li><li>make item “WindowsUpdate”</li><li><img src="/images/disableWindowsUpdate/Snipaste_2021-10-02_02-42-00.png" alt></li><li>make item “AU”</li><li><img src="/images/disableWindowsUpdate/Snipaste_2021-10-02_02-44-11.png" alt></li><li>make DWORD “AUOptions”</li><li><img src="/images/disableWindowsUpdate/Snipaste_2021-10-02_02-45-30.png" alt></li><li>value “2”</li><li><img src="/images/disableWindowsUpdate/Snipaste_2021-10-02_02-47-01.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Disable Windows Defender</title>
      <link href="/archives/disableWindowsDefender/"/>
      <url>/archives/disableWindowsDefender/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>Disable Windows Defender<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>win + r</li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-17-40.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-19-42.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-20-19.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-20-51.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-21-23.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-21-55.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-22-23.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-22-51.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-23-21.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-23-45.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-24-57.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-25-38.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-26-15.png" alt></li><li><img src="/images/disableWindowsDefender/Snipaste_2021-10-02_02-27-14.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Local Area Network(LAN) Formation Scheme</title>
      <link href="/archives/localAreaNetworkFormationScheme/"/>
      <url>/archives/localAreaNetworkFormationScheme/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>组一套家庭网络服务，充分利用全部闲置的计算设备。<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li><p>搭建千兆局域网，首先确保各个设备是千兆的</p><ol><li>千兆路由器</li><li>千兆交换机</li><li>千兆网线</li><li>各个计算设备搭载千兆网卡</li></ol></li><li><p>检查 windows 是否配置了千兆网卡</p></li><li><img src="/images/localAreaNetworkFormationScheme/Snipaste_2021-10-24_22-01-24.png" alt></li><li><img src="/images/localAreaNetworkFormationScheme/Snipaste_2021-10-24_22-02-26.png" alt></li><li><p><img src="/images/localAreaNetworkFormationScheme/Snipaste_2021-10-24_22-07-21.png" alt></p></li><li><p>检查网线是否千兆只需看网线上的标识：CAT5(百兆),CAT6(千兆) …</p></li><li><p>有线优于无线</p></li><li>如果实在没法用有线,但是无线信号差的话<ul><li>可用考虑使用网络设备中继一下,接收再转发信号</li></ul></li></ul><h2 id="Achievements"><a href="#Achievements" class="headerlink" title="Achievements"></a>Achievements</h2><ul><li>基于个人的网络环境,物理环境,计算设备,最终搭建的局域网络如下图所示：</li><li><img src="/images/localAreaNetworkFormationScheme/LAN-Struct.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Network </tag>
            
            <tag> LAN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Unsupport PassWord Authentication</title>
      <link href="/archives/githubUnsupportPassWordAuthentication/"/>
      <url>/archives/githubUnsupportPassWordAuthentication/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">remote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.</span><br><span class="line">remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.</span><br><span class="line">fatal: unable to access 'https://github.com/xxx/xxx.github.io.git/': The requested URL returned error: 403</span><br><span class="line">Something's wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html</span><br></pre></td></tr></table></figure></div><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li><p>Hexo =&gt; _config.yaml</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YAML"><figure class="iseeu highlight /yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">git</span></span><br><span class="line">    <span class="comment"># repo: https://github.com/OrekiYuta/OrekiYuta.github.io.git</span></span><br><span class="line"><span class="attr">    repo:</span> <span class="string">git@github.com:OrekiYuta/orekiyuta.github.io.git</span></span><br><span class="line"><span class="attr">    branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></div></li><li><p>👉 <a href="https://canoe.orekiyuta.cn/archives/Hexo-Install-Migrate/">Github SSH</a></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Use Github Api Commit</title>
      <link href="/archives/useGithubApiCommit/"/>
      <url>/archives/useGithubApiCommit/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><ul><li>使用 github 提供的 API 操作 repo</li><li>之后可利用该操作,对仓库项目提交,结合 github action 进行自动化部署<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="Read-Input"><a href="#Read-Input" class="headerlink" title="Read / Input"></a>Read / Input</h3><ul><li>查阅官方文档可见,接口说明 👉 <a href="https://docs.github.com/en/rest/reference/repos#create-or-update-file-contents" target="_blank" rel="noopener">Create or update file contents</a><ul><li><img src="/images/useGithubApiCommit/Snipaste_2021-08-05_21-15-21.png" alt>  </li></ul></li><li>鉴权说明 👉 <a href="https://docs.github.com/en/rest/guides/getting-started-with-the-rest-api#authentication" target="_blank" rel="noopener">Authentication</a></li></ul><h3 id="Do-Output"><a href="#Do-Output" class="headerlink" title="Do / Output"></a>Do / Output</h3><ul><li><p>申请 token   👉 <a href="https://github.com/settings/apps" target="_blank" rel="noopener">Settings/Developer settings/Personal access tokens</a> </p><ul><li>填写必要参数, 勾选需要的权限后, 点击 Generate token</li><li><img src="/images/useGithubApiCommit/Snipaste_2021-08-05_21-32-31.png" alt></li><li>这里需要注意保存一下 token 值, 只会显示一次 , 如果忘了再创建一个即可</li><li><img src="/images/useGithubApiCommit/Snipaste_2021-08-05_21-31-17.png" alt></li><li>github 会扫描 github 所有用户的 repo , 如果某个文件包含了 “token 值”,都会在此文件中清除掉 , 并在该 token 的持有者配置中 delete 掉该配置 , 就是上图选项 “Personal access tokens” 里</li></ul></li><li><p>利用 Flask 实现一下</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># github_pic_api.py</span></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> app.api <span class="keyword">import</span> pic</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> jsonify</span><br><span class="line"><span class="keyword">from</span> flask_cors <span class="keyword">import</span> CORS</span><br><span class="line"><span class="keyword">from</span> app.service <span class="keyword">import</span> github_commit_service</span><br><span class="line"></span><br><span class="line">CORS(pic, supports_credentials=<span class="literal">True</span>) <span class="comment"># 允许跨域请求</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pic.route("/", methods=["POST"])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upload_pic_to_github</span><span class="params">()</span>:</span></span><br><span class="line">    f = request.files.get(<span class="string">'file'</span>) <span class="comment"># 获取前端传输过来的文件对象</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 配置仓库参数</span></span><br><span class="line">    github_repo_config = &#123;</span><br><span class="line">        <span class="string">"token"</span>: <span class="string">"x"</span>, <span class="comment"># 申请得到的 token</span></span><br><span class="line">        <span class="string">"repo"</span>: <span class="string">"asscet"</span>, <span class="comment"># 公开的仓库名</span></span><br><span class="line">        <span class="string">"owner"</span>: <span class="string">"cat"</span>,  <span class="comment"># 仓库的拥有者</span></span><br><span class="line">        <span class="string">"email"</span>: <span class="string">"cat@gmail.com"</span>, <span class="comment"># 仓库拥有者的邮箱</span></span><br><span class="line">        <span class="string">"base_url"</span>: <span class="string">"https://api.github.com/repos/"</span>, <span class="comment"># github 基础接口地址</span></span><br><span class="line">        <span class="string">"repo_path"</span>: <span class="string">"ccc/"</span>, <span class="comment"># 公开的仓库里的目录位置</span></span><br><span class="line">        <span class="string">"file"</span>: f  <span class="comment"># 要操作的文件对象</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 配置本次提交的参数</span></span><br><span class="line">    commit_data = &#123;</span><br><span class="line">        <span class="string">"message"</span>: <span class="string">"use github api commit at "</span>, <span class="comment"># 提交 message</span></span><br><span class="line">        <span class="string">"committer"</span>: &#123;</span><br><span class="line">            <span class="string">"name"</span>: github_repo_config.get(<span class="string">"owner"</span>), <span class="comment"># 提交者名称</span></span><br><span class="line">            <span class="string">"email"</span>: github_repo_config.get(<span class="string">"email"</span>) <span class="comment"># 提交者邮箱</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"content"</span>: base64.b64encode(f.read()).decode(<span class="string">'utf-8'</span>), <span class="comment"># 需要把文件对象 base64 加密再转成 String</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 配置请求头参数,用于鉴权</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">"Authorization"</span>: <span class="string">'token '</span> + github_repo_config.get(<span class="string">"token"</span>),</span><br><span class="line">        <span class="string">"Accept"</span>: <span class="string">"application/vnd.github.v3+json"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    result = github_commit_service.commit_file(github_repo_config, commit_data, headers)</span><br><span class="line">    <span class="keyword">return</span> jsonify(result)</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># github_commit_service.py</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">commit_file</span><span class="params">(grc, commit_data, headers)</span>:</span></span><br><span class="line">    repo_url = grc.get(<span class="string">"base_url"</span>) \</span><br><span class="line">            + grc.get(<span class="string">"owner"</span>) + <span class="string">"/"</span> \</span><br><span class="line">            + grc.get(<span class="string">"repo"</span>) + <span class="string">"/contents/"</span> \</span><br><span class="line">            + grc.get(<span class="string">"repo_path"</span>) \</span><br><span class="line">            + grc.get(<span class="string">"file"</span>).filename</span><br><span class="line"></span><br><span class="line">    fin_result = &#123;</span><br><span class="line">        <span class="string">"req"</span>: <span class="string">""</span>,</span><br><span class="line">        <span class="string">"res"</span>: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        res = requests.put(repo_url, data=json.dumps(commit_data), headers=headers)</span><br><span class="line">        fin_result[<span class="string">"res"</span>] = bytes.decode(res.content)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        fin_result[<span class="string">"req"</span>] = <span class="string">"commit fail! unknown exception!"</span></span><br><span class="line">        <span class="keyword">return</span> fin_result</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># print(result.get("req"))  .get 如果 key 不存在 'req' 不会报错</span></span><br><span class="line">        <span class="comment"># print(result["req"])      [] 如果 key 不存在 'req' 会报错</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> res.status_code == <span class="number">201</span>:</span><br><span class="line">            fin_result[<span class="string">"req"</span>] = <span class="string">"commit success! great!"</span></span><br><span class="line">            <span class="keyword">return</span> fin_result</span><br><span class="line">        <span class="keyword">elif</span> res.status_code == <span class="number">422</span>:</span><br><span class="line">            <span class="comment"># 422 状态码,可能该文件名已经存在仓库中</span></span><br><span class="line">            fin_result.get(<span class="string">"req"</span>, <span class="string">"commit fail! content maybe exists!?"</span>)</span><br><span class="line">            <span class="keyword">return</span> fin_result</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            fin_result[<span class="string">"req"</span>] = <span class="string">"commit fail! check the res message."</span></span><br><span class="line">            <span class="keyword">return</span> fin_result</span><br></pre></td></tr></table></figure></div></li><li><p><img src="/images/useGithubApiCommit/Snipaste_2021-08-05_22-08-34.png" alt></p></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://docs.github.com/en/rest/reference/repos#create-or-update-file-contents" target="_blank" rel="noopener">Create or update file contents</a></li><li>👉 <a href="https://segmentfault.com/a/1190000015144126" target="_blank" rel="noopener">一篇文章搞定Github API 调用 (v3)</a></li><li>👉 <a href="https://wqian.net/blog/2019/0426-python-github-api-index.html" target="_blank" rel="noopener">python利用github的api实现文件的上传和更新</a></li><li>👉 <a href="https://www.bbsmax.com/A/Vx5MDry7JN/" target="_blank" rel="noopener">使用GitHub API上传文件及GitHub做图床</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitkraken Account Switch</title>
      <link href="/archives/gitkrakenAccountSwitch/"/>
      <url>/archives/gitkrakenAccountSwitch/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><ul><li>使用 Gitkraken GUI 工具,想要切换绑定的 github 账号拉取代码 </li><li>出现错误提示,无法断开当前 github 账户绑定</li><li><img src="/images/gitkrakenAccountSwitch/Snipaste_2021-07-28_21-50-19.png" alt></li></ul><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>经过一顿排查,查阅官网文档终于找到答案 </li><li><p>👉<a href="https://support.gitkraken.com/faq/" target="_blank" rel="noopener">How can I use multiple GitHub / GitLab / Bitbucket / Azure DevOps accounts with GitKraken?</a></p></li><li><p><img src="/images/gitkrakenAccountSwitch/Snipaste_2021-07-28_21-54-00.png" alt></p></li><li><p>定位到是 Gitkraken 软件版本的问题,即 Pro 版本才能自由切换账户绑定</p></li><li>可知 Gitkraken 在 6.5.1 之前是完全开源免费的,安装 6.5.1 版本即可<ul><li>在安装之前修改下 hosts 文件</li><li>添加<code>0.0.0.0 release.gitkraken.com</code> 防止被动更新最新版本</li></ul></li><li>更换版本后即可自由切换 github 账户绑定</li><li><img src="/images/gitkrakenAccountSwitch/Snipaste_2021-07-28_21-56-01.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Get AZ-900 Certification</title>
      <link href="/archives/getAZ-900Certification/"/>
      <url>/archives/getAZ-900Certification/</url>
      
        <content type="html"><![CDATA[<h2 id="Prepare"><a href="#Prepare" class="headerlink" title="Prepare"></a>Prepare</h2><ul><li>👉 <a href="https://docs.microsoft.com/en-us/learn/certifications/exams/az-900?wt.mc_id=learningredirect_certs-web-wwl" target="_blank" rel="noopener">Exam AZ-900: Microsoft Azure Fundamentals</a></li><li>Schedule exam </li><li>Review examination on the site Or outside materials <ul><li>👉<a href="https://raw.githubusercontent.com/OrekiYuta/Gear/master/Materials/AZ-900.rar" target="_blank" rel="noopener">AZ-900</a></li><li>👉<a href="https://github.com/OrekiYuta/Gear/blob/master/Materials/AZ-900.rar" target="_blank" rel="noopener">AZ-900.bakLink</a></li></ul></li></ul><h2 id="If-Pass"><a href="#If-Pass" class="headerlink" title="If Pass"></a>If Pass</h2><ul><li>Receive Mail<ul><li><img src="/images/getAZ-900Certification/Snipaste_2021-07-24_17-55-39.png" alt></li></ul></li><li>Get the Certification<ul><li><img src="/images/getAZ-900Certification/Snipaste_2021-07-24_17-58-48.png" alt></li></ul></li><li>Check on <ul><li>Profile =&gt; Certifications 👉 <a href="https://docs.microsoft.com/en-us/" target="_blank" rel="noopener">docs.microsoft.com</a></li><li>👉 <a href="https://www.credly.com/earner/earned" target="_blank" rel="noopener">credly</a></li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Certificate </tag>
            
            <tag> Microsoft </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery Loop Clone</title>
      <link href="/archives/jQueryLoopClone/"/>
      <url>/archives/jQueryLoopClone/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>循环 clone() 发现除了第一个元素以后的都不对劲</li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>使用 clone() 的时候要注意的是 clone 出来的元素标签需要放在 原型标签的后面</li></ul><a id="more"></a><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    　　<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://libs.baidu.com/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>clone<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> num = <span class="number">1</span>;num&lt;<span class="number">10</span>;num++)&#123;</span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 取首个 id 为 template 的元素 </span></span><br><span class="line"><span class="undefined">             * 如果 DOM 创建的节点插入在👆该元素的前面, 就会取到刚生成的节点</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> template = $(<span class="string">"#template"</span>).clone(); </span></span><br><span class="line"><span class="actionscript">            template.append(<span class="string">"&lt;button &gt;"</span>+num+<span class="string">"&lt;/button&gt;"</span>);</span></span><br><span class="line"><span class="undefined">            template.show();</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#cloneDiv"</span>).append(template);</span></span><br><span class="line"><span class="undefined">        &#125;   </span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>  <span class="attr">id</span>=<span class="string">"template"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>  <span class="attr">id</span>=<span class="string">"cloneDiv"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><p>否则就会将第一次 clone 出来的元素标签作为原型，进行后续 clone() ,如下：</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://libs.baidu.com/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>clone<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">for</span>(<span class="keyword">var</span> num = <span class="number">1</span>;num&lt;<span class="number">10</span>;num++)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> template = $(<span class="string">"#template"</span>).clone();</span></span><br><span class="line"><span class="actionscript">        template.append(<span class="string">"&lt;button &gt;"</span>+num+<span class="string">"&lt;/button&gt;"</span>);</span></span><br><span class="line"><span class="undefined">        template.show();</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#voteListDiv"</span>).append(template);</span></span><br><span class="line"><span class="undefined">    &#125;   </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>  <span class="attr">id</span>=<span class="string">"voteListDiv"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>  <span class="attr">id</span>=<span class="string">"template"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> jQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Use jsdeliver Load Static Resources</title>
      <link href="/archives/usejsdeliverLoadStaticResources/"/>
      <url>/archives/usejsdeliverLoadStaticResources/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>向 github 的 README 文件中添加图片链接</li><li>把图片上传到仓库,然后引用仓库的自动分配给图片的 <code>raw.githubusercontent.com</code> 域地址</li><li>但是这种方式只有能访问 <code>raw.githubusercontent.com</code> 的情况下才能加载图片</li><li>由于网络情况原因, DNS 污染 ,很多时候加载不出来</li><li>因此这种方式不够完善<a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2></li><li>解决这个问题的话，有两种方式<ul><li>利用 github 的仓库建个静态的图库站点,再取该站点的链接; 但这种方式取决于 github 的访问稳定情况</li><li>利用 CDN 内容分发服务, 这种方式能够完善的解决问题</li></ul></li><li>下面主要介绍利用 jsdelivr 和 github 仓库的 Releases 来部署静态资源</li></ul><ol><li>先把静态资源上传到仓库,然后创建 Releases<ul><li><img src="/images/usejsdeliverLoadStaticResources/Snipaste_2021-07-15_21-11-34.png" alt></li></ul></li><li>填写基本版本信息<ul><li><img src="/images/usejsdeliverLoadStaticResources/Snipaste_2021-07-15_21-12-32.png" alt></li></ul></li><li>然后 Publish release 即可</li><li>最后利用 jsdeliver 提供的服务即可<ul><li><code>https://cdn.jsdelivr.net/gh/[github用户名]/[仓库名][可选版本号]/[资源在仓库的路径]</code></li><li>如: <a href="https://cdn.jsdelivr.net/gh/OrekiYuta/OrekiYuta@1.0.0/OrekiYuta.png" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/OrekiYuta/OrekiYuta@1.0.0/OrekiYuta.png</a> </li><li>或, <a href="https://cdn.jsdelivr.net/gh/OrekiYuta/OrekiYuta@latest/OrekiYuta.png" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/OrekiYuta/OrekiYuta@latest/OrekiYuta.png</a></li><li><img src="https://cdn.jsdelivr.net/gh/OrekiYuta/OrekiYuta@1.0.0/OrekiYuta.png" alt="OrekiYuta"></li></ul></li></ol><ul><li>利用这种思想,还可以部署一些静态的服务<h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2></li><li>👉 <a href="https://www.jsdelivr.com/" target="_blank" rel="noopener">jsdelivr</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git Remote end hung up unexpectedly</title>
      <link href="/archives/gitRemoteEndHungUpUnexpectedly/"/>
      <url>/archives/gitRemoteEndHungUpUnexpectedly/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>查看 github 发现今日没有自动提交</li><li>手动 push 一下，发现异常情况,应该也是网络问题</li><li><img src="/images/gitRemoteEndHungUpUnexpectedly/Snipaste_2021-07-13_19-50-16.png" alt></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>把远程连接 https 改用 ssh</li><li><code>git remote set-url origin git@github.com:OrekiYuta/Temp.git</code></li><li><p><img src="/images/gitRemoteEndHungUpUnexpectedly/Snipaste_2021-07-13_19-51-27.png" alt></p><a id="more"></a></li><li><p>还是不行的话,再执行<code>git config --global http.postBuffer 524288000</code></p></li></ul><h3 id="针对-hexo"><a href="#针对-hexo" class="headerlink" title="针对 hexo"></a>针对 hexo</h3><ul><li>到 <code>C:\Users\[username]\.ssh</code>  目录下,新建 config 无后缀文件，写入以下内容</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">User 你GitHub的邮箱</span><br><span class="line">Hostname ssh.github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br><span class="line">Port 443</span><br></pre></td></tr></table></figure></div></li><li><p><code>ssh -T git@github.com</code>命令测试能否连接</p></li><li>如果能连接通的话</li><li>到 hexo 根目录配置文件 _config.yml ,修改连接方式</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">type: git</span><br><span class="line">repo: https://github.com/yourname/yourname.github.io.git</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://stackoverflow.com/questions/15240815/git-fatal-the-remote-end-hung-up-unexpectedly" target="_blank" rel="noopener">Git, fatal: The remote end hung up unexpectedly</a></li><li>👉 <a href="https://stackoverflow.com/questions/11200237/how-do-i-get-git-to-default-to-ssh-and-not-https-for-new-repositories" target="_blank" rel="noopener">How do I get git to default to ssh and not https for new repositories</a></li><li>👉 <a href="https://gist.github.com/daofresh/0a95772d582cafb202142ff7871da2fcs" target="_blank" rel="noopener">Fix error : RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly: PROTOCOL_ERROR (err 1)</a></li><li>👉 <a href="https://stackoverflow.com/questions/38618885/error-rpc-failed-curl-transfer-closed-with-outstanding-read-data-remaining" target="_blank" rel="noopener">error: RPC failed; curl transfer closed with outstanding read data remaining</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CORS Options Request</title>
      <link href="/archives/corsOptionsRequest/"/>
      <url>/archives/corsOptionsRequest/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><ul><li>在查看网络请求的时候发现一个动作发送了两次请求</li><li><img src="/images/corsOptionsRequest/Snipaste_2021-07-12_23-48-42.png" alt></li><li><img src="/images/corsOptionsRequest/Snipaste_2021-07-12_23-51-22.png" alt></li><li><img src="/images/corsOptionsRequest/Snipaste_2021-07-12_23-51-39.png" alt></li><li>查了一下，得知原因是以为 跨域非简单请求在真正的请求之前，需要先发送一次 OPTIONS 预请求</li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS" target="_blank" rel="noopener">跨源资源共享（CORS）</a></li><li>👉 <a href="https://juejin.cn/post/6850037275708817422" target="_blank" rel="noopener">http请求发生两次（原来是options请求）</a></li><li>👉 <a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener">跨域资源共享 CORS 详解</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>IE Ajax Always Error Callback</title>
      <link href="/archives/ieAjaxAlwaysErrorCallback/"/>
      <url>/archives/ieAjaxAlwaysErrorCallback/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><ul><li>使用 jQuery 的 $.ajax 发送网络请求 </li><li>在其他浏览器上返回正常结果</li><li><p>但是在 ie 上总是执行 error 回调</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- jquery<span class="number">-1.12</span><span class="number">.4</span>.min.js --&gt;</span><br><span class="line">$.ajax(&#123;</span><br><span class="line"><span class="keyword">async</span>:<span class="literal">false</span>,</span><br><span class="line">cache:<span class="literal">false</span>,</span><br><span class="line">type:<span class="string">"POST"</span>,</span><br><span class="line">data:param,</span><br><span class="line">url:<span class="string">"http://xxx"</span>,</span><br><span class="line">dataType: <span class="string">"json"</span>,</span><br><span class="line">success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(data);            </span><br><span class="line">&#125;,<span class="attr">error</span> : <span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(error)</span><br><span class="line">&#125;         </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div></li><li><p>如上代码在 ie 中总是得到 <code>[object Object]{readyState: 0, responseJSON: undefined, status: 0, statusText: &quot;No Transport&quot;</code></p><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2></li><li><p>在 $.ajax 执行之前加上 <code>jQuery.support.cors=true;</code> 即可</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- jquery<span class="number">-1.12</span><span class="number">.4</span>.min.js --&gt;</span><br><span class="line">jQuery.support.cors=<span class="literal">true</span>;</span><br><span class="line">$.ajax(&#123;</span><br><span class="line"><span class="keyword">async</span>:<span class="literal">false</span>,</span><br><span class="line">cache:<span class="literal">false</span>,</span><br><span class="line">type:<span class="string">"POST"</span>,</span><br><span class="line">data:param,</span><br><span class="line">url:<span class="string">"http://xxx"</span>,</span><br><span class="line">dataType: <span class="string">"json"</span>,</span><br><span class="line">success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(data);            </span><br><span class="line">&#125;,<span class="attr">error</span> : <span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(error)</span><br><span class="line">&#125;         </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li><code>jQuery.support.cors</code> 查看当前 jQuery 在当前浏览器是否支持跨域</li><li><img src="/images/ieAjaxAlwaysErrorCallback/Snipaste_2021-07-08_14-41-10.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Ajax </tag>
            
            <tag> Network </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Venv Migrate Invalid</title>
      <link href="/archives/pythonVenvMigrateInvalid/"/>
      <url>/archives/pythonVenvMigrateInvalid/</url>
      
        <content type="html"><![CDATA[<h2 id="Sence"><a href="#Sence" class="headerlink" title="Sence"></a>Sence</h2><ul><li>Python Flask 项目迁移到其他机器上开发，venv 虚拟环境无法使用</li><li>在 PyCharm 上指定该项目的虚拟环境 venv 的信息为 invalid 不可用</li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>因为项目在原机器上的路径和新机器上的路径的虚拟环境位置不同</li><li>查看可见在 venv 里面的几个文件里写的是旧机器的绝对路径<a id="more"></a></li><li><p>修改以下几个文件内容</p><ol><li><p>venv/pyvenv.cfg</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">home = 新机器的全局python环境变量绝对路径</span><br><span class="line">include-system-site-packages = false</span><br><span class="line">version = 3.7.0</span><br></pre></td></tr></table></figure></div></li><li><p>venv/Scripts/activate</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VIRTUAL_ENV=&quot;新机器的项目里的虚拟环境绝对路径\venv&quot;</span><br><span class="line">export VIRTUAL_ENV</span><br></pre></td></tr></table></figure></div></li><li><p>venv/Scripts/activate.bat</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set &quot;VIRTUAL_ENV=新机器的项目里的虚拟环境绝对路径\venv&quot;</span><br></pre></td></tr></table></figure></div></li><li><p>venv/Scripts/Activate.ps1</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$env:VIRTUAL_ENV=&quot;新机器的项目里的虚拟环境绝对路径\venv&quot;</span><br></pre></td></tr></table></figure></div></li></ol></li><li><p>再次尝试 激活/设置 虚拟环境,启动项目</p></li><li><p>然后可能还会遇到以下问题</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Fatal Python error: Py_Initialize: unable to load the file system codec</span><br><span class="line">ImportError: No module named &apos;encodings&apos;</span><br><span class="line">Current thread 0x00001db4 (most recent call first):</span><br></pre></td></tr></table></figure></div>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cannot set up a python SDK at Python 3.7 The SDK seems invalid</span><br></pre></td></tr></table></figure></div>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python ImportError: DLL load failed: %1 不是有效的 Win32 应用程序。</span><br></pre></td></tr></table></figure></div></li><li><p>我的解决方法是:</p><ul><li>在新的机器上创建一个新的虚拟环境 venv/</li><li>然后把该新的 venv/Script/ 目录下 除了 activate,activate.bat,Activate.ps1 以外的全部文件复制到 我们刚才迁移过来的项目的 venv/Script/ 目录下 并覆盖</li><li>再次给该项目指定 虚拟环境 venv 即可</li></ul></li><li>最后,以后在每个项目中还是需要添加一下环境依赖 <code>pip freeze&gt;requirements.txt</code></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://blog.csdn.net/u011580175/article/details/105795665" target="_blank" rel="noopener">项目路径变化后virtualenv(venv)无法激活</a></li><li>👉 <a href="https://blog.csdn.net/New_joined_lion/article/details/118053704" target="_blank" rel="noopener">Cannot set up a python SDK at Python 2.7 The SDK seems invalid - Python项目迁移时虚拟环境无法成功导入，致依赖包无法识别的问题</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Commit Account About</title>
      <link href="/archives/githubCommitAccountAbout/"/>
      <url>/archives/githubCommitAccountAbout/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>发现 Github 的 commit 没有显示在主页的记录图表中</li><li>排查后得出是 commit 的用户不对</li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h3><ul><li><p>先调整本地的 git config </p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 设置全局</span><br><span class="line">git config --global user.name &quot;Author Name&quot;</span><br><span class="line">git config --global user.email &quot;Author Email&quot;</span><br><span class="line"></span><br><span class="line">// 或者设置本地项目库配置</span><br><span class="line">git config user.name &quot;Author Name&quot;</span><br><span class="line">git config user.email &quot;Author Email&quot;</span><br></pre></td></tr></table></figure></div></li><li><p><strong>以后每次提交前都检查下用户</strong></p><a id="more"></a><h3 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h3></li><li>修改已经 commit 了的历史用户信息记录</li><li><code>git rebase -i HEAD~n</code> n 回溯到指定的位置</li><li>在想要修改的位置添加 <code>exec git commit --amend --author=&quot;New Author&lt;New Email Address&gt;&quot; -C HEAD</code></li><li><img src="/images/githubCommitAccountAbout/Snipaste_2021-06-29_10-51-06.png" alt></li><li><code>git pull</code></li><li><code>git push</code></li><li>结果如下，并不能完全移除之前的提交历史，只是替换了</li><li><img src="/images/githubCommitAccountAbout/Snipaste_2021-06-29_14-31-56.png" alt><h3 id="git-filter-branch"><a href="#git-filter-branch" class="headerlink" title="git filter-branch"></a>git filter-branch</h3></li><li>同样的修改历史用户信息记录</li><li><p>shell 脚本循环所有 commit 记录修改</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">git filter-branch --env-filter '</span><br><span class="line">OLD_EMAIL="your-old-email@example.com"</span><br><span class="line">CORRECT_NAME="Your Correct Name"</span><br><span class="line">CORRECT_EMAIL="your-correct-email@example.com"</span><br><span class="line">if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]</span><br><span class="line">then</span><br><span class="line">    export GIT_COMMITTER_NAME="$CORRECT_NAME"</span><br><span class="line">    export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"</span><br><span class="line">fi</span><br><span class="line">if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]</span><br><span class="line">then</span><br><span class="line">    export GIT_AUTHOR_NAME="$CORRECT_NAME"</span><br><span class="line">    export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"</span><br><span class="line">fi</span><br><span class="line">' --tag-name-filter cat -- --branches --tags</span><br></pre></td></tr></table></figure></div></li><li><p><code>git pull</code></p></li><li><code>git push</code></li><li>和前面的 rebase 同样效果</li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>👉 <a href="https://www.cnblogs.com/hiver/p/7891724.html" target="_blank" rel="noopener">Github个人主页不显示提交记录的问题</a></li><li>👉 <a href="https://stackoverflow.com/questions/750172/how-to-change-the-author-and-committer-name-and-e-mail-of-multiple-commits-in-gi" target="_blank" rel="noopener">How to change the author and committer name and e-mail of multiple commits in Git?</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL Migrate 8.0.18 -&gt; 5.6.28</title>
      <link href="/archives/mysqlMigrate8-0-18to5-6-28/"/>
      <url>/archives/mysqlMigrate8-0-18to5-6-28/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>迁移 MySQL 数据库</li><li>用 Navicat 转储 SQL 文件</li><li>再导入新数据库<br><img src="/images/mysqlMigrate8-0-18to5-6-28/Snipaste_2021-06-26_17-30-25.png" alt></li><li>unkown collation:’utf8mb4_0900_ai_ci’<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2></li><li><p>这是因为 数据库版本 不一致 导致的</p><a id="more"></a><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- old db</span></span><br><span class="line">mysql&gt;  select version();</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">| version() |</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">| 8.0.18    |</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br></pre></td></tr></table></figure></div>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- new db</span></span><br><span class="line">mysql&gt;  select version();</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| version()          |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| 5.6.28-cdb2016-log |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br></pre></td></tr></table></figure></div></li><li><p>把转储 SQL 文件中的所有的 utf8mb4_0900_ai_ci 替换为 utf8_general_ci </p></li><li>把转储 SQL 文件中的所有的 utf8mb4 替换为 utf8</li><li>再次导入即可</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>File Sharing On Win</title>
      <link href="/archives/fileSharingOnWin/"/>
      <url>/archives/fileSharingOnWin/</url>
      
        <content type="html"><![CDATA[<h2 id="带账户密码的文件共享的几个要点"><a href="#带账户密码的文件共享的几个要点" class="headerlink" title="带账户密码的文件共享的几个要点"></a>带账户密码的文件共享的几个要点</h2><ul><li>开启密码共享</li><li><img src="/images/fileSharingOnWin/Snipaste_2021-06-04_22-01-49.png" alt></li><li>创建账户</li><li><img src="/images/fileSharingOnWin/Snipaste_2021-06-04_22-04-12.png" alt></li><li>设置文件共享权限</li><li><img src="/images/fileSharingOnWin/Snipaste_2021-06-04_22-06-07.png" alt></li><li><img src="/images/fileSharingOnWin/Snipaste_2021-06-04_22-07-09.png" alt></li><li><img src="/images/fileSharingOnWin/Snipaste_2021-06-04_22-08-15.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Set up Seafile</title>
      <link href="/archives/setupSeafile/"/>
      <url>/archives/setupSeafile/</url>
      
        <content type="html"><![CDATA[<h2 id="Linux-Server"><a href="#Linux-Server" class="headerlink" title="Linux Server"></a>Linux Server</h2><ul><li><code>yum install docker-compose -y</code></li><li>编写 docker-compose.yml </li><li><code>docker-compose up -d</code></li><li>进入 <code>http://&lt;您的 IP 地址&gt;:8000</code> </li><li>右上角 System Admin -&gt; Settings 更改 url 为该机器地址</li><li>👉 <a href="https://github.com/OrekiYuta/Gear/blob/master/Seafile/linux/docker-compose.yml" target="_blank" rel="noopener">docker-compose.yml</a></li><li>👉 <a href="https://cloud.seafile.com/published/seafile-manual-cn/docker/%E7%94%A8Docker%E9%83%A8%E7%BD%B2Seafile.md" target="_blank" rel="noopener">用 Docker 部署 Seafile 服务</a><a id="more"></a><h2 id="Windows-Server"><a href="#Windows-Server" class="headerlink" title="Windows Server"></a>Windows Server</h2></li><li>强制要 Python 2.7.11 32位环境</li><li>下载解压 Seafile 文件</li><li>启动目录下的 run.bat</li><li>选择存储位置</li><li>添加管理员账号</li><li>进入 <code>http://&lt;您的 IP 地址&gt;:8000</code> </li><li>右上角 System Admin -&gt; Settings 更改 127.0.0.1 为该机器 ip</li><li>👉 <a href="https://github.com/OrekiYuta/Gear/tree/master/Seafile/win" target="_blank" rel="noopener">seafile-server_6.0.7_win32.tar.gz</a></li><li>👉 <a href="https://cloud.seafile.com/published/seafile-manual-cn/deploy_windows/download_and_setup_seafile_windows_server.md" target="_blank" rel="noopener">Windows 版 Seafile 服务器</a></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><h3 id="Docker-Compose-ERROR-network-has-active-endpoints"><a href="#Docker-Compose-ERROR-network-has-active-endpoints" class="headerlink" title="Docker Compose ERROR network has active endpoints"></a>Docker Compose ERROR network has active endpoints</h3><ul><li>删除 container 和 image 之后重新部署不成功</li><li>因为之前的 network 没删除仍然存在</li><li>方法一：重启 docker <code>sudo service docker restart</code></li><li>方法二：删除网络</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker network ls</span><br><span class="line">docker network inspect [网络ID]</span><br><span class="line">docker network disconnet -f [网络ID] [容器Name]</span><br></pre></td></tr></table></figure></div></li><li><p><img src="/images/setupSeafile/Snipaste_2021-06-04_21-34-14.png" alt></p></li><li><img src="/images/setupSeafile/Snipaste_2021-06-04_21-36-54.png" alt></li><li><img src="/images/setupSeafile/Snipaste_2021-06-04_21-38-04.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
            <tag> Windows </tag>
            
            <tag> Selfhost </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deamon bat</title>
      <link href="/archives/daemonBat/"/>
      <url>/archives/daemonBat/</url>
      
        <content type="html"><![CDATA[<h2 id="创建守护进程监控-gt-指定进程"><a href="#创建守护进程监控-gt-指定进程" class="headerlink" title="创建守护进程监控 =&gt; 指定进程"></a>创建守护进程监控 =&gt; 指定进程</h2><ul><li>在 win 中可以通过以下几种方式查看进程状况  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">@REM 查看端口</span></span><br><span class="line">netstat -an | <span class="built_in">find</span> /C "<span class="number">127</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span>:<span class="number">1313</span>"</span><br><span class="line"></span><br><span class="line"><span class="comment">@REM 查看进程名</span></span><br><span class="line">tasklist | <span class="built_in">find</span> /i "App.exe" </span><br><span class="line"></span><br><span class="line"><span class="comment">@REM 查看进程句柄标题</span></span><br><span class="line">tasklist /fi "windowtitle eq App"</span><br></pre></td></tr></table></figure></div></li></ul><a id="more"></a><ul><li><p>选择合适的方式监控即可</p></li><li><p>循环监控端口</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">@REM fileName, mamoru.bat</span></span><br><span class="line">:RESTART</span><br><span class="line"><span class="built_in">title</span> mamoru</span><br><span class="line">netstat -an | <span class="built_in">find</span> /C "<span class="number">127</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span>:<span class="number">1313</span>" &gt; temp.txt </span><br><span class="line"><span class="built_in">set</span> /p num=&lt;temp.txt</span><br><span class="line"><span class="built_in">del</span> /F temp.txt</span><br><span class="line"><span class="keyword">if</span> <span class="variable">%num%</span> == <span class="number">0</span> <span class="built_in">start</span> /D "C:\Users" xx.bat</span><br><span class="line"><span class="comment">@REM echo Wscript.Sleep WScript.Arguments(0) &gt;sleep.vbs</span></span><br><span class="line"><span class="comment">@REM cscript //b //nologo sleep.vbs 5000</span></span><br><span class="line">     </span><br><span class="line"><span class="built_in">ping</span> <span class="number">127</span>.<span class="number">1</span> -n <span class="number">5</span> &gt;<span class="built_in">nul</span> <span class="number">2</span>&gt;<span class="built_in">nul</span></span><br><span class="line"><span class="keyword">goto</span> RESTART</span><br></pre></td></tr></table></figure></div>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="VBS"><figure class="iseeu highlight /vbs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">' fileName, mamoru.vbs</span></span><br><span class="line"><span class="comment">' 隐藏运行</span></span><br><span class="line"><span class="keyword">set</span> ws = <span class="built_in">createobject</span>(<span class="string">"wscript.shell"</span>)</span><br><span class="line">ws.run <span class="string">"mamoru.bat"</span>,vbhide</span><br></pre></td></tr></table></figure></div><ul><li>创建 mamoru.bat , 每隔 5s 检测端口进程是否存在,不存在就启动 xx.bat</li></ul></li><li><p>监控 XMR</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">title</span> XMR_Daemon</span><br><span class="line"><span class="built_in">echo</span>. Process Checking...</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> forN = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">:<span class="built_in">start</span></span><br><span class="line"><span class="built_in">set</span> /a forN += <span class="number">1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%forN%</span></span><br><span class="line">tasklist /fi "windowtitle eq XMR" | <span class="built_in">find</span> "<span class="built_in">cmd</span>"</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="variable">%forN%</span> <span class="keyword">equ</span> <span class="number">3</span> <span class="keyword">goto</span> end</span><br><span class="line"><span class="keyword">if</span> "<span class="variable">%errorlevel%</span>" =="<span class="number">0</span>" (<span class="keyword">goto</span> <span class="keyword">exist</span>) <span class="keyword">else</span> (<span class="keyword">goto</span> unexist)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%forN%</span></span><br><span class="line">:<span class="keyword">exist</span></span><br><span class="line"><span class="built_in">echo</span>. Process <span class="keyword">exist</span> . <span class="keyword">do</span> nothing.</span><br><span class="line"><span class="keyword">goto</span> <span class="built_in">start</span></span><br><span class="line"></span><br><span class="line">:unexist</span><br><span class="line"><span class="built_in">echo</span>. Process unexist . restart XMR</span><br><span class="line"><span class="built_in">start</span> /D "C:\Users\" <span class="built_in">start</span>.<span class="built_in">cmd</span></span><br><span class="line"><span class="built_in">ping</span> <span class="number">127</span>.<span class="number">1</span> -n <span class="number">5</span> &gt; <span class="built_in">nul</span></span><br><span class="line"><span class="keyword">goto</span> <span class="built_in">start</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:end</span><br><span class="line"><span class="built_in">echo</span>. XMR_Daemon <span class="keyword">exit</span></span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure></div><ul><li>find 会有返回值 errorlevel , 根据该值判断状态</li><li>循环 3 次判断 进程标题名等于 XMRig 6.12.0 的进程是否存在, 不存在就启动 start.cmd</li></ul></li><li><p>监控 ethminer </p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">title</span> Eth_Daemon</span><br><span class="line"><span class="built_in">echo</span>. Process Checking...</span><br><span class="line"></span><br><span class="line">netstat -an | <span class="built_in">find</span> /C "<span class="number">13333</span>" &gt; temp.txt </span><br><span class="line"><span class="built_in">set</span> /p num=&lt;temp.txt</span><br><span class="line"><span class="built_in">del</span> /F temp.txt</span><br><span class="line"><span class="keyword">if</span> <span class="variable">%num%</span> == <span class="number">0</span> (<span class="keyword">goto</span> unexist) <span class="keyword">else</span> (<span class="keyword">goto</span> <span class="keyword">exist</span>)</span><br><span class="line"></span><br><span class="line">:<span class="keyword">exist</span></span><br><span class="line"><span class="built_in">echo</span>. Process <span class="keyword">exist</span> . <span class="keyword">do</span> nothing.</span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line"></span><br><span class="line">:unexist</span><br><span class="line"><span class="built_in">echo</span>. Process unexist . restart ethminer</span><br><span class="line"><span class="built_in">start</span> /D "C:\Users\" <span class="built_in">start</span>.bat</span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line"></span><br><span class="line">:end</span><br><span class="line"><span class="built_in">echo</span>. Eth_Daemon <span class="keyword">exit</span></span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li><p>find 的更多用法</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">@REM tasklist /fi "imagename eq cmd.exe" /fi "windowtitle eq ethminer.exe" </span></span><br><span class="line"><span class="comment">@REM tasklist /fi "windowtitle eq 管理员:  ethminer.exe" | find "cmd"</span></span><br></pre></td></tr></table></figure></div></li><li><p>find 的返回值偶尔有点问题,状态不一样还是返回一样的值</p><ul><li>这种情况只能换 <code>netstat</code> 监控端口</li></ul></li><li>以批处理方式启动,也就是 bat 文件启动的进程都是 cmd.exe<ul><li>这样的进程通过  <code>tasklist /fi &quot;windowtitle eq&quot;</code> 监控比较好,在各自的 bat 文件里配置 title</li></ul></li><li>以管理员方式启动的 bat , 用 <code>tasklist /fi &quot;windowtitle eq&quot;</code> 需要注意 “管理员” 后带着两个字符的空格</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Batch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 turns blue screen when opening Android emulator</title>
      <link href="/archives/win10TurnsBlueScreenWhenOpeningAndroidEmulator/"/>
      <url>/archives/win10TurnsBlueScreenWhenOpeningAndroidEmulator/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>在编写 flutter 启动 emulator 后，关闭 emulator 不完整</li><li>导致虚拟化一致存在</li><li>之后一旦启动 emulator/安卓模拟器，win10 就立刻蓝屏<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>win + R 输入 <code>msinfo32.exe</code></li><li>可见 &lt;基于虚拟化的安全性    正在运行&gt;</li><li>下载工具 👉<a href="https://github.com/OrekiYuta/Gear/tree/master/Emulator" target="_blank" rel="noopener">关闭基于虚拟化的安全性</a></li><li><p>解压后 cd 到 目录下</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.Set-ExecutionPolicy RemoteSigned</span><br><span class="line">来允许运行脚本，根据提示输入：y</span><br><span class="line"></span><br><span class="line">##关闭基于虚拟化的安全性</span><br><span class="line">2.关闭的命令：./DG_Readiness_Tool_v3.6.ps1 -Disable -AutoReboot</span><br><span class="line">   </span><br><span class="line">##打开基于虚拟化的安全性</span><br><span class="line">3.开启的命令：./DG_Readiness_Tool_v3.6.ps1 -Enable -AutoReboot</span><br><span class="line"></span><br><span class="line">4.检查DG是否还在运行: ./DG_Readiness_Tool_v3.6.ps1 -Ready</span><br></pre></td></tr></table></figure></div></li><li><p>稍后系统自动重启，重启过程出现选项 按 F3 跳过</p></li><li>进入系统重新查看 &lt;基于虚拟化的安全性    未启用&gt; 即可</li></ul><h2 id="Other-Solution"><a href="#Other-Solution" class="headerlink" title="Other Solution"></a>Other Solution</h2><h3 id="A"><a href="#A" class="headerlink" title="A"></a>A</h3><ul><li>控制面板-程序-程序和功能-启用或关闭 Windows 功能</li><li>关闭 Hyper-V 、沙盒等虚拟化服务</li><li>或者 执行命令彻底关闭 <code>bcdedit /set hypervisorlaunchtype off</code></li></ul><h3 id="B"><a href="#B" class="headerlink" title="B"></a>B</h3><ul><li>计算机管理-服务和应用程序-服务- HV主机服务，关闭</li><li>或者 执行命令彻底关闭 <code>bcdedit /set hypervisorlaunchtype off</code></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vritual Disk Mapping</title>
      <link href="/archives/vritualDiskMapping/"/>
      <url>/archives/vritualDiskMapping/</url>
      
        <content type="html"><![CDATA[<h2 id="Create-Vritual-Disk-Mapping"><a href="#Create-Vritual-Disk-Mapping" class="headerlink" title="Create Vritual Disk Mapping"></a>Create Vritual Disk Mapping</h2><ul><li>将物理盘符中的目录映射到虚拟盘符，能够在一定的场景发挥作用</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">::在物理盘符下创建文件夹</span><br><span class="line">::如果存在虚拟盘符就执行删除盘符映射关系</span><br><span class="line">::创建虚拟盘符并映射到物理盘符的文件夹</span><br><span class="line">::打开虚拟盘符</span><br><span class="line"></span><br><span class="line">::H 物理盘符名</span><br><span class="line"><span class="built_in">md</span> H:\RECYCLED\UDrives.&#123;<span class="number">25336920</span>-<span class="number">03</span>F9-<span class="number">11</span>CF-<span class="number">8</span>FD0-<span class="number">00</span>AA00686F13&#125;&gt;<span class="built_in">NUL</span></span><br><span class="line">::M 虚拟盘符名</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> M:\<span class="built_in">NUL</span> <span class="keyword">goto</span> delete</span><br><span class="line">::映射虚拟盘符 M 到 物理盘符 H 下的 RECYCLED\UDrives.&#123;<span class="number">25336920</span>-<span class="number">03</span>F9-<span class="number">11</span>CF-<span class="number">8</span>FD0-<span class="number">00</span>AA00686F13&#125; 目录</span><br><span class="line"><span class="built_in">subst</span> M: H:\RECYCLED\UDrives.&#123;<span class="number">25336920</span>-<span class="number">03</span>F9-<span class="number">11</span>CF-<span class="number">8</span>FD0-<span class="number">00</span>AA00686F13&#125;</span><br><span class="line"><span class="built_in">start</span> M:\</span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line">:delete</span><br><span class="line"><span class="built_in">subst</span> /D M:</span><br><span class="line">:end</span><br></pre></td></tr></table></figure></div><a id="more"></a><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">set</span> inputTimes=<span class="number">3</span></span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"><span class="built_in">echo</span> Notice:Three opportunities.</span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"></span><br><span class="line">:<span class="number">1</span></span><br><span class="line"><span class="built_in">set</span> /p password=Input password：</span><br><span class="line"><span class="keyword">if</span> \"<span class="variable">%password%</span>\"==\"IamPassword\" <span class="keyword">goto</span> o</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /a inputTimes-=<span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> \"<span class="variable">%inputTimes%</span>\"==\"<span class="number">0</span>\" <span class="built_in">cls</span>&amp;<span class="built_in">echo</span>.&amp;<span class="built_in">echo</span> =&lt;Passenger no entry&gt;<span class="variable">!!!</span>=&amp;<span class="built_in">echo</span>.&amp;<span class="built_in">pause</span>&amp;<span class="built_in">echo</span>.&amp;<span class="keyword">exit</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cls</span>&amp;<span class="built_in">echo</span>.&amp;<span class="built_in">echo</span> There are <span class="variable">%inputTimes%</span> opportunities left&amp;<span class="built_in">echo</span>.&amp;<span class="keyword">goto</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">:o</span><br><span class="line"><span class="built_in">cls</span>&amp;<span class="built_in">echo</span>.</span><br><span class="line"><span class="built_in">echo</span>= Welcome<span class="variable">!!!</span> =</span><br><span class="line"><span class="built_in">md</span> H:\RECYCLED\UDrives.&#123;<span class="number">25336920</span>-<span class="number">03</span>F9-<span class="number">11</span>CF-<span class="number">8</span>FD0-<span class="number">00</span>AA00686F13&#125;&gt;<span class="built_in">NUL</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> M:\<span class="built_in">NUL</span> <span class="keyword">goto</span> delete</span><br><span class="line"><span class="built_in">subst</span> M: H:\RECYCLED\UDrives.&#123;<span class="number">25336920</span>-<span class="number">03</span>F9-<span class="number">11</span>CF-<span class="number">8</span>FD0-<span class="number">00</span>AA00686F13&#125;</span><br><span class="line"><span class="built_in">start</span> M:\</span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line">:delete</span><br><span class="line"><span class="built_in">subst</span> /D M:</span><br><span class="line">:end</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      
        <tags>
            
            <tag> Batch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Try Flutter</title>
      <link href="/archives/tryFlutter/"/>
      <url>/archives/tryFlutter/</url>
      
        <content type="html"><![CDATA[<h2 id="Get-started"><a href="#Get-started" class="headerlink" title="Get started"></a>Get started</h2><ul><li>get SDK 👉<a href="https://flutter.dev/docs/development/tools/sdk/releases" target="_blank" rel="noopener">Flutter SDK releases</a></li><li>update system path</li><li><img src="/images/tryflutter/Snipaste_2021-04-09_20-44-44.png" alt></li><li>update user path</li><li><img src="/images/tryflutter/Snipaste_2021-04-09_20-45-40.png" alt></li><li><img src="/images/tryflutter/Snipaste_2021-04-09_20-46-04.png" alt></li><li><code>flutter doctor</code></li><li><img src="/images/tryflutter/Snipaste_2021-04-09_20-50-12.png" alt></li><li>👉<a href="https://developer.android.com/studio/index.html" target="_blank" rel="noopener">Android Studio</a><a id="more"></a></li></ul><h2 id="First-Go"><a href="#First-Go" class="headerlink" title="First Go"></a>First Go</h2><ul><li><code>flutter create projectname</code></li><li><code>code ./</code> open by vscode</li><li><code>flutter doctor</code> re-examined</li><li><img src="/images/tryflutter/Snipaste_2021-04-10_01-17-04.png" alt></li><li><code>flutter emulator</code> check emulator</li><li><img src="/images/tryflutter/Snipaste_2021-04-10_01-18-32.png" alt></li><li><code>flutter emulators --launch Pixel_3a_API_30_x86</code> run the emulator</li><li><img src="/images/tryflutter/Snipaste_2021-04-10_01-19-50.png" alt></li><li><code>flutter run</code> or <code>flutter run -d &lt;emulatorId&gt;</code></li><li><img src="/images/tryflutter/Snipaste_2021-04-10_01-27-37.png" alt></li></ul><h2 id="Get-lib"><a href="#Get-lib" class="headerlink" title="Get lib"></a>Get lib</h2><ul><li>👉<a href="https://pub.dev/" target="_blank" rel="noopener">pub.dev</a></li><li><p>在项目目录下 pubspec.yaml 里加入依赖和版本号</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YAML"><figure class="iseeu highlight /yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dependencies:</span></span><br><span class="line"><span class="attr">  flutter:</span></span><br><span class="line"><span class="attr">    sdk:</span> <span class="string">flutter</span></span><br><span class="line"><span class="attr">  intl:</span> <span class="string">^0.17.0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># The following adds the Cupertino Icons font to your application.</span></span><br><span class="line">  <span class="comment"># Use with the CupertinoIcons class for iOS style icons.</span></span><br><span class="line"><span class="attr">  cupertino_icons:</span> <span class="string">^1.0.2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">dev_dependencies:</span></span><br><span class="line"><span class="attr">  flutter_test:</span></span><br><span class="line"><span class="attr">    sdk:</span> <span class="string">flutter</span></span><br></pre></td></tr></table></figure></div></li><li><p>保存即可，或者到 console 执行 <code>flutter packages get</code></p></li></ul><h2 id="In-process"><a href="#In-process" class="headerlink" title="In process"></a>In process</h2><h3 id="Could-not-receive-a-message-from-the-daemon"><a href="#Could-not-receive-a-message-from-the-daemon" class="headerlink" title="Could not receive a message from the daemon."></a>Could not receive a message from the daemon.</h3><ul><li><img src="/images/tryflutter/Snipaste_2021-05-03_00-54-16.png" alt></li><li>关闭共享的网络即可 👉<a href="https://stackoverflow.com/questions/49609313/could-not-receive-a-message-from-the-daemon" target="_blank" rel="noopener">Could not receive a message from the daemon</a></li><li><img src="/images/tryflutter/Snipaste_2021-05-03_00-58-11.png" alt></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><h3 id="异常关闭-emulator-导致再次启动黑屏"><a href="#异常关闭-emulator-导致再次启动黑屏" class="headerlink" title="异常关闭 emulator 导致再次启动黑屏"></a>异常关闭 emulator 导致再次启动黑屏</h3><ul><li>原因是因为 emulator 启动采用的是热启动，下次启动会采用上次关闭保存的状态</li><li>解决方法：用 Android Studio 打开 emulator 设置,用 Cold boot now 即可，下次启动用回原本的启动方式即可</li><li><img src="/images/tryflutter/Snipaste_2021-05-16_16-27-58.png" alt></li><li>bat 启动脚本<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> C:\Users\[userName]\AppData\Local\Android\Sdk\emulator\emulator.exe  -netspeed full -avd Pixel_2_API_30</span><br><span class="line"></span><br><span class="line"><span class="comment">rem avd 默认目录 C:\Users\[userName]\.android\avd</span></span><br></pre></td></tr></table></figure></div></li></ul><h2 id="包依赖冲突"><a href="#包依赖冲突" class="headerlink" title="包依赖冲突"></a>包依赖冲突</h2><ul><li>把冲突的包版本改为 any</li><li>👉 <a href="https://iiro.dev/resolving-dart-package-version-conflicts/" target="_blank" rel="noopener">Resolving package version conflicts in Dart</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Flutter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Acer Bios Reset PW</title>
      <link href="/archives/acerBiosResetPW/"/>
      <url>/archives/acerBiosResetPW/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>Acer 主板进入 bios 需要密码，但是又不知道密码<a id="more"></a></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li><img src="/images/acerBiosResetPW/01.jpg" alt></li><li>先输入三次任意密码，然后出现下面的选项</li><li><img src="/images/acerBiosResetPW/02.jpg" alt></li><li>进入第一个选项</li><li>然后看到 Enter Unlock Password(key:xxxxx)</li><li>进入 <a href="https://bios-pw.org/" target="_blank" rel="noopener">https://bios-pw.org/</a> </li><li>输入上面的 key</li><li><img src="/images/acerBiosResetPW/04.png" alt></li><li>取得对应的 code 并输入</li></ul><h3 id="取消-bios-密码"><a href="#取消-bios-密码" class="headerlink" title="取消 bios 密码"></a>取消 bios 密码</h3><ul><li><img src="/images/acerBiosResetPW/03.jpg" alt></li><li>第一行输入刚才取得的 code , 其余两行直接回车</li><li>保存设置即可</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSH Port Mapping</title>
      <link href="/archives/SSHPortMapping/"/>
      <url>/archives/SSHPortMapping/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ol><li><ul><li>正常来说在服务器部署了一个服务，要访问该服务得用该云服务器 ip + 端口</li><li>然后去云服务器商设置开放端口，最后才能访问</li><li>但是，我们只是想随手用一下而已，又懒得去开放端口</li><li>这种时候可以用 SSH 端口映射</li></ul></li></ol><hr><ol start="2"><li><ul><li>我们想从公网去访问局域网内部的服务</li><li>也可以利用 SSH 端口映射 把 云服务器的请求转发到 局域网内部设备里</li></ul></li></ol><hr><ol start="3"><li><ul><li>不同子网之间的访问</li><li>内网穿透原理应该也是差不多</li></ul></li></ol><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="本地端口转发-从本地访问公网内部子网服务"><a href="#本地端口转发-从本地访问公网内部子网服务" class="headerlink" title="本地端口转发-从本地访问公网内部子网服务"></a>本地端口转发-从本地访问公网内部子网服务</h3><ul><li>这里的操作视角为 本机 -&gt; 云服务器</li><li>这里的用户视角为 本机或处于同一网络下的机器 -&gt; 云服务器</li><li><code>ssh root@ip</code> 正常登录服务器 </li><li><code>ssh -L 2222:localhost:8080 root@ip</code> 这里就相当于把本机的 2222 端口 转发到 云服务器的 8080 端口<ul><li><code>ssh -L 本机地址:云服务器内网地址 root@ip</code></li><li>2222 其实是 localhost:2222 本机</li><li>而 localhost:8080 指的是 服务器内网中该服务器的地址</li><li>这个转发会在退出服务器登录时失效</li></ul></li><li><code>ssh -L 192.168.1.200:2222:localhost:8080 root@ip</code> </li><li>最后，就可以使得与本机处于同一网段的机器一起使用该地址转发到 云服务器的 8080 端口</li></ul><h3 id="远程端口转发-从公网访问与本机不在同一网段的服务"><a href="#远程端口转发-从公网访问与本机不在同一网段的服务" class="headerlink" title="远程端口转发-从公网访问与本机不在同一网段的服务"></a>远程端口转发-从公网访问与本机不在同一网段的服务</h3><ul><li>这里的操作视角为 远端子网机器 -&gt; 云服务器</li><li>这里的用户视角为 用户机器 -&gt; 云服务器 -&gt; 远端子网机器</li><li><p><code>ssh -R 3333:10.10.10.254:7777 root@ip</code> 这里意思就是将云服务器的端口 转发到 远端子网机器的 3333 端口 </p><ul><li><code>ssh -R 云服务器内网地址:远端子网机器地址 root@ip</code></li><li>3333 就是 云服务器的 localhost:3000</li><li>10.10.10.254:7777 为远端子网机器的地址</li><li>执行该命令后可用 <code>netstat -anp | grep 3333</code> 查看是否启用了监听该端口的服务</li></ul></li><li><p>当然这样还不行，问题在于安全问题，不能随意把远程端口开放了</p><ul><li>SSH 默认把该操作关闭了</li></ul></li><li>修改配置，开放该操作</li><li><code>vim /etc/ssh/sshd_config</code><pre><code class="diff"><span class="deletion">-#GatewayPorts no</span><span class="addition">+GatewayPorts yes</span></code></pre></li><li><code>systemctl restart sshd</code>  </li><li><code>ssh -R 0.0.0.0:3333:10.10.10.254:7777 root@ip</code> </li><li><code>netstat -anp | grep 3333</code> 再次查看</li><li>当然同时还要在云服务器商设置里把 3333 端口开放</li><li>最后，就可以通过 云服务器公网 ip + 端口 访问到 远程子网的机器里的端口服务了</li></ul><h3 id="访问不同网络下的设备-两者结合"><a href="#访问不同网络下的设备-两者结合" class="headerlink" title="访问不同网络下的设备-两者结合"></a>访问不同网络下的设备-两者结合</h3><ul><li>在前面两个的基础上，远程机器设置转发，本地机器也设置转发</li><li>就可以达到，利用处于公网的云服务器作为中介去访问不同网络下的机器</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bitwarden On Docker</title>
      <link href="/archives/bitwardenOnDocker/"/>
      <url>/archives/bitwardenOnDocker/</url>
      
        <content type="html"><![CDATA[<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum install docker</span><br><span class="line"><span class="comment"># ------</span></span><br><span class="line">su root</span><br><span class="line">systemctl <span class="built_in">enable</span> docker</span><br><span class="line">systemctl start docker</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure></div><h2 id="Portainer"><a href="#Portainer" class="headerlink" title="Portainer"></a>Portainer</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull portainer/portainer</span><br><span class="line">sudo docker volume create portainer_data</span><br><span class="line">sudo docker run -d -p 9000:9000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer</span><br></pre></td></tr></table></figure></div><h2 id="Bitwarden"><a href="#Bitwarden" class="headerlink" title="Bitwarden"></a>Bitwarden</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull bitwardenrs/server:latest</span><br><span class="line">docker run -d --name bitwarden -v /var/run/bitwarden/:/data/ -p 80:9001 bitwardenrs/server:latest</span><br></pre></td></tr></table></figure></div><a id="more"></a><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><h3 id="Job-for-docker-service-failed-because-the-control-process-exited-with-error-code-See-“systemctl-status-docker-service”-and-“journalctl-xe”-for-details"><a href="#Job-for-docker-service-failed-because-the-control-process-exited-with-error-code-See-“systemctl-status-docker-service”-and-“journalctl-xe”-for-details" class="headerlink" title="Job for docker.service failed because the control process exited with error code. See “systemctl status docker.service” and “journalctl -xe” for details."></a>Job for docker.service failed because the control process exited with error code. See “systemctl status docker.service” and “journalctl -xe” for details.</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm /etc/docker/daemon.json</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure></div><h3 id="Image-accelerator"><a href="#Image-accelerator" class="headerlink" title="Image accelerator"></a>Image accelerator</h3><ul><li><a href="https://cr.console.aliyun.com/cn-beijing/instances/mirrors" target="_blank" rel="noopener">https://cr.console.aliyun.com/cn-beijing/instances/mirrors</a></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl cat docker | grep <span class="string">'\-\-registry\-mirror'</span></span><br><span class="line">sudo nano /etc/docker/daemon.json</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"this link from aliyun"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure></div><h2 id="Refer"><a href="#Refer" class="headerlink" title="Refer"></a>Refer</h2><ul><li><a href="https://bitwarden.com/download/" target="_blank" rel="noopener">bitwarden</a></li><li><a href="https://github.com/dani-garcia/bitwarden_rs" target="_blank" rel="noopener">dani-garcia/bitwarden_rs</a></li><li><a href="https://bitwarden.com/help/article/install-on-premise/" target="_blank" rel="noopener">Install and Deploy</a></li><li><a href="https://hub.docker.com/r/bitwarden/setup" target="_blank" rel="noopener">bitwarden/setup</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Bitwarden </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Dependency Separation</title>
      <link href="/archives/pythonDependencySeparation/"/>
      <url>/archives/pythonDependencySeparation/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>由于每个项目之间的引入的依赖版本不同，并且有的依赖库还难以获取</li><li>因此在开发时，需要把依赖给保存下来，并且指明依赖的版本</li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="freeze"><a href="#freeze" class="headerlink" title="freeze"></a>freeze</h3><ul><li><code>pip freeze &gt; requirements.txt</code></li><li>使用这个命令可以导出当前环境的所有依赖</li></ul><h3 id="pipreqs"><a href="#pipreqs" class="headerlink" title="pipreqs"></a>pipreqs</h3><ul><li><code>pip install pipreqs</code></li><li><code>pipreqs ./</code> 切换到项目根目录下执行，导出当前目录所引用的依赖</li><li><code>pipreqs ./ --encoding==utf-8</code></li><li><code>pipreqs ./ --encoding==utf-8 --force</code></li></ul><h3 id="venv"><a href="#venv" class="headerlink" title="venv"></a>venv</h3><ul><li>使用 python 的虚拟环境  <a id="more"></a><ul><li><code>python -m venv -h</code></li><li><code>python -m venv venvdemo</code> 创建虚拟环境</li><li>找到虚拟环境的文件夹，进入 Scripts 目录<ul><li><code>activate</code> 激活虚拟环境</li><li><code>activate</code> 退出虚拟环境</li></ul></li><li>所谓的激活虚拟环境，只不过是把当前系统的环境变量指向该虚拟环境</li><li>在环境变量中，一个变量先找到哪个就算哪个</li><li><img src="/images/pythonDependencySeparation/Snipaste_2021-02-01_00-39-18.png" alt></li><li>如图所示，激活虚拟环境时，会把该虚拟环境路径放在最前面，因此当前 python 的 path 就指向这个路径 ; 后面的 path 就不生效</li><li>激活虚拟环境后，可执行 <code>pip list</code> 查看当前的依赖库</li><li>激活虚拟环境后，执行的 <code>pip install</code> 都是装到该虚拟环境的目录里的</li><li>在 IDE 工具中 ,比如 PyCharm 中,直接把项目设置指向虚拟变量路径即可，本质就是改环境变量的 PATH</li></ul></li><li>迁移 虚拟环境<ul><li>在激活虚拟环境下，导出当前环境依赖库</li><li><code>pip freeze &gt; requirements.txt</code></li></ul></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>虚拟环境的使用还是很有必要的，</li><li>因为安装一个依赖的时候，很多时候是会把指定依赖与其相关的其他依赖都安装</li><li>而卸载的时候只卸载了指定的依赖库</li><li><img src="/images/pythonDependencySeparation/Snipaste_2021-02-01_00-55-30.png" alt></li><li>如果不控制一下依赖库，久而久之就很难管理了</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django Run</title>
      <link href="/archives/djangoRun/"/>
      <url>/archives/djangoRun/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><h3 id="Error-WinError-10013-以一种访问权限不允许的方式做了一个访问套接字的尝试。"><a href="#Error-WinError-10013-以一种访问权限不允许的方式做了一个访问套接字的尝试。" class="headerlink" title="Error: [WinError 10013] 以一种访问权限不允许的方式做了一个访问套接字的尝试。"></a>Error: [WinError 10013] 以一种访问权限不允许的方式做了一个访问套接字的尝试。</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Starting development server at http://127.0.0.1:8000/</span><br><span class="line">Quit the server with CTRL-BREAK.</span><br><span class="line">Error: [WinError 10013] 以一种访问权限不允许的方式做了一个访问套接字的尝试。</span><br></pre></td></tr></table></figure></div><ul><li>端口被占用，关闭被占用端口的程序</li><li><code>netstat -ano|findstr 8000</code></li><li><code>tasklist | findstr pid号</code></li><li><code>taskkill /pid pid号 /f</code></li></ul><p><img src="/images/djangoRun/Snipaste_2021-01-28_20-07-56.png" alt></p><ul><li>或者改端口<br><img src="/images/djangoRun/Snipaste_2021-01-28_20-10-41.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Django </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python get function from String</title>
      <link href="/archives/pythonGetFunctionFromString/"/>
      <url>/archives/pythonGetFunctionFromString/</url>
      
        <content type="html"><![CDATA[<h2 id="从变量中获取对象的函数并执行"><a href="#从变量中获取对象的函数并执行" class="headerlink" title="从变量中获取对象的函数并执行"></a>从变量中获取对象的函数并执行</h2><ul><li><p>单纯的执行方法可以用 eval()、locals()、globals()</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">eval(func)() <span class="comment"># func 为变量值</span></span><br><span class="line">locals()[func]()</span><br><span class="line">globals()[func]()</span><br></pre></td></tr></table></figure></div></li><li><p>而从对象中执行方法用 <code>__getattribute__</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chrome.__getattribute__(itemParser) <span class="comment"># 对象.__getattribute__(变量值)</span></span><br></pre></td></tr></table></figure></div></li></ul><a id="more"></a><h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><ul><li><p>从变量中读取函数名并执行,提高复用度</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">config = [&#123;<span class="string">'name'</span>: <span class="string">'qncyw'</span>, <span class="string">'url'</span>: <span class="string">'https://www.qncyw.com/site/signup'</span>,</span><br><span class="line">           <span class="string">'parser'</span>: <span class="string">'selector'</span>,</span><br><span class="line">           <span class="string">'phoneInputParser'</span>: <span class="string">'#username'</span>,</span><br><span class="line">           <span class="string">'sendButtonParser'</span>: <span class="string">'#btnSendCode'</span>&#125;,</span><br><span class="line">          &#123;<span class="string">'name'</span>: <span class="string">'360doc'</span>, <span class="string">'url'</span>: <span class="string">'http://www.360doc.com/register.aspx'</span>,</span><br><span class="line">           <span class="string">'parser'</span>: <span class="string">'selector'</span>,</span><br><span class="line">           <span class="string">'phoneInputParser'</span>: <span class="string">'#signMobileName'</span>,</span><br><span class="line">           <span class="string">'sendButtonParser'</span>: <span class="string">'#sign_sendcode'</span>&#125;,</span><br><span class="line">          &#123;<span class="string">'name'</span>: <span class="string">'iwgame'</span>, <span class="string">'url'</span>: <span class="string">'http://passport.iwgame.com/reg/account/regpage.do'</span>,</span><br><span class="line">           <span class="string">'parser'</span>: <span class="string">'xpath'</span>,</span><br><span class="line">           <span class="string">'phoneInputParser'</span>: <span class="string">'//*[@name="identityId"]'</span>,</span><br><span class="line">           <span class="string">'sendButtonParser'</span>: <span class="string">'//*[@id="regPersonalForm"]/ul/li[5]/div[1]/em/a'</span>&#125;,</span><br><span class="line">          ]</span><br><span class="line">          </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eboo</span><span class="params">(chrome)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> config:</span><br><span class="line">        itemName = item[<span class="string">'name'</span>]</span><br><span class="line">        itemUrl = item[<span class="string">'url'</span>]</span><br><span class="line">        itemParser = <span class="string">''</span></span><br><span class="line">        setDateTime = time.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>, time.localtime(time.time()))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            chrome.get(itemUrl)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> item[<span class="string">'parser'</span>] == <span class="string">'selector'</span>:</span><br><span class="line">                itemParser = <span class="string">'find_element_by_css_selector'</span></span><br><span class="line">            <span class="keyword">elif</span> item[<span class="string">'parser'</span>] == <span class="string">'xpath'</span>:</span><br><span class="line">                itemParser = <span class="string">'find_element_by_xpath'</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># chrome 对象通过 __getattribute__ 方法去执行名为 itemParser 变量值的函数</span></span><br><span class="line">            chrome.__getattribute__(itemParser)(item[<span class="string">'phoneInputParser'</span>]).send_keys(phoneNum)</span><br><span class="line">            chrome.__getattribute__(itemParser)(item[<span class="string">'sendButtonParser'</span>]).click()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span> NoSuchElementException <span class="keyword">as</span> error:</span><br><span class="line">            print(<span class="string">f"<span class="subst">&#123;itemName&#125;</span> ---&gt; <span class="subst">&#123;error&#125;</span>"</span>)</span><br><span class="line">            chrome.get_screenshot_as_file(<span class="string">'./error/'</span> + itemName + <span class="string">'_'</span> + setDateTime + <span class="string">'.png'</span>)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            print(<span class="string">f"<span class="subst">&#123;itemName&#125;</span> already completed at <span class="subst">&#123;setDateTime&#125;</span>"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ChromeOpen</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    headers = <span class="string">'user-agent="Mozilla/5.0 (Windows NT 10.0; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0" '</span></span><br><span class="line">    options = ChromeOptions()</span><br><span class="line">    options.add_argument(headers)</span><br><span class="line">    chrome = Chrome(options=options)</span><br><span class="line">    <span class="keyword">return</span> chrome</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chrome_open = ChromeOpen()</span><br><span class="line">eboo(chrome_open)</span><br></pre></td></tr></table></figure></div></li><li><p>👉 <a href="https://segmentfault.com/a/1190000010476065" target="_blank" rel="noopener">Python 通过字符串调用函数或方法</a></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL Split String By Procedure</title>
      <link href="/archives/mysqlSplitStringByProcedure/"/>
      <url>/archives/mysqlSplitStringByProcedure/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>有这样一个场景，需要把一个表中的某个字段内的字符串分割成列</li></ul><table><thead><tr><th style="text-align:center">roleCode</th><th style="text-align:center">users</th></tr></thead><tbody><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20865</td><td style="text-align:center">xb,guojinyu,jiangyuan,ly_bmcc,wwm,lck,wusuihua</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20866</td><td style="text-align:center">zlj,mashaomeng</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20867</td><td style="text-align:center">tianye2</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20869</td><td style="text-align:center">wangyinju,liu_yan</td></tr></tbody></table><ul><li>就是把上面的表格拆分成下面的样子</li></ul><table><thead><tr><th style="text-align:center">roleCode</th><th style="text-align:center">users</th></tr></thead><tbody><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20865</td><td style="text-align:center">xb</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20865</td><td style="text-align:center">guojinyu</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20865</td><td style="text-align:center">jiangyuan</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20865</td><td style="text-align:center">ly_bmcc</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20865</td><td style="text-align:center">wwm</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20865</td><td style="text-align:center">lck</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20865</td><td style="text-align:center">wusuihua</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20866</td><td style="text-align:center">zlj</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20866</td><td style="text-align:center">mashaomeng</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20867</td><td style="text-align:center">tianye2</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20869</td><td style="text-align:center">wangyinju</td></tr><tr><td style="text-align:center">4dc51344e6674c03ae0a176d3d0ae14e_20869</td><td style="text-align:center">liu_yan</td></tr></tbody></table><a id="more"></a><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>因为要用到循环，所以得用存储过程去解决这个问题<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> i <span class="built_in">INT</span>;</span><br><span class="line">    <span class="keyword">DECLARE</span> j <span class="built_in">INT</span>;</span><br><span class="line">    <span class="comment">-- 创建表存储结果</span></span><br><span class="line">    <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> <span class="keyword">result</span>(roleCode <span class="built_in">VARCHAR</span>(<span class="number">255</span>),<span class="keyword">users</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>));</span><br><span class="line">    <span class="comment">-- 使用临时表执行速度会快些</span></span><br><span class="line">    <span class="comment">-- CREATE TEMPORARY TABLE IF NOT EXISTS result(roleCode VARCHAR(255),users VARCHAR(255));</span></span><br><span class="line">    <span class="comment">-- 获取行数，用于第一层循环</span></span><br><span class="line">    <span class="keyword">SET</span> @cols_num = (<span class="keyword">SELECT</span> <span class="keyword">count</span>(<span class="keyword">users</span>) <span class="keyword">FROM</span> <span class="string">`user`</span>); </span><br><span class="line"><span class="keyword">SET</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    WHILE i &lt; @cols_num DO</span><br><span class="line">        <span class="keyword">SET</span> j = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">-- 获取 users 字段内的被 “,” 分割的字符串数目</span></span><br><span class="line">        <span class="comment">-- LENGTH(users) - LENGTH(REPLACE(users,',',''))+1 AS userNums</span></span><br><span class="line">        <span class="comment">-- 将字符串数目赋给变量 @str_num ,用于第二层循环</span></span><br><span class="line">        <span class="comment">-- 同时取得当前记录的 roleCode,把值赋给变量 @roleCode</span></span><br><span class="line">        <span class="keyword">SELECT</span> roleCode,<span class="keyword">LENGTH</span>(<span class="keyword">users</span>) - <span class="keyword">LENGTH</span>(<span class="keyword">REPLACE</span>(<span class="keyword">users</span>,<span class="string">','</span>,<span class="string">''</span>))+<span class="number">1</span> <span class="keyword">AS</span> userNums  </span><br><span class="line">        <span class="keyword">INTO</span> @roleCode,@str_num <span class="keyword">FROM</span> <span class="string">`user`</span> <span class="keyword">LIMIT</span> i,<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        WHILE j &lt; @str_num DO</span><br><span class="line">            <span class="comment">-- 取得当前查询的记录的 users 字段被分割的最后一个字符串</span></span><br><span class="line">            <span class="keyword">SELECT</span> SUBSTRING_INDEX(SUBSTRING_INDEX(<span class="keyword">users</span>,<span class="string">','</span>,j+<span class="number">1</span>),<span class="string">','</span>,<span class="number">-1</span>) <span class="keyword">AS</span> <span class="keyword">users</span> </span><br><span class="line">            <span class="keyword">INTO</span> @<span class="keyword">users</span> <span class="keyword">FROM</span> <span class="string">`user`</span> <span class="keyword">LIMIT</span> i,<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">result</span>(roleCode,<span class="keyword">users</span>) <span class="keyword">VALUES</span> (@roleCode,@<span class="keyword">users</span>);</span><br><span class="line">                        </span><br><span class="line">            <span class="keyword">SET</span> j = j+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">END</span> <span class="keyword">WHILE</span>;</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">SET</span> i = i+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">WHILE</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 查询结果</span></span><br><span class="line">    <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>如果要逆向还原，只需执行下面语句即可<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> roleCode,<span class="keyword">GROUP_CONCAT</span>(<span class="keyword">users</span>) <span class="keyword">AS</span> <span class="keyword">users</span> <span class="keyword">FROM</span> <span class="keyword">result</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> roleCode;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><p>存储过程基本用法</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> test_tbl;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_tbl (<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>), <span class="keyword">status</span> <span class="built_in">int</span>(<span class="number">2</span>));</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test_tbl <span class="keyword">values</span>(<span class="string">'abc'</span>, <span class="number">1</span>),(<span class="string">'edf'</span>, <span class="number">2</span>),(<span class="string">'xyz'</span>, <span class="number">3</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> pro_test_3;</span><br><span class="line">delimiter //</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> pro_test_3()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="comment">--  方式 1</span></span><br><span class="line">    <span class="keyword">DECLARE</span> cnt <span class="built_in">INT</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">into</span> cnt <span class="keyword">from</span> test_tbl;</span><br><span class="line">    <span class="keyword">select</span> cnt;</span><br><span class="line"> </span><br><span class="line"><span class="comment">--  方式 2</span></span><br><span class="line">    <span class="keyword">set</span> @cnt = (<span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> test_tbl);</span><br><span class="line">    <span class="keyword">select</span> @cnt;</span><br><span class="line"></span><br><span class="line"><span class="comment">--  方式 3</span></span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">into</span> @cnt1 <span class="keyword">from</span> test_tbl;</span><br><span class="line">    <span class="keyword">select</span> @cnt1;</span><br><span class="line"></span><br><span class="line"><span class="comment">--  多个列的情况下似乎只能用 into 方式</span></span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">max</span>(<span class="keyword">status</span>), <span class="keyword">avg</span>(<span class="keyword">status</span>) <span class="keyword">into</span> @<span class="keyword">max</span>, @<span class="keyword">avg</span> <span class="keyword">from</span> test_tbl;</span><br><span class="line">    <span class="keyword">select</span> @<span class="keyword">max</span>, @<span class="keyword">avg</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">//</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">call</span> pro_test_3();</span><br></pre></td></tr></table></figure></div></li><li><p>👉 <a href="https://www.cnblogs.com/qdhxhz/category/1222307.html" target="_blank" rel="noopener">MySQL（7）—存储过程</a></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL Sync to Mariadb</title>
      <link href="/archives/mysqlSyncToMariadb/"/>
      <url>/archives/mysqlSyncToMariadb/</url>
      
        <content type="html"><![CDATA[<h2 id="Unkown-collation-’utf8mb4-0900-ai-ci’"><a href="#Unkown-collation-’utf8mb4-0900-ai-ci’" class="headerlink" title="Unkown collation:’utf8mb4_0900_ai_ci’"></a>Unkown collation:’utf8mb4_0900_ai_ci’</h2><ul><li>把 MySQL 数据同步到 Mariadb 出现排序规则不一致</li><li>MySQL 数据库默认字符集和排序规则<br><img src="/images/mysqlSyncToMariadb/Snipaste_2021-01-20_21-07-07.png" alt></li><li>MySQL 转储的 SQL 文件默认<code>DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci</code></li><li>Mariadb 数据库默认字符集和排序规则<br><img src="/images/mysqlSyncToMariadb/Snipaste_2021-01-20_20-47-17.png" alt></li><li>Mariadb 转储的 SQL 文件默认<code>DEFAULT CHARSET=utf8mb4;</code></li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>在 Mariadb 中排序规则没有 utf8mb4_0900_ai_ci </li><li>解决方法是 ：转储 MySQL 数据，然后把 SQL 文件里的 <code>COLLATE=utf8mb4_0900_ai_ci</code>全部替换成 <code>COLLATE=utf8mb4_general_ci</code> 即可<ul><li>或者是把 SQL 文件里的 <code>COLLATE=utf8mb4_0900_ai_ci</code> 去掉</li></ul></li><li>总的来说就是把设置配成一致就可以了</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> Mariadb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Local-anywhere and CORS</title>
      <link href="/archives/localAnywhereAndCORS/"/>
      <url>/archives/localAnywhereAndCORS/</url>
      
        <content type="html"><![CDATA[<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><ul><li>打开一个 html 加载了本地目录下的文件居然跨域了，原因在于本地文件的使用的是 file 协议</li><li>CORS 策略只支持这些协议：http、data、 chrome、chrome-extension 以及 https</li><li>这样的话，可以直接转个协议就好了</li></ul><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>起个协议服务</li><li><code>npm i anywhere -g</code> 安装 anywhere</li><li><code>anywhere -h</code> 在文件目录启动服务</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CORS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reptiles and Raspberries</title>
      <link href="/archives/reptilesAndRaspberries/"/>
      <url>/archives/reptilesAndRaspberries/</url>
      
        <content type="html"><![CDATA[<h2 id="分析接口数据结构"><a href="#分析接口数据结构" class="headerlink" title="分析接口数据结构"></a>分析接口数据结构</h2><ul><li>找到数据的接口信息之后，请求获取数据并逐层分析数据结构</li><li>然后提取需要的数据</li><li>最后封装成方法<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_tencent_virus_data</span><span class="params">()</span>:</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit'</span></span><br><span class="line">                      <span class="string">'/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safar'</span></span><br><span class="line">                      <span class="string">'i/537.36'</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># https://news.qq.com/zt2020/page/feiyan.htm#/</span></span><br><span class="line">    url = <span class="string">"https://view.inews.qq.com/g2/getOnsInfo?name=disease_h5"</span></span><br><span class="line">    res = requests.get(url, headers=headers)</span><br><span class="line">    res.encoding = <span class="string">"utf-8"</span></span><br><span class="line">    getSource = json.loads(res.text)</span><br><span class="line">    sourceData = json.loads(getSource[<span class="string">"data"</span>])</span><br><span class="line"></span><br><span class="line">    lastUpdateTime = sourceData[<span class="string">"lastUpdateTime"</span>]  <span class="comment"># 最后更新时间</span></span><br><span class="line">    chinaTotal = sourceData[<span class="string">"chinaTotal"</span>]  <span class="comment"># 总情况</span></span><br><span class="line">    chinaAdd = sourceData[<span class="string">"chinaAdd"</span>]  <span class="comment"># 总确诊</span></span><br><span class="line">    areaTree = sourceData[<span class="string">"areaTree"</span>]  <span class="comment"># 国家</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 国家列表,中国</span></span><br><span class="line">    name = areaTree[<span class="number">0</span>][<span class="string">"name"</span>]  <span class="comment"># 中国</span></span><br><span class="line">    today = areaTree[<span class="number">0</span>][<span class="string">"today"</span>]  <span class="comment"># 今天新增确诊</span></span><br><span class="line">    total = areaTree[<span class="number">0</span>][<span class="string">"total"</span>]  <span class="comment"># 今日总情况</span></span><br><span class="line">    provinces = areaTree[<span class="number">0</span>][<span class="string">"children"</span>]  <span class="comment"># 34个省份</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(name)</span></span><br><span class="line">    <span class="comment"># print(today)</span></span><br><span class="line">    <span class="comment"># print(total)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 今日确诊，目前确诊，总确诊，总死亡数，总死亡概率，总康复数，总康复概率</span></span><br><span class="line">    daily_data = [name, today[<span class="string">"confirm"</span>], total[<span class="string">"nowConfirm"</span>], total[<span class="string">"confirm"</span>], total[<span class="string">"dead"</span>], total[<span class="string">"deadRate"</span>],</span><br><span class="line">                  total[<span class="string">"heal"</span>], total[<span class="string">"healRate"</span>]]</span><br><span class="line"></span><br><span class="line">    today_details = []</span><br><span class="line">    <span class="keyword">for</span> province <span class="keyword">in</span> provinces:</span><br><span class="line">        <span class="comment"># print(province["name"])  # 省名</span></span><br><span class="line">        <span class="comment"># print(province["today"])</span></span><br><span class="line">        <span class="comment"># print(province["total"])</span></span><br><span class="line">        province_name_ = province[<span class="string">"name"</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 省所属城市</span></span><br><span class="line">        <span class="keyword">for</span> city <span class="keyword">in</span> province[<span class="string">"children"</span>]:</span><br><span class="line">            city_name_ = city[<span class="string">"name"</span>]</span><br><span class="line">            city_today_confirm_ = city[<span class="string">"today"</span>][<span class="string">"confirm"</span>]  <span class="comment"># 该城市今日确诊</span></span><br><span class="line">            city_total_confirm_ = city[<span class="string">"total"</span>][<span class="string">"confirm"</span>]  <span class="comment"># 该城市总确诊</span></span><br><span class="line">            city_total_heal_ = city[<span class="string">"total"</span>][<span class="string">"heal"</span>]  <span class="comment"># 该城市总康复</span></span><br><span class="line">            city_total_heal_rate_ = city[<span class="string">"total"</span>][<span class="string">"healRate"</span>]  <span class="comment"># 该城市总康复概率</span></span><br><span class="line">            city_total_dead_ = city[<span class="string">"total"</span>][<span class="string">"dead"</span>]  <span class="comment"># 该城市总死亡</span></span><br><span class="line">            city_total_dead_rate_ = city[<span class="string">"total"</span>][<span class="string">"deadRate"</span>]  <span class="comment"># 该城市总死亡概率</span></span><br><span class="line">            today_details.append([lastUpdateTime, province_name_, city_name_, city_today_confirm_,</span><br><span class="line">                                  city_total_confirm_, city_total_heal_, city_total_heal_rate_,</span><br><span class="line">                                  city_total_dead_, city_total_dead_rate_</span><br><span class="line">                                  ])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> today_details, daily_data</span><br></pre></td></tr></table></figure></div></li></ul><a id="more"></a><h2 id="数据库连接"><a href="#数据库连接" class="headerlink" title="数据库连接"></a>数据库连接</h2><ul><li>这里主要在于建立数据库连接，并取得游标去操作数据</li><li>连接数据库操作完毕之后需要及时关闭连接<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mariadb_conn</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        conn = mariadb.connect(</span><br><span class="line">            user=<span class="string">"root"</span>,</span><br><span class="line">            password=<span class="string">"raspberry"</span>,</span><br><span class="line">            host=<span class="string">"192.168.137.47"</span>,</span><br><span class="line">            port=<span class="number">3306</span>,</span><br><span class="line">            database=<span class="string">"virus"</span></span><br><span class="line">        )</span><br><span class="line">        cursor = conn.cursor()</span><br><span class="line">        <span class="keyword">return</span> conn, cursor</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> mariadb.Error <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">f"Error connecting to MariaDB Platform: <span class="subst">&#123;e&#125;</span>"</span>)</span><br><span class="line">        sys.exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mariadb_conn_close</span><span class="params">(conn, cursor)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> cursor:</span><br><span class="line">        cursor.close()</span><br><span class="line">    <span class="keyword">if</span> conn:</span><br><span class="line">        conn.close()</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="获取数据并持久化"><a href="#获取数据并持久化" class="headerlink" title="获取数据并持久化"></a>获取数据并持久化</h2><ul><li>这里需要注意的是游标的操作 <code>cursor.execute()</code></li><li>如果是查询语句的话，游标执行之后就能得到返回的数据</li><li>其他的语句需要提交事务<code>conn.commit()</code>才能得到返回的数据<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新每日的详情数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_virus_data</span><span class="params">()</span>:</span></span><br><span class="line">    cursor = <span class="literal">None</span></span><br><span class="line">    conn = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        virus_data = get_tencent_virus_data()[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># conn, cursor = mariadb_conn("root", "raspberry", "192.168.137.165", 3306, "virus")</span></span><br><span class="line">        conn, cursor = mariadb_conn()</span><br><span class="line">        setDataTime = time.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>, time.localtime(time.time()))</span><br><span class="line">        sql_insert_data = <span class="string">"insert into tencent_virus_data(lastUpdateTime,province_name_,"</span> \</span><br><span class="line">                          <span class="string">"city_name_,city_today_confirm_,city_total_confirm_,"</span> \</span><br><span class="line">                          <span class="string">"city_total_heal_,city_total_heal_rate_,"</span> \</span><br><span class="line">                          <span class="string">"city_total_dead_,city_total_dead_rate_,"</span> \</span><br><span class="line">                          <span class="string">"setDataTime"</span><span class="string">") values (%s,%s,%s,%s,%s,%s,%s,%s,%s,%s)"</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 取数据库最后一个记录的时间字段</span></span><br><span class="line">        sql_lastTime = <span class="string">"select lastUpdateTime from tencent_virus_data order by id desc limit 1"</span></span><br><span class="line">        cursor.execute(sql_lastTime)</span><br><span class="line">        lastUpdateTime = cursor.fetchone()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 第一次初始化数据</span></span><br><span class="line">        <span class="keyword">if</span> lastUpdateTime <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            print(<span class="string">f"<span class="subst">&#123;time.asctime()&#125;</span>    ---&gt;    滴滴！初始化最初的数据！"</span>)</span><br><span class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> virus_data:</span><br><span class="line">                item.append(setDataTime)</span><br><span class="line">                print(item)</span><br><span class="line">                cursor.execute(sql_insert_data, item)</span><br><span class="line">            conn.commit()</span><br><span class="line">            print(<span class="string">f"<span class="subst">&#123;time.asctime()&#125;</span>    ---&gt;    嗒嗒！初始化数据完毕！"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 非第一次更新数据</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># virus_data[0][0] 拿第一条数据的时间字段,因为每条数据时间都是一样的</span></span><br><span class="line">            dataNowTime = datetime.strptime(virus_data[<span class="number">0</span>][<span class="number">0</span>], <span class="string">'%Y-%m-%d %H:%M:%S'</span>)</span><br><span class="line">            <span class="comment"># 数据库最新记录时间 与 当前请求的数据时间对比，判断是否更新数据</span></span><br><span class="line">            <span class="keyword">if</span> dataNowTime &gt; lastUpdateTime[<span class="number">0</span>]:</span><br><span class="line">                print(<span class="string">f"<span class="subst">&#123;time.asctime()&#125;</span>    ---&gt;    滴滴！开始更新最新数据！"</span>)</span><br><span class="line">                <span class="keyword">for</span> item <span class="keyword">in</span> virus_data:</span><br><span class="line">                    item.append(setDataTime)</span><br><span class="line">                    cursor.execute(sql_insert_data, item)</span><br><span class="line">                conn.commit()</span><br><span class="line">                print(<span class="string">f"<span class="subst">&#123;time.asctime()&#125;</span>    ---&gt;    嗒嗒！更新最新数据完毕！"</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">f"<span class="subst">&#123;time.asctime()&#125;</span>    ---&gt;    嗯！已是最新数据！"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        traceback.print_exc()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        mariadb_conn_close(conn, cursor)</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="从页面抓取数据"><a href="#从页面抓取数据" class="headerlink" title="从页面抓取数据"></a>从页面抓取数据</h2><h3 id="一般的页面，直接请求解析获取即可"><a href="#一般的页面，直接请求解析获取即可" class="headerlink" title="一般的页面，直接请求解析获取即可"></a>一般的页面，直接请求解析获取即可</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">baidu_hotPoint</span><span class="params">()</span>:</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit'</span></span><br><span class="line">                      <span class="string">'/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safar'</span></span><br><span class="line">                      <span class="string">'i/537.36'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    url = <span class="string">"http://top.baidu.com/buzz?b=1&amp;fr=topindex"</span></span><br><span class="line"></span><br><span class="line">    res = requests.get(url, headers=headers)</span><br><span class="line">    res.encoding = <span class="string">"gb2312"</span></span><br><span class="line">    html = res.text</span><br><span class="line">    soup = BeautifulSoup(html, <span class="string">"lxml"</span>)</span><br><span class="line">    titles = soup.find_all(name=<span class="string">"a"</span>, attrs=&#123;<span class="string">"class"</span>: <span class="string">"list-title"</span>&#125;)</span><br><span class="line">    content = [title.text <span class="keyword">for</span> title <span class="keyword">in</span> titles]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> content</span><br></pre></td></tr></table></figure></div><h3 id="如果页面用的是-JS-加载的话，可以使用-selenium-模拟人工获取"><a href="#如果页面用的是-JS-加载的话，可以使用-selenium-模拟人工获取" class="headerlink" title="如果页面用的是 JS 加载的话，可以使用 selenium 模拟人工获取"></a>如果页面用的是 JS 加载的话，可以使用 selenium 模拟人工获取</h3><ul><li>在这里需要浏览器和浏览器驱动配合</li><li>获得和 chrome 浏览器版本一致的 chromedriver 驱动</li><li>👉 <a href="https://npm.taobao.org/mirrors/chromedriver/" target="_blank" rel="noopener">https://npm.taobao.org/mirrors/chromedriver/</a><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sogou_hotSearch</span><span class="params">()</span>:</span></span><br><span class="line">    headers = <span class="string">'user-agent="MQQBrowser/26 Mozilla/5.0 (Linux; U; Android 2.3.7; zh-cn; MB200 Build/GRJ22; '</span> \</span><br><span class="line">              <span class="string">'CyanogenMod-7) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1" '</span></span><br><span class="line"></span><br><span class="line">    url = <span class="string">"https://sa.sogou.com/new-weball/page/sgs/epidemic?type_page=VR"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line"></span><br><span class="line">    options = ChromeOptions()</span><br><span class="line">    options.add_argument(headers)</span><br><span class="line">    options.add_argument(<span class="string">"--headless"</span>)  <span class="comment"># 隐藏浏览器</span></span><br><span class="line">    options.add_argument(<span class="string">"--no-sandbox"</span>)  <span class="comment"># linux 需要禁用这个</span></span><br><span class="line">    options.add_argument(<span class="string">"--disable-gpu"</span>)</span><br><span class="line">    options.add_argument(<span class="string">'blink-settings=imagesEnabled=false'</span>)  <span class="comment"># 不加载图片资源</span></span><br><span class="line">    chrome = Chrome(executable_path=<span class="string">"./chromedriver.exe"</span>, options=options)  <span class="comment"># 路径加载驱动</span></span><br><span class="line">    <span class="comment"># chrome = Chrome(options=options)</span></span><br><span class="line">    chrome.get(url)</span><br><span class="line">    el_lis = chrome.find_elements_by_xpath(<span class="string">'//*[@id="no_active_pane"]/div/div/div[2]/ul/li'</span>)</span><br><span class="line">    content = [el_li.text <span class="keyword">for</span> el_li <span class="keyword">in</span> el_lis]</span><br><span class="line">    chrome.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> content</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="建立-Web-服务"><a href="#建立-Web-服务" class="headerlink" title="建立 Web 服务"></a>建立 Web 服务</h2><h3 id="数据交互"><a href="#数据交互" class="headerlink" title="数据交互"></a>数据交互</h3><ul><li>这里使用 flask 建立简单的请求服务</li><li><p>在服务端返回页面需要用到 render_template</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> render_template</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/', methods=["get", "post"])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">"index.html"</span>)</span><br></pre></td></tr></table></figure></div></li><li><p>接着在页面发送 ajax 请求对应的路由即可</p></li></ul><h3 id="建立工具类来处理数据"><a href="#建立工具类来处理数据" class="headerlink" title="建立工具类来处理数据"></a>建立工具类来处理数据</h3><ul><li>在项目根路径建一个 xxx.py 来专门处理数据<ul><li>数据库连接方法</li><li>查询类方法</li><li>每个数据接口方法<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_time</span><span class="params">()</span>:</span></span><br><span class="line">    time_str = time.strftime(<span class="string">"%Y&#123;&#125;%m&#123;&#125;%d&#123;&#125; %X"</span>)</span><br><span class="line">    <span class="keyword">return</span> time_str.format(<span class="string">"年"</span>, <span class="string">"月"</span>, <span class="string">"日"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mariadb_conn</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        conn = mariadb.connect(</span><br><span class="line">            user=<span class="string">"root"</span>,</span><br><span class="line">            password=<span class="string">"raspberry"</span>,</span><br><span class="line">            host=<span class="string">"192.168.137.47"</span>,</span><br><span class="line">            port=<span class="number">3306</span>,</span><br><span class="line">            database=<span class="string">"virus"</span></span><br><span class="line">        )</span><br><span class="line">        cursor = conn.cursor()</span><br><span class="line">        <span class="keyword">return</span> conn, cursor</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> mariadb.Error <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">f"Error connecting to MariaDB Platform: <span class="subst">&#123;e&#125;</span>"</span>)</span><br><span class="line">        sys.exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mariadb_conn_close</span><span class="params">(conn, cursor)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> cursor:</span><br><span class="line">        cursor.close()</span><br><span class="line">    <span class="keyword">if</span> conn:</span><br><span class="line">        conn.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">query</span><span class="params">(sql, *args)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :param sql:</span></span><br><span class="line"><span class="string">    :param args</span></span><br><span class="line"><span class="string">    :return 返回查询结果 ((),())</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    conn, cursor = mariadb_conn()</span><br><span class="line">    cursor.execute(sql, args)</span><br><span class="line">    res = cursor.fetchall()</span><br><span class="line">    mariadb_conn_close(conn, cursor)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_daily_data</span><span class="params">()</span>:</span></span><br><span class="line">    sql = <span class="string">"select today_confirm,total_nowConfirm,"</span> \</span><br><span class="line">          <span class="string">"total_confirm,total_dead,total_deadRate,"</span> \</span><br><span class="line">          <span class="string">"total_heal,total_healRate from daily_data "</span> \</span><br><span class="line">          <span class="string">"where setDataTime=(select setDataTime from daily_data "</span> \</span><br><span class="line">          <span class="string">"order by setDataTime desc limit 1)"</span></span><br><span class="line">    res = query(sql)</span><br><span class="line">    <span class="keyword">return</span> res[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 地图整体数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_area_data</span><span class="params">()</span>:</span></span><br><span class="line">    sql = <span class="string">"select province_name_,sum(city_total_confirm_) "</span> \</span><br><span class="line">          <span class="string">"from tencent_virus_data where lastUpdateTime=("</span> \</span><br><span class="line">          <span class="string">"select lastUpdateTime from tencent_virus_data "</span> \</span><br><span class="line">          <span class="string">"order by lastUpdateTime desc limit 1) "</span> \</span><br><span class="line">          <span class="string">"group by province_name_"</span></span><br><span class="line">    res = query(sql)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 总趋势最近十天</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_GeneralTrend_data</span><span class="params">()</span>:</span></span><br><span class="line">    sql = <span class="string">"select today_confirm,total_nowConfirm,total_confirm,"</span> \</span><br><span class="line">          <span class="string">"total_dead,total_heal,setDataTime from daily_data "</span> \</span><br><span class="line">          <span class="string">"order by  id desc limit 10"</span></span><br><span class="line">    res = query(sql)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"><span class="comment"># get_GeneralTrend_data()[1:] # 从第二条数据开始取</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 今日有新增确诊的省市</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_todayNewConfrim_data</span><span class="params">()</span>:</span></span><br><span class="line">    sql = <span class="string">"select CONCAT(province_name_,'-',city_name_) as province_city,"</span> \</span><br><span class="line">          <span class="string">"city_today_confirm_,lastUpdateTime from tencent_virus_data "</span> \</span><br><span class="line">          <span class="string">"where city_today_confirm_ &gt;0 and lastUpdateTime=("</span> \</span><br><span class="line">          <span class="string">"select lastUpdateTime from tencent_virus_data "</span> \</span><br><span class="line">          <span class="string">"ORDER BY lastUpdateTime desc limit 1 )"</span></span><br><span class="line"></span><br><span class="line">    res = query(sql)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># 目前各省市累计确诊数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_confrimUntilNow</span><span class="params">()</span>:</span></span><br><span class="line">    sql = <span class="string">"select province_name_,sum(city_total_confirm_),lastUpdateTime "</span> \</span><br><span class="line">          <span class="string">"from tencent_virus_data where lastUpdateTime = ( "</span> \</span><br><span class="line">          <span class="string">"select lastUpdateTime from tencent_virus_data "</span> \</span><br><span class="line">          <span class="string">"order by lastUpdateTime desc limit 1) "</span> \</span><br><span class="line">          <span class="string">"group by province_name_"</span></span><br><span class="line"></span><br><span class="line">    res = query(sql)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取最新50条热搜数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_hotPoint</span><span class="params">()</span>:</span></span><br><span class="line">    sql = <span class="string">"select content,setDataTime from  hotpoint order by id desc limit 50"</span></span><br><span class="line">    res = query(sql)</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></div></li></ul></li></ul><h3 id="建立路由调用工具类方法返回数据值"><a href="#建立路由调用工具类方法返回数据值" class="headerlink" title="建立路由调用工具类方法返回数据值"></a>建立路由调用工具类方法返回数据值</h3><ul><li>这里需要注意的是需要引入写好的工具类<ul><li><code>import xxx</code></li></ul></li><li>在这里得到工具类查询数据库得到的值，再做进一步处理返回给页面关注的数据结构<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/', methods=["get", "post"])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">"index.html"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/getTime")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_time</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> utils.get_time()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/getDailyData")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_daily_data</span><span class="params">()</span>:</span></span><br><span class="line">    data = utils.get_daily_data()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(&#123;<span class="string">"today_confirm"</span>: data[<span class="number">0</span>],</span><br><span class="line">                    <span class="string">"total_nowConfirm"</span>: data[<span class="number">1</span>],</span><br><span class="line">                    <span class="string">"total_confirm"</span>: data[<span class="number">2</span>],</span><br><span class="line">                    <span class="string">"total_dead"</span>: data[<span class="number">3</span>],</span><br><span class="line">                    <span class="string">"total_deadRate"</span>: data[<span class="number">4</span>],</span><br><span class="line">                    <span class="string">"total_heal"</span>: data[<span class="number">5</span>],</span><br><span class="line">                    <span class="string">"total_healRate"</span>: data[<span class="number">6</span>]&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/getAreaData")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_area_data</span><span class="params">()</span>:</span></span><br><span class="line">    areaData = []</span><br><span class="line">    <span class="keyword">for</span> city <span class="keyword">in</span> utils.get_area_data():</span><br><span class="line">        areaData.append(&#123;<span class="string">"name"</span>: city[<span class="number">0</span>], <span class="string">"value"</span>: int(city[<span class="number">1</span>])&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(&#123;<span class="string">"data"</span>: areaData&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/getGeneralTrend")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_generalTrend_data</span><span class="params">()</span>:</span></span><br><span class="line">    gT_data = utils.get_GeneralTrend_data()</span><br><span class="line">    today_confirm, total_nowConfirm, total_confirm = [], [], []</span><br><span class="line">    total_dead, total_heal, setDataTime = [], [], []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> a, b, c, d, e, f <span class="keyword">in</span> gT_data:</span><br><span class="line">        today_confirm.append(a)</span><br><span class="line">        total_nowConfirm.append(b)</span><br><span class="line">        total_confirm.append(c)</span><br><span class="line">        total_dead.append(d)</span><br><span class="line">        total_heal.append(e)</span><br><span class="line">        setDataTime.append(f.strftime(<span class="string">"%m-%d"</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># reverse() 没有返回值</span></span><br><span class="line">    today_confirm.reverse()</span><br><span class="line">    total_nowConfirm.reverse()</span><br><span class="line">    total_confirm.reverse()</span><br><span class="line">    total_dead.reverse()</span><br><span class="line">    total_heal.reverse()</span><br><span class="line">    setDataTime.reverse()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(&#123;<span class="string">"today_confirm"</span>: today_confirm,</span><br><span class="line">                    <span class="string">"total_nowConfirm"</span>: total_nowConfirm,</span><br><span class="line">                    <span class="string">"total_confirm"</span>: total_confirm,</span><br><span class="line">                    <span class="string">"total_dead"</span>: total_dead,</span><br><span class="line">                    <span class="string">"total_heal"</span>: total_heal,</span><br><span class="line">                    <span class="string">"setDataTime"</span>: setDataTime&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/getTodayNewConfrim")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_todayNewConfrim_data</span><span class="params">()</span>:</span></span><br><span class="line">    tNC_data = utils.get_todayNewConfrim_data()</span><br><span class="line">    province_city, city_today_confirm_ = [], []</span><br><span class="line">    setDateTime = <span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> tNC_data:</span><br><span class="line">        province_city.append(i[<span class="number">0</span>])</span><br><span class="line">        city_today_confirm_.append(i[<span class="number">1</span>])</span><br><span class="line">        setDateTime = i[<span class="number">2</span>].strftime(<span class="string">"%Y/%m/%d"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(&#123;<span class="string">"setDateTime"</span>: setDateTime,</span><br><span class="line">                    <span class="string">"city_today_confirm_"</span>: city_today_confirm_,</span><br><span class="line">                    <span class="string">"province_city"</span>: province_city&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/getConfrimUntilNow")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_confrimUntilNow_data</span><span class="params">()</span>:</span></span><br><span class="line">    cUN_data = utils.get_confrimUntilNow()</span><br><span class="line">    provinces = []</span><br><span class="line">    setDateTime = <span class="string">""</span></span><br><span class="line">    provinceConfrim = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> cUN_data:</span><br><span class="line">        provinces.append(i[<span class="number">0</span>])</span><br><span class="line">        setDateTime = i[<span class="number">2</span>].strftime(<span class="string">"%Y/%m/%d"</span>)</span><br><span class="line">        pC = int(decimal.Decimal(i[<span class="number">1</span>]).quantize(decimal.Decimal(<span class="string">'0'</span>)))  <span class="comment"># 把 Decimal 转换成可用于 json 序列化的 int 类型</span></span><br><span class="line">        provinceConfrim.append(&#123;<span class="string">"name"</span>: i[<span class="number">0</span>], <span class="string">"value"</span>: pC&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(&#123;<span class="string">"provinces"</span>: provinces,</span><br><span class="line">                    <span class="string">"provinceConfrim"</span>: provinceConfrim,</span><br><span class="line">                    <span class="string">"setDateTime"</span>: setDateTime&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route("/getHotPoint")</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_hotPoint_data</span><span class="params">()</span>:</span></span><br><span class="line">    hP_data = utils.get_hotPoint()</span><br><span class="line">    keywords = []</span><br><span class="line">    setDataTime = <span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> hP_data:</span><br><span class="line">        content = i[<span class="number">0</span>]</span><br><span class="line">        keyword_weight = extract_tags(content, topK=<span class="number">20</span>, withWeight=<span class="literal">True</span>)</span><br><span class="line">        setDataTime = i[<span class="number">1</span>].strftime(<span class="string">"%Y/%m/%d"</span>)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> keyword_weight:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> j[<span class="number">0</span>].isdigit():  <span class="comment"># 如果是数字就不加入数组</span></span><br><span class="line">                weight = <span class="number">20</span> * round(j[<span class="number">1</span>], <span class="number">1</span>)</span><br><span class="line">                keywords.append(&#123;<span class="string">"name"</span>: j[<span class="number">0</span>], <span class="string">"value"</span>: str(weight)&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(&#123;<span class="string">"keywords"</span>: keywords,</span><br><span class="line">                    <span class="string">"setDataTime"</span>: setDataTime&#125;)</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="页面请求数据并对接展示"><a href="#页面请求数据并对接展示" class="headerlink" title="页面请求数据并对接展示"></a>页面请求数据并对接展示</h3><ul><li>这里展示数据用的 Echarts </li><li>Echarts 的话，需要关注它的 options 内需要传入的数据结构</li><li><p>然后在 ajax 请求获得数据后，赋给对应的位置即可</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAreaData</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: <span class="string">"/getAreaData"</span>,</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            center_option.series[<span class="number">0</span>].data=data.data;</span><br><span class="line">            center.setOption(center_option);</span><br><span class="line">        &#125;,</span><br><span class="line">        error:<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>使用 Echarts 的 wordCloud 需要注意的是 5.0 版本不支持</p></li><li>需要切换 5.0 之前的版本</li><li>这样的话，可以在项目中引入两个不同版本的 Echarts.js </li><li>然后打开其中一个，把内部的 echarts 对象全部修改<ul><li>比如需要单独把 4.0 版本的做处理，就打开该 js 文件，将全部默认的 echarts 对象修改成 echarts4</li><li>区分开不同版本</li></ul></li><li>最后获取对象的时候使用 echarts4 即可</li></ul><h2 id="树莓派部署测试"><a href="#树莓派部署测试" class="headerlink" title="树莓派部署测试"></a>树莓派部署测试</h2><h3 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h3><ul><li>配置好基本环境</li><li>然后直接通过 python 命令启动 flask 即可</li><li><p>需要对外访问就需要设置一下 host</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(host=<span class="string">"0.0.0.0"</span>)</span><br></pre></td></tr></table></figure></div></li><li><p>浏览器输入 ip:5000 即可看到服务</p></li></ul><h3 id="Nginx-反代"><a href="#Nginx-反代" class="headerlink" title="Nginx 反代"></a>Nginx 反代</h3><ul><li>配置好 nginx ,将服务的地址代理到 nginx</li><li>找到配置文件，我的树莓派默认的 nginx 配置文件是 <code>/etc/nginx/nginx.conf</code></li><li><p>主要配置</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">    upstream hgo &#123;</span><br><span class="line"></span><br><span class="line">        server 127.0.0.1:5000 weight=10;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       8080 default_server;</span><br><span class="line">        listen       [::]:8080 default_server;</span><br><span class="line">        server_name  _;</span><br><span class="line">        root         /usr/share/nginx/html;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">         Load configuration files <span class="keyword">for</span> the default server block.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">         include /etc/nginx/default.d/*.conf;</span></span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">                proxy_pass http://hgo;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 404 /404.html;</span><br><span class="line">        location = /404.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 500 502 503 504 /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div></li><li><p>整个配置文件</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> For more information on configuration, see:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   * Official English Documentation: http://nginx.org/en/docs/</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   * Official Russian Documentation: http://nginx.org/ru/docs/</span></span><br><span class="line"></span><br><span class="line">user nginx;</span><br><span class="line">worker_processes auto;</span><br><span class="line">error_log /var/log/nginx/error.log;</span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.</span></span><br><span class="line">include /usr/share/nginx/modules/*.conf;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span><br><span class="line">                      '$status $body_bytes_sent "$http_referer" '</span><br><span class="line">                      '"$http_user_agent" "$http_x_forwarded_for"';</span><br><span class="line"></span><br><span class="line">    access_log  /var/log/nginx/access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile            on;</span><br><span class="line">    tcp_nopush          on;</span><br><span class="line">    tcp_nodelay         on;</span><br><span class="line">    keepalive_timeout   65;</span><br><span class="line">    types_hash_max_size 2048;</span><br><span class="line"></span><br><span class="line">    include             /etc/nginx/mime.types;</span><br><span class="line">    default_type        application/octet-stream;</span><br><span class="line"></span><br><span class="line">    # Load modular configuration files from the /etc/nginx/conf.d directory.</span><br><span class="line">    # See http://nginx.org/en/docs/ngx_core_module.html#include</span><br><span class="line">    # for more information.</span><br><span class="line">    include /etc/nginx/conf.d/*.conf;</span><br><span class="line"></span><br><span class="line">    upstream hgo &#123;</span><br><span class="line"></span><br><span class="line">        server 127.0.0.1:5000 weight=10;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       8080 default_server;</span><br><span class="line">        listen       [::]:8080 default_server;</span><br><span class="line">        server_name  _;</span><br><span class="line">        root         /usr/share/nginx/html;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">         Load configuration files <span class="keyword">for</span> the default server block.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">         include /etc/nginx/default.d/*.conf;</span></span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">                proxy_pass http://hgo;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 404 /404.html;</span><br><span class="line">        location = /404.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        error_page 500 502 503 504 /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Settings <span class="keyword">for</span> a TLS enabled server.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">    server &#123;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        listen       443 ssl http2 default_server;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        listen       [::]:443 ssl http2 default_server;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        server_name  _;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        root         /usr/share/nginx/html;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">        ssl_certificate <span class="string">"/etc/pki/nginx/server.crt"</span>;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        ssl_certificate_key <span class="string">"/etc/pki/nginx/private/server.key"</span>;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        ssl_session_cache shared:SSL:1m;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        ssl_session_timeout  10m;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        ssl_ciphers HIGH:!aNULL:!MD5;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        ssl_prefer_server_ciphers on;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">        <span class="comment"># Load configuration files for the default server block.</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">        include /etc/nginx/default.d/*.conf;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">        location / &#123;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        &#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">        error_page 404 /404.html;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        location = /404.html &#123;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        &#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">        error_page 500 502 503 504 /50x.html;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        location = /50x.html &#123;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">        &#125;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">    &#125;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>这样一来就可通过 nginx 代理出来的地址去访问服务器内部的地址了</p></li></ul><h3 id="使用-WSGI-服务"><a href="#使用-WSGI-服务" class="headerlink" title="使用 WSGI 服务"></a>使用 WSGI 服务</h3><ul><li>不建议直接用 python 命令去启动 flask </li><li>使用 gunicorn 将服务启动</li><li><code>gunicorn -b 127.0.0.1:5000 -D app:app</code></li><li><code>gunicorn -b 127.0.0.1:5000 -D 文件名:文件内部的 flask 对象名</code><ul><li><code>app = Flask(__name__)</code></li></ul></li></ul><h3 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h3><ul><li><code>crontab -l</code> 查看正在执行的定时任务</li><li><p><code>crontab -e</code> 编辑定时任务</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Edit this file to introduce tasks to be run by cron.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Each task to run has to be defined through a single line</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> indicating with different fields when the task will be run</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> and what <span class="built_in">command</span> to run <span class="keyword">for</span> the task</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> To define the time you can provide concrete values <span class="keyword">for</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> minute (m), hour (h), day of month (dom), month (mon),</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> and day of week (dow) or use <span class="string">'*'</span> <span class="keyword">in</span> these fields (<span class="keyword">for</span> <span class="string">'any'</span>).</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Notice that tasks will be started based on the cron<span class="string">'s system</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> daemon<span class="string">'s notion of time and timezones.</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Output of the crontab <span class="built_in">jobs</span> (including errors) is sent through</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> email to the user the crontab file belongs to (unless redirected).</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For example, you can run a backup of all your user accounts</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> at 5 a.m every week with:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For more information see the manual pages of crontab(5) and cron(8)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> m h  dom mon dow   <span class="built_in">command</span></span></span><br><span class="line">45 * * * * python3 /home/pi/Documents/FkZi/gunicorn/virus.py dd &gt;&gt; /home/pi/Documents/log/dd 2&gt;&amp;1 &amp;</span><br><span class="line">45 * * * * python3 /home/pi/Documents/FkZi/gunicorn/virus.py vd &gt;&gt; /home/pi/Documents/log/vd 2&gt;&amp;1 &amp;</span><br><span class="line">45 * * * * python3 /home/pi/Documents/FkZi/gunicorn/virus.py hp &gt;&gt; /home/pi/Documents/log/hp 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure></div></li><li><p>定时任务执行成功可在对应的目录看到生成的日志文件 <code>/home/pi/Documents/log/dd</code></p></li><li>可看到对应的参数设置</li><li><code>virus.py hp</code> 这里是给 py 脚本传递参数</li><li>需要在文件内设置<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    length = len(sys.argv)</span><br><span class="line">    <span class="keyword">if</span> length == <span class="number">1</span>:</span><br><span class="line">        s = <span class="string">"""</span></span><br><span class="line"><span class="string">                请输入参数：</span></span><br><span class="line"><span class="string">                dd 更新详细数据</span></span><br><span class="line"><span class="string">                vd 更新汇总数据</span></span><br><span class="line"><span class="string">                hp 更新热点信息</span></span><br><span class="line"><span class="string">            """</span></span><br><span class="line">        print(s)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        order = sys.argv[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> order == <span class="string">"vd"</span>:</span><br><span class="line">            update_virus_data()</span><br><span class="line">        <span class="keyword">elif</span> order == <span class="string">"dd"</span>:</span><br><span class="line">            update_daily_data()</span><br><span class="line">        <span class="keyword">elif</span> order == <span class="string">"hp"</span>:</span><br><span class="line">            update_hotPoint()</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="生产服务器部署"><a href="#生产服务器部署" class="headerlink" title="生产服务器部署"></a>生产服务器部署</h2><ul><li>和在测试环境一样的步骤即可，这里生产的设备为 x86 的 Linux,OS 为 CentOS</li><li>先拉项目到设备里，把依赖安装好</li><li>将项目启动起来，配置 nginx 把端口代理出来</li><li>然后用 gunicorn 启动项目</li><li>设置定时任务</li><li>测试定时任务的脚本，把依赖装好，主要问题在 chromedirver<ul><li>👉 <a href="https://cloud.tencent.com/developer/article/1647905" target="_blank" rel="noopener">爬虫在linux下启动selenium-安装谷歌浏览器和驱动</a></li></ul></li><li>‘chromedriver’ executable needs to be in PATH. Please see <a href="https://sites.google.com/a/chromium.org/chromedriver/home" target="_blank" rel="noopener">https://sites.google.com/a/chromium.org/chromedriver/home</a><ul><li>如果出现这个问题，在代码里指定 chrome 对象驱动路径即可</li></ul></li></ul><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><h3 id="print-cursor-execute-sql-为空"><a href="#print-cursor-execute-sql-为空" class="headerlink" title="print(cursor.execute(sql)) 为空"></a>print(cursor.execute(sql)) 为空</h3><ul><li>因为执行的语句未非查询语句，只有查询语句才有返回值</li><li>其他语句，如插入语句等，都需要提交事务 commit() 之后才能得到返回值 </li></ul><h3 id="在-selenium-中获取浏览器对象的时候，浏览器启动后一会就关闭了"><a href="#在-selenium-中获取浏览器对象的时候，浏览器启动后一会就关闭了" class="headerlink" title="在 selenium 中获取浏览器对象的时候，浏览器启动后一会就关闭了"></a>在 selenium 中获取浏览器对象的时候，浏览器启动后一会就关闭了</h3><ul><li>因为获取浏览器的对象在方法中，方法执行完浏览器自然就跟着关闭了</li><li>如果需要浏览器一直存在，把浏览器对象在方法外部，使其成为全局对象就可以了</li></ul><h3 id="树莓派-arm-架构安装的-nginx-默认配置缺失"><a href="#树莓派-arm-架构安装的-nginx-默认配置缺失" class="headerlink" title="树莓派 arm 架构安装的 nginx 默认配置缺失"></a>树莓派 arm 架构安装的 nginx 默认配置缺失</h3><ul><li>找到对的位置的配置文件</li><li>然后可以从其他已安装 nginx 的设备中把 配置文件 传过来</li></ul><h3 id="nginx-没有把服务代理出来"><a href="#nginx-没有把服务代理出来" class="headerlink" title="nginx 没有把服务代理出来"></a>nginx 没有把服务代理出来</h3><ul><li><p>可能需要配置一下组和用 root 来启动</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- `groupadd nginx` </span><br><span class="line">- `useradd -g nginx nginx -s /sbin/nologin`</span><br></pre></td></tr></table></figure></div></li><li><p>还需要关注当前的用户和 root 用户的包是否有 nginx</p></li></ul><h3 id="arm-架构的-chromedriver-版本"><a href="#arm-架构的-chromedriver-版本" class="headerlink" title="arm 架构的 chromedriver 版本"></a>arm 架构的 chromedriver 版本</h3><ul><li>首先是要确保 chrome 浏览器和 chromedriver 版本一致</li><li>arm 架构的 chromedriver 实在难找，树莓派 4b 里的 chromiun 的版本为 78<ul><li>arm 架构的 chromedriver 版本为 78 根本找不到 </li></ul></li><li>这样的话，我们可以换个思路，把浏览器和驱动都升级到最新即可</li><li><code>sudo apt-get install chromium-browser</code> 更新最新</li><li><code>chromium-browser --version</code></li><li>👉 <a href="https://mirrors.tuna.tsinghua.edu.cn/raspberrypi/pool/main/c/chromium-browser/" target="_blank" rel="noopener">mirrors.tuna.tsinghua.edu.cn</a></li><li><code>sudo apt-get install chromium-chromedriver</code> 下载浏览器驱动，默认下了最新的</li><li>👉 <a href="https://launchpad.net/+search?field.text=chromium-chromedriver+armhf" target="_blank" rel="noopener">Launchpad.net</a></li></ul><h3 id="mysql-和-mariadb-的-group-by-字段"><a href="#mysql-和-mariadb-的-group-by-字段" class="headerlink" title="mysql 和 mariadb 的 group by 字段"></a>mysql 和 mariadb 的 group by 字段</h3><ul><li>[Err] 1055 - Expression #3 of SELECT list is not in GROUP BY clause and contains nonaggregated column ‘virus.tencent_virus_data.lastUpdateTime’ which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by</li><li>👉<a href="https://www.cnblogs.com/Wayou/p/mysql_group_by_issue.html" target="_blank" rel="noopener">MySQL GROUP BY 的问题</a></li><li>👉<a href="https://cloud.tencent.com/developer/article/1533773" target="_blank" rel="noopener">sql_mode之only_full_group_by</a></li></ul><h3 id="mysql-和-mariadb-的-group-by-结果顺序"><a href="#mysql-和-mariadb-的-group-by-结果顺序" class="headerlink" title="mysql 和 mariadb 的 group by 结果顺序"></a>mysql 和 mariadb 的 group by 结果顺序</h3><ul><li>👉<a href="https://www.coder.work/article/508344" target="_blank" rel="noopener">mysql - MariaDB上的“GROUP BY”的行为与MySQL不同</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> RaspberryPi </tag>
            
            <tag> Nginx </tag>
            
            <tag> JavaScript </tag>
            
            <tag> Selenium </tag>
            
            <tag> ChromeDriver </tag>
            
            <tag> MySQL </tag>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
            <tag> Mariadb </tag>
            
            <tag> Chromium </tag>
            
            <tag> BeautifulSoup </tag>
            
            <tag> Echarts </tag>
            
            <tag> Gunicorn </tag>
            
            <tag> Crontab </tag>
            
            <tag> ARM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>In Jupyter Notebook</title>
      <link href="/archives/inJupyterNotebook/"/>
      <url>/archives/inJupyterNotebook/</url>
      
        <content type="html"><![CDATA[<h2 id="Configure"><a href="#Configure" class="headerlink" title="Configure"></a>Configure</h2><ul><li><code>pip install notebook</code></li><li><code>jupyter notebook</code> 启动,工作空间是当前目录</li><li><code>jupyter notebook --generate-config</code> 创建配置文件，指定工作空间的目录</li><li><code>c.NotebookApp.notebook_dir = r&#39;F:\Code&#39;</code>打开配置文件找到这个配置并修改<a id="more"></a><h2 id="QuickStart"><a href="#QuickStart" class="headerlink" title="QuickStart"></a>QuickStart</h2></li><li>进入编辑器后，可以进行文本操作</li><li>点击右侧的 New ,新建文件<br><img src="/images/inJupyterNotebook/Snipaste_2020-12-30_22-49-43.png" alt></li><li>绿色为编辑模式，蓝色为命令模式（按 ESC 切换）</li><li><img src="/images/inJupyterNotebook/Snipaste_2020-12-30_22-53-12.png" alt></li><li><img src="/images/inJupyterNotebook/Snipaste_2020-12-30_22-52-56.png" alt>      </li><li><p>单元格类型有两种，默认是代码类型</p><ul><li>在命令模式按 Y 切换为代码类型</li><li>按 M 切换为 Markdown 文本类型<br><img src="/images/inJupyterNotebook/Snipaste_2020-12-30_22-55-20.png" alt></li></ul></li><li><p>在单元格类输入内容后，ctrl + enter 执行</p><ul><li>代码单元格为执行代码，Markdown 单元格为输出文本样式<br><img src="/images/inJupyterNotebook/Snipaste_2020-12-30_22-56-59.png" alt></li></ul></li><li><p>常用快捷键</p><ul><li>ctrl + enter 执行并光标停留在当前单元格</li><li>shift + enter 执行并在下面创建新单元格，进入命令模式</li><li>alt + enter 执行并在下面创建新单元格，进入编辑模式</li><li>单元格类型切换 Y / M</li><li>在命令模式下，A 在上一行插入单元格</li><li>在命令模式下，B 在下一行插入单元格</li><li>在命令模式下，DD 删除当前单元格</li></ul></li><li><p>使用测试<br><img src="/images/inJupyterNotebook/Snipaste_2020-12-30_23-27-24.png" alt></p></li><li>这里需要注意的是,每个单元格是单独执行的,分单元格写代码的话,要从上到到下按顺序执行各个单元格</li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li>👉 <a href="https://jupyter.org/" target="_blank" rel="noopener">jupyter</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Jupyter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flask Run</title>
      <link href="/archives/flaskRun/"/>
      <url>/archives/flaskRun/</url>
      
        <content type="html"><![CDATA[<h2 id="Quickstart"><a href="#Quickstart" class="headerlink" title="Quickstart"></a>Quickstart</h2><ul><li><p>On PowerShell</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir flk</span><br><span class="line">cd flk</span><br><span class="line">py -m venv venv</span><br><span class="line">pip install flask</span><br><span class="line">mk hello.py</span><br><span class="line">New-Item hello.py -type file</span><br></pre></td></tr></table></figure></div></li><li><p>在 hello.py 写入 </p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span><span class="params">()</span>:</span></span><br><span class="line"><span class="keyword">return</span> <span class="string">'Hello, World!'</span></span><br></pre></td></tr></table></figure></div></li><li><p>run</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$env:FLASK_APP = <span class="string">"hello.py"</span></span><br><span class="line">flask run</span><br></pre></td></tr></table></figure></div></li><li><p>get / post</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello, World!'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/name')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">elias</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello, elias!'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/name/&lt;username&gt;')  #&lt;&gt;内默认 String</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">elias</span><span class="params">(username)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello, %s!'</span> % username</span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.route('/name/&lt;float:a&gt;') #float</span></span><br><span class="line"><span class="meta">@app.route('/name/&lt;int:a&gt;') # int</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">elias</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello, %s!'</span> % (a + a)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/login', methods=['GET', 'POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'POST'</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"A"</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"B"</span></span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://github.com/BeyondLam/bili/blob/master/%E6%96%87%E6%A1%A3%E8%B5%84%E6%96%99%E5%8F%82%E8%80%83/flask%E6%95%99%E7%A8%8B.md" target="_blank" rel="noopener">flask教程</a></li><li>👉<a href="https://flask.palletsprojects.com/en/1.1.x/" target="_blank" rel="noopener">Flask</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scrapy Learning Log</title>
      <link href="/archives/scrapyLearningLog/"/>
      <url>/archives/scrapyLearningLog/</url>
      
        <content type="html"><![CDATA[<h2 id="Scrapy-调试"><a href="#Scrapy-调试" class="headerlink" title="Scrapy 调试"></a>Scrapy 调试</h2><h3 id="通过-Shell-层层调试"><a href="#通过-Shell-层层调试" class="headerlink" title="通过 Shell 层层调试"></a>通过 Shell 层层调试</h3><ul><li><code>scrapy shell http://doc.scrapy.org/en/latest/_static/selectors-sample1.html</code></li><li>然后用选择器筛选</li></ul><h3 id="IDE-debug-启动-Shell"><a href="#IDE-debug-启动-Shell" class="headerlink" title="IDE debug 启动 Shell"></a>IDE debug 启动 Shell</h3><ul><li><p>在代码中加入</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy.shell <span class="keyword">import</span> inspect_response</span><br><span class="line">inspect_response(response, self)</span><br></pre></td></tr></table></figure></div></li><li><p><code>scrapy crwal AAA</code> 启动项目</p></li><li>然后项目执行到上面两句插入的位置的时候，就会启动 Shell </li><li>接着就在 Shell 里调试<br><img src="/images/scrapyLearningLog/Snipaste_2020-12-27_22-04-22.png" alt></li></ul><a id="more"></a><h3 id="直接在-IDE-里调试"><a href="#直接在-IDE-里调试" class="headerlink" title="直接在 IDE 里调试"></a>直接在 IDE 里调试</h3><ul><li>新建文件写入  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> cmdline</span><br><span class="line"><span class="comment"># douban 为要调试的文件名</span></span><br><span class="line">name = <span class="string">'douban'</span></span><br><span class="line">cmd = <span class="string">'scrapy crawl &#123;0&#125;'</span>.format(name)</span><br><span class="line">cmdline.execute(cmd.split())</span><br></pre></td></tr></table></figure></div></li></ul><p><img src="/images/scrapyLearningLog/Snipaste_2020-12-27_22-06-33.png" alt></p><ul><li>然后到要调试的文件里设置断点</li><li>最后回到上面新建的文件里面右键 debug 即可</li></ul><h2 id="设置请求头"><a href="#设置请求头" class="headerlink" title="设置请求头"></a>设置请求头</h2><ul><li>有时候不设置请求头，会被拒绝访问 403</li><li><p>scrapy 有两种方式设置请求头，一种是在 settings.py 里配置</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USER_AGENT = <span class="string">'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36'</span></span><br></pre></td></tr></table></figure></div></li><li><p>另一种是在函数里写</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DoubanSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">   headers = &#123;</span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) '</span></span><br><span class="line">                    <span class="string">'Chrome/53.0.2785.143 Safari/537.36'</span>,</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div></li><li><p>然后在 start_request()里调用</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DoubanSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">name = <span class="string">'douban'</span></span><br><span class="line">allowed_domains = [<span class="string">'movie.douban.com/top250'</span>]</span><br><span class="line"><span class="comment"># 把 这里的 start_urls 写在 start_requests() 里能执行更多操作，这里的只是简单的设置 url</span></span><br><span class="line"><span class="comment"># start_urls = ['http://movie.douban.com/top250/']</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) '</span></span><br><span class="line">                <span class="string">'Chrome/53.0.2785.143 Safari/537.36'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这些方法参数 self 应该是指上面定义的那些变量</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">start_requests</span><span class="params">(self)</span>:</span></span><br><span class="line">    url = <span class="string">'https://movie.douban.com/top250'</span></span><br><span class="line">    <span class="keyword">yield</span> Request(url, headers=self.headers)</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="请求下一页-但没返回"><a href="#请求下一页-但没返回" class="headerlink" title="请求下一页,但没返回"></a>请求下一页,但没返回</h2><ul><li>DEBUG: Filtered offsite request to</li><li>原因是 request 的地址和 allow_domain 里面的冲突，从而被过滤掉,可以停用过滤功能<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">next_url = response.xpath('//span[@class="next"]/a/@href').extract_first()</span><br><span class="line">if next_url:</span><br><span class="line">next_url = 'https://movie.douban.com/top250' + next_url</span><br><span class="line"><span class="deletion">-yield Request(next_url, headers=self.headers)</span></span><br><span class="line"><span class="addition">+yield Request(next_url, headers=self.headers, dont_filter=True)</span></span><br></pre></td></tr></table></figure></div></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Step into Scrapy</title>
      <link href="/archives/stepIntoScrapy/"/>
      <url>/archives/stepIntoScrapy/</url>
      
        <content type="html"><![CDATA[<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ul><li><code>pip install scrapy</code></li><li><code>scrapy</code> 查看用法</li><li><code>scrapy startproject getTiobe</code> 新建 scrapy 项目</li><li><code>cd getTiobe\spiders</code> 进入该目录</li><li><code>scrapy genspider tiobe www.tiobe.com/tiobe-index</code> 生成该链接的爬虫文件<br><img src="/images/stepIntoScrapy/Snipaste_2020-12-26_19-34-43.png" alt><a id="more"></a><h2 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h2></li><li>获取该元素对应的 css 选择器<br><img src="/images/stepIntoScrapy/Snipaste_2020-12-26_19-36-35.png" alt></li><li>修改 parse 方法</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> response.css(<span class="string">'#top20 &gt; tbody &gt; tr'</span>):</span><br><span class="line">    <span class="keyword">yield</span> &#123;</span><br><span class="line">        <span class="string">'rank_this-year'</span>: item.css(<span class="string">'td:nth-child(1)::text'</span>).get().strip(),</span><br><span class="line">        <span class="string">'rank_last-year'</span>: item.css(<span class="string">'td:nth-child(2)::text'</span>).get().strip(),</span><br><span class="line">        <span class="string">'programming_language'</span>: item.css(<span class="string">'td:nth-child(4)::text'</span>).get().strip(),</span><br><span class="line">        <span class="string">'ratings'</span>: item.css(<span class="string">'td:nth-child(5)::text'</span>).get().strip(),</span><br><span class="line">        <span class="string">'change'</span>: item.css(<span class="string">'td:nth-child(6)::text'</span>).get().strip(),</span><br><span class="line">        <span class="string">'date'</span>: time.strftime(<span class="string">'%Y/%m/%d %H:%M:%S'</span>, time.localtime(time.time()))</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="实施"><a href="#实施" class="headerlink" title="实施"></a>实施</h2><ul><li><p>在 spiders 目录下的 settings.py 设置导出 json 格式</p><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FEED_FORMAT = &quot;json&quot;</span><br><span class="line">FEED_URI = &quot;tiobe.json&quot;</span><br></pre></td></tr></table></figure></div></li></ul></li><li><p><code>scrapy crawl tiobe</code></p></li><li>就可以在项目的目录下找到 tiobe.json 获得的数据了</li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li>👉 <a href="https://blog.csdn.net/mieleizhi0522/article/details/82142856" target="_blank" rel="noopener">python中yield的用法详解——最简单，最清晰的解释</a></li><li>👉 <a href="https://scrapy.org/" target="_blank" rel="noopener">https://scrapy.org/</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Batch Note</title>
      <link href="/archives/batchNote/"/>
      <url>/archives/batchNote/</url>
      
        <content type="html"><![CDATA[<h3 id="搜索当前目录下的所有文件"><a href="#搜索当前目录下的所有文件" class="headerlink" title="搜索当前目录下的所有文件"></a>搜索当前目录下的所有文件</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">%%i</span> <span class="keyword">in</span> (*.*) <span class="keyword">do</span> <span class="built_in">echo</span> "<span class="variable">%%i</span>"</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure></div><h3 id="搜索当前目录下被筛选的文件"><a href="#搜索当前目录下被筛选的文件" class="headerlink" title="搜索当前目录下被筛选的文件"></a>搜索当前目录下被筛选的文件</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">%%i</span> <span class="keyword">in</span> (*.<span class="built_in">md</span>) <span class="keyword">do</span> <span class="built_in">echo</span> "<span class="variable">%%i</span>"</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure></div><p>可用正则表达式<br><a id="more"></a></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">%%i</span> <span class="keyword">in</span> (?.<span class="built_in">md</span>) <span class="keyword">do</span> <span class="built_in">echo</span> "<span class="variable">%%i</span>"</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure></div><p>上面表示搜索只有一个字符名，且后缀为 md 的文件</p><h3 id="以管理员身份执行命令"><a href="#以管理员身份执行命令" class="headerlink" title="以管理员身份执行命令"></a>以管理员身份执行命令</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%<span class="number">1</span> mshta vbscript:CreateObject("Shell.Application").ShellExecute("<span class="built_in">cmd</span>.exe","/c %~s0 ::","","runas",<span class="number">1</span>)(window.close)&amp;&amp;<span class="keyword">exit</span></span><br></pre></td></tr></table></figure></div><p>写在脚本文件顶部即可</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">setlocal</span> EnableDelayedExpansion</span><br><span class="line"><span class="built_in">color</span> <span class="number">3</span>e</span><br><span class="line"></span><br><span class="line"><span class="built_in">PUSHD</span> %~DP0 &amp; <span class="built_in">cd</span> /d "%~dp0"</span><br><span class="line">%<span class="number">1</span> %<span class="number">2</span></span><br><span class="line">mshta vbscript:createobject("shell.application").shellexecute("%~s0","<span class="keyword">goto</span> :runas","","runas",<span class="number">1</span>)(window.close)&amp;<span class="keyword">goto</span> :eof</span><br><span class="line">:runas</span><br><span class="line"> </span><br><span class="line">::填写自己的脚本</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 执行完毕,任意键退出</span><br><span class="line"></span><br><span class="line"><span class="built_in">pause</span> &gt;<span class="built_in">nul</span></span><br><span class="line"><span class="keyword">exit</span></span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">NUL</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span> REG.exe query "HKU\S-<span class="number">1</span>-<span class="number">5</span>-<span class="number">19</span>" || (</span><br><span class="line">    <span class="built_in">ECHO</span> <span class="built_in">SET</span> UAC = CreateObject^("Shell.Application"^) &gt; "<span class="variable">%TEMP%</span>\Getadmin.vbs"</span><br><span class="line">    <span class="built_in">ECHO</span> UAC.ShellExecute "%~f0", "%<span class="number">1</span>", "", "runas", <span class="number">1</span> &gt;&gt; "<span class="variable">%TEMP%</span>\Getadmin.vbs"</span><br><span class="line">    "<span class="variable">%TEMP%</span>\Getadmin.vbs"</span><br><span class="line">    <span class="built_in">DEL</span> /f /q "<span class="variable">%TEMP%</span>\Getadmin.vbs" <span class="number">2</span>&gt;<span class="built_in">NUL</span></span><br><span class="line">    <span class="keyword">Exit</span> /b</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">nul</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span> "<span class="variable">%SYSTEMROOT%</span>\system32\<span class="built_in">cacls</span>.exe" "<span class="variable">%SYSTEMROOT%</span>\system32\config\system"</span><br><span class="line"><span class="keyword">if</span> '<span class="variable">%errorlevel%</span>' <span class="keyword">NEQ</span> '<span class="number">0</span>' (</span><br><span class="line"><span class="keyword">goto</span> UACPrompt</span><br><span class="line">) <span class="keyword">else</span> ( <span class="keyword">goto</span> gotAdmin )</span><br><span class="line">:UACPrompt</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">Set</span> UAC = CreateObject^("Shell.Application"^) &gt; "<span class="variable">%temp%</span>\getadmin.vbs"</span><br><span class="line"><span class="built_in">echo</span> UAC.ShellExecute "%~s0", "", "", "runas", <span class="number">1</span> &gt;&gt; "<span class="variable">%temp%</span>\getadmin.vbs"</span><br><span class="line">"<span class="variable">%temp%</span>\getadmin.vbs"</span><br><span class="line"><span class="keyword">exit</span> /B</span><br><span class="line">:gotAdmin</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> "<span class="variable">%temp%</span>\getadmin.vbs" ( <span class="built_in">del</span> "<span class="variable">%temp%</span>\getadmin.vbs" )</span><br></pre></td></tr></table></figure></div><h3 id="在指定目录下打开-git-bash"><a href="#在指定目录下打开-git-bash" class="headerlink" title="在指定目录下打开 git-bash"></a>在指定目录下打开 git-bash</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> C:\Program" "Files\Git\git-bash.exe --<span class="built_in">cd</span>=f:\Code\</span><br></pre></td></tr></table></figure></div><p>路径里的空格需要用双引号<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> f: </span><br><span class="line"><span class="keyword">call</span> <span class="built_in">cd</span> Code\</span><br><span class="line"><span class="built_in">start</span> C:\Program" "Files\Git\git-bash.exe</span><br></pre></td></tr></table></figure></div></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> /p input="输入要在git-bash中打开的项目路径:"</span><br><span class="line"><span class="built_in">start</span> c:\Program" "Files\Git\git-bash.exe --<span class="built_in">cd</span>=<span class="variable">%input%</span></span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure></div><p>输入的项目路径需要在同一个盘符，因为切换盘符不用 cd</p><h3 id="输出内容到剪贴板"><a href="#输出内容到剪贴板" class="headerlink" title="输出内容到剪贴板"></a>输出内容到剪贴板</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Windows\System&gt; clip /?</span><br><span class="line"></span><br><span class="line">CLIP</span><br><span class="line"></span><br><span class="line">描述:</span><br><span class="line">    将命令行工具的输出重定向到 Windows 剪贴板。这个文本输出可以被粘贴</span><br><span class="line">    到其他程序中。</span><br><span class="line"></span><br><span class="line">参数列表:</span><br><span class="line">    /?                  显示此帮助消息。</span><br><span class="line"></span><br><span class="line">示例:</span><br><span class="line">    <span class="built_in">DIR</span> | CLIP          将一份当前目录列表的副本放入 Windows 剪贴板。</span><br><span class="line"></span><br><span class="line">    CLIP &lt; README.TXT   将 readme.txt 的一份文本放入 Windows 剪贴板。</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> elias | clip</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> /p="<span class="variable">%date%</span>"&lt;<span class="built_in">nul</span> | clip</span><br></pre></td></tr></table></figure></div><h3 id="连续执行命令"><a href="#连续执行命令" class="headerlink" title="连续执行命令"></a>连续执行命令</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> f: </span><br><span class="line"><span class="keyword">call</span> <span class="built_in">cd</span> Code\</span><br><span class="line"><span class="keyword">call</span> hexo clean</span><br><span class="line"><span class="keyword">call</span> hexo g</span><br><span class="line"><span class="keyword">call</span> hexo d</span><br></pre></td></tr></table></figure></div><p>这里每个命令前面最好保留 call ,没有 call 的话, cmd 会在中途关闭</p><h3 id="配置-java-环境变量"><a href="#配置-java-环境变量" class="headerlink" title="配置 java 环境变量"></a>配置 java 环境变量</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">%<span class="number">1</span> mshta vbscript:CreateObject(“Shell.Application”).ShellExecute(“<span class="built_in">cmd</span>.exe”,"/c %~s0 ::","",“runas”,<span class="number">1</span>)(window.close)&amp;&amp;<span class="keyword">exit</span> </span><br><span class="line"><span class="built_in">echo</span> 正在设置 Java 环境变量</span><br><span class="line">wmic ENVIRONMENT create name="JAVA_HOME",username="&lt;system&gt;",VariableValue="C:\Program Files (x86)\Java\jdk1.<span class="number">7</span>.<span class="number">0</span>_79"</span><br><span class="line">wmic ENVIRONMENT create name="CLASSPATH",username="&lt;system&gt;",VariableValue=".;<span class="variable">%%J</span>AVA_HOME<span class="variable">%%\</span>lib;<span class="variable">%%J</span>AVA_HOME<span class="variable">%%\</span>lib\tools.jar"</span><br><span class="line">wmic ENVIRONMENT where "name='<span class="built_in">PATH</span>' and username='&lt;system&gt;'" <span class="built_in">set</span> VariableValue="<span class="variable">%path%</span>;<span class="variable">%%J</span>AVA_HOME<span class="variable">%%\</span>bin;<span class="variable">%%J</span>AVA_HOME<span class="variable">%%\</span>jre\bin;"</span><br><span class="line"><span class="built_in">echo</span> 设置完成</span><br><span class="line"><span class="keyword">call</span> java -version</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure></div><h3 id="获取时间"><a href="#获取时间" class="headerlink" title="获取时间"></a>获取时间</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">%date%</span> <span class="variable">%time%</span></span><br></pre></td></tr></table></figure></div><h3 id="截取字符串"><a href="#截取字符串" class="headerlink" title="截取字符串"></a>截取字符串</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">%date:~0,4%</span></span><br></pre></td></tr></table></figure></div><p>开始位置 0，截取字符数 4</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> str=<span class="number">123456789</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%str:~3,4%</span></span><br></pre></td></tr></table></figure></div><h3 id="语音读取"><a href="#语音读取" class="headerlink" title="语音读取"></a>语音读取</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mshta vbscript:CreateObject("SAPI.SpVoice").speak("elias")(Window.close)</span><br></pre></td></tr></table></figure></div><h3 id="内容重定向"><a href="#内容重定向" class="headerlink" title="内容重定向"></a>内容重定向</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BAT"><figure class="iseeu highlight /bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ipconfig</span> &gt; d:ip.txt</span><br></pre></td></tr></table></figure></div><ul><li>将内容重定向输出到新的位置</li><li><code>&gt;</code>   覆盖式重定向</li><li><code>&gt;&gt;</code>  增量式重定向</li><li><code>&gt;nul</code> 重定向到空设备 nul,所以没有输出内容</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Batch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fish:The Friendly Interactive Shell</title>
      <link href="/archives/Thefriendlyinteractiveshell/"/>
      <url>/archives/Thefriendlyinteractiveshell/</url>
      
        <content type="html"><![CDATA[<ul><li><code>$ sudo apt-get install fish</code></li><li><code>fish</code> 启动 fish</li><li><p>有下划线提示表明路径存在</p><ul><li><img src="/images/fishShell/Snipaste_2020-12-12_02-51-05.png" alt></li></ul></li><li><p>无效命令显示红色，有效命令为蓝色</p><ul><li><img src="/images/fishShell/Snipaste_2020-12-12_02-52-37.png" alt></li></ul></li><li><p>输入命令后，fish 会有历史记录提示和猜测提示，按下 tab 也有提示</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>I got a Raspberry Pi</title>
      <link href="/archives/IgotaRaspberryPi/"/>
      <url>/archives/IgotaRaspberryPi/</url>
      
        <content type="html"><![CDATA[<h2 id="通过网络分享连接树莓派"><a href="#通过网络分享连接树莓派" class="headerlink" title="通过网络分享连接树莓派"></a>通过网络分享连接树莓派</h2><ul><li>确保一台能上网的主机</li><li>把已经连接的网络通过想要共享的形式共享出去</li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-11_22-49-28.png" alt></li><li>开启共享前后的本机 ipv4</li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-11_23-03-18.png" alt></li></ul><a id="more"></a><ul><li>开启共享前后的局域网内 ip 变化<ul><li>我这里之前是连接过了,有缓存记录了，未连接过的情况下，新分配的 ip 就是新连接的设备所属 ip</li></ul></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-11_23-06-54.png" alt></li><li>然后通过 SSH 连接树莓派即可<ul><li>树莓派默认用户名 pi , 密码 raspberry</li></ul></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-11_23-10-14.png" alt></li></ul><h2 id="查看树莓派基本信息"><a href="#查看树莓派基本信息" class="headerlink" title="查看树莓派基本信息"></a>查看树莓派基本信息</h2><ul><li><code>pinout</code> 查看针脚等基本硬件信息</li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-12_03-05-18.png" alt></li><li><code>vcgencmd measure_temp</code> 查看 cpu 温度</li><li><code>cat /proc/cpuinfo</code> 查看 cpu 信息</li><li><code>lscpu</code></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-12_02-29-37.png" alt></li><li><code>free -h</code> 查看内存</li><li><code>lsblk</code> 查看磁盘</li><li><code>df -hT</code></li><li><code>date</code> 查看时间</li><li><code>cat /proc/device-tree/model</code> 查看树莓派型号</li><li><code>getconf LONG_BIT</code> 查看树莓派系统位数</li><li><code>file /bin/ls</code></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-12_02-39-09.png" alt></li><li><code>lsusb</code> 查看 usb</li><li><code>lsmod</code> 查看其他硬件</li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-12_02-41-36.png" alt></li><li><code>vcgencmd get_config arm_freq</code> 查看 CPU 的时钟频率</li><li><code>cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq</code></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-12_02-42-21.png" alt></li><li><p><code>dmesg | more</code> 查看更多硬件信息</p></li><li><p><code>ifconfig</code> 查看 ip </p></li><li><p><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-12_02-45-49.png" alt></p></li><li><p><code>sudo ifconfig wlan0 down</code> 关闭 wlan</p></li><li><code>sudo ifconfig wlan0 up</code></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-12_02-49-22.png" alt></li></ul><h2 id="Windows-远程桌面连接"><a href="#Windows-远程桌面连接" class="headerlink" title="Windows 远程桌面连接"></a>Windows 远程桌面连接</h2><ul><li><code>sudo apt-get purge tightvnc xrdp</code> 先删除之前系统自带的 xrdp 和 tightvnc</li><li><code>sudo apt-get install tightvncserver xrdp</code> 重新安装</li><li><p><code>sudo apt update &amp;&amp; sudo apt upgrade</code> 如果有错误可以执行这个</p></li><li><p>然后 Win+r , 输入 mstsc </p></li><li>接着在远程桌面连接窗口输入 树莓派 ip , 账户密码</li><li><a href="https://www.codenong.com/cs106439903/" target="_blank" rel="noopener">树莓派——xrdp win10远程登录以及蓝屏问题</a><h2 id="开启-SSH"><a href="#开启-SSH" class="headerlink" title="开启 SSH"></a>开启 SSH</h2></li></ul><h3 id="已连接树莓派"><a href="#已连接树莓派" class="headerlink" title="已连接树莓派"></a>已连接树莓派</h3><ul><li><code>sudo raspi-config</code></li><li>interfacing Options</li></ul><h3 id="未连接树莓派"><a href="#未连接树莓派" class="headerlink" title="未连接树莓派"></a>未连接树莓派</h3><ul><li>在内存卡根目录新建 SSH 文件,无后缀</li></ul><!-- ## 设置静态 IP-`sudo nano /etc.dhcpcd.conf`- ![](/images/IgotaRaspberryPi/Snipaste_2020-12-14_21-53-29.png)- 修改完毕，ctrl+x ， y 保存 - `sudo reboot` 重启树莓派，再次 ifconfig 查看 ip --><h2 id="设置-mariadb-远程连接"><a href="#设置-mariadb-远程连接" class="headerlink" title="设置 mariadb 远程连接"></a>设置 mariadb 远程连接</h2><p>👉 <a href="https://www.jianshu.com/p/f440099f056d" target="_blank" rel="noopener">树莓派4 官方系统 安装mysql</a><br>👉 <a href="https://blog.csdn.net/Co_zy/article/details/73923962" target="_blank" rel="noopener">解决MariaDB无法远程连接</a></p><h2 id="开启远程-FTP"><a href="#开启远程-FTP" class="headerlink" title="开启远程 FTP"></a>开启远程 FTP</h2><ul><li><code>sudo apt-get install vsftpd</code></li><li><code>sudo service vsftpd start</code></li><li><code>sudo nano /etc/vsftpd.conf</code> 赋予上传权限 “write_enable=YES”</li><li><code>sudo /etc/init.d/vsftpd restart</code></li></ul><h2 id="FTP-开放-root-连接"><a href="#FTP-开放-root-连接" class="headerlink" title="FTP 开放 root 连接"></a>FTP 开放 root 连接</h2><ul><li><code>nano /etc/ftpusers</code> 注释 root 即可</li></ul><p>👉 <a href="https://blog.csdn.net/madrabbit1987/article/details/53750272" target="_blank" rel="noopener">FTP连接树莓派（Linux）进行文件传输</a></p><h2 id="树莓派磁盘没有占满整个-SD-卡"><a href="#树莓派磁盘没有占满整个-SD-卡" class="headerlink" title="树莓派磁盘没有占满整个 SD 卡"></a>树莓派磁盘没有占满整个 SD 卡</h2><ul><li><code>df -h</code></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-24_14-44-40.png" alt></li><li><code>sudo fdisk -l</code></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-24_14-45-17.png" alt></li><li>看到了 SD 卡的磁盘空间</li><li><code>sudo fdisk /dev/mmcblk0</code></li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-24_14-56-29.png" alt></li><li><code>sudo reboot</code></li><li><code>sudo resize2fs /dev/mmcblk0p2</code> 更新硬盘大小</li><li><code>df -h</code></li><li>上面操作不行的话就切换到管理员用户 <code>sudo su</code>,再试一次</li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-24_15-36-11.png" alt></li></ul><p>👉 <a href="https://blog.csdn.net/ourkix/article/details/109445090" target="_blank" rel="noopener">解决树莓派磁盘没有占满整个sd卡的方法</a><br>👉 <a href="https://blog.csdn.net/ls0111/article/details/85607792?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control" target="_blank" rel="noopener">充分使用树莓派SD卡容量</a></p><h2 id="修正时间"><a href="#修正时间" class="headerlink" title="修正时间"></a>修正时间</h2><ul><li><code>date</code></li><li><code>sudo dpkg-reconfigure tzdata</code> 选择时区</li><li><code>sudo date  --s=&quot;2019-11-27 14:54:00&quot;</code> 强制手动修正</li></ul><h2 id="离线安装-Redis"><a href="#离线安装-Redis" class="headerlink" title="离线安装 Redis"></a>离线安装 Redis</h2><ul><li>下载 arm 架构的安装包</li><li>ftp 到树莓派里</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar xzf 4.0-rc2.tar.gz</span><br><span class="line">cd redis-4.0-rc2</span><br><span class="line">make</span><br><span class="line">make install </span><br><span class="line">redis-server</span><br></pre></td></tr></table></figure></div></li></ul><p>👉 <a href="https://www.lxx1.com/2532" target="_blank" rel="noopener">Redis编译安装及卸载方法</a></p><h2 id="设置-Redis-远程连接"><a href="#设置-Redis-远程连接" class="headerlink" title="设置 Redis 远程连接"></a>设置 Redis 远程连接</h2><ul><li>我这里是修改了 Redis 压缩包解压后的文件里面的 redis.conf</li><li>进入解压后的 Redis 文件目录下 读取该目录下的配置启动 Redis</li><li><code>redis-server redis.conf</code> redis 启动后,到本地测试连接</li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-25_15-06-33.png" alt></li><li>再用可视化客户端测试一下</li><li><img src="/images/IgotaRaspberryPi/Snipaste_2020-12-25_15-28-39.png" alt><br>👉 <a href="https://www.cnblogs.com/liuxiutianxia/p/11057120.html" target="_blank" rel="noopener">redis设置远程连接</a></li></ul><h2 id="Linux-切换用户"><a href="#Linux-切换用户" class="headerlink" title="Linux 切换用户"></a>Linux 切换用户</h2><ul><li><code>sudo su</code> 切换成 root</li><li><code>su [username]</code> 切换成其他用户,如:<code>sudo pi</code></li><li>👉 <a href="https://blog.csdn.net/farYang/article/details/50779767" target="_blank" rel="noopener">初次使用树莓派并启用root管理员</a></li><li><code>sudo passwd root</code> 设置 root 用户密码</li><li><code>sudo passwd --unlock root</code> 解锁 root 用户</li></ul><h2 id="不同网段问题"><a href="#不同网段问题" class="headerlink" title="不同网段问题"></a>不同网段问题</h2><ul><li>当前内网的网段为 172 </li><li>而新接入的交换机和树莓派的网段为 192 </li><li>需要在网络连接的以太网 ipv4 里设置 192 网段 , 如 192.168.137.1 来访问树莓派</li><li>切换回内网需要切换为 172 网段 或者 设置自动获取ip</li></ul><h2 id="离线安装-pip-包"><a href="#离线安装-pip-包" class="headerlink" title="离线安装 pip 包"></a>离线安装 pip 包</h2><ul><li><code>pip3 freeze &gt;requirements.txt</code> 在已安装好包的设备上导出依赖列表</li><li><code>pip3 download -r requirements.txt -d -d E:\a\</code>  下载到对应目录</li><li>用 FTP 把包传到离线的设备上</li><li><code>pip3 install ./*</code> 进入包目录安装全部或者选择安装</li></ul><h2 id="查看-apt-get-已安装的程序"><a href="#查看-apt-get-已安装的程序" class="headerlink" title="查看 apt-get 已安装的程序"></a>查看 apt-get 已安装的程序</h2><ul><li><code>dpkg --get-selections | grep nginx</code></li><li><code>dpkg -i | grep &#39;^ii&#39;</code></li><li><code>sudo apt-get install aptitude</code> 或者使用这个工具</li><li><code>sudo aptitude</code></li></ul><h2 id="Nginx-无法正常工作相关"><a href="#Nginx-无法正常工作相关" class="headerlink" title="Nginx 无法正常工作相关"></a>Nginx 无法正常工作相关</h2><ul><li>树莓派上 apt-get 安装的 nginx 的默认配置文件内容很少，从其他设备安装 nginx 然后把配置文件复制过来</li><li>主要配置就是把通过默认nginx 80 端口的请求转发到自己定义的 upstream 里</li><li><p>添加多个服务，配置权重就可以实现负载均衡，就是请求一个地址，按照权重轮询服务</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="NGINX"><figure class="iseeu highlight /nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> hgo &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">server</span> <span class="number">127.0.0.1:5000</span> weight=<span class="number">10</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">127.0.0.1:2021</span> weight=<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>       <span class="number">80</span> default_server;</span><br><span class="line">    <span class="attribute">listen</span>       [::]:<span class="number">80</span> default_server;</span><br><span class="line">    <span class="attribute">server_name</span>  _;</span><br><span class="line">    <span class="attribute">root</span>         /usr/share/nginx/html;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Load configuration files for the default server block.</span></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/default.d/<span class="regexp">*.conf</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://hgo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">error_page</span> <span class="number">404</span> /<span class="number">404</span>.html;</span><br><span class="line">    <span class="attribute">location</span> = /<span class="number">404</span>.html &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">error_page</span> <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> /50x.html;</span><br><span class="line">    <span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div></li><li><p><img src="/images/IgotaRaspberryPi/Snipaste_2021-01-06_20-58-26.png" alt></p></li><li><p><code>nginx</code> 启动</p></li><li><code>nginx -s reopen</code>重启</li><li><code>nginx -s reload</code> 热加载</li><li><code>nginx -t</code> 检查配置文件是否合法</li><li><code>nano /etc/nginx/nginx.conf</code> 我的树莓派 nginx 配置文件地址</li><li><code>nano /etc/nginx/sites-available/default</code> 这里也有个配置文件</li><li><p>👉 <a href="https://www.jianshu.com/p/439cd2a7c84e" target="_blank" rel="noopener">linux彻底删除nginx</a></p></li><li><p>Nginx启动报错[emerg] getpwnam(“nginx”) failed</p><ul><li><code>groupadd nginx</code> </li><li><code>useradd -g nginx nginx -s /sbin/nologin</code></li></ul></li></ul><h2 id="谷歌-chromium-版本更换"><a href="#谷歌-chromium-版本更换" class="headerlink" title="谷歌 chromium 版本更换"></a>谷歌 chromium 版本更换</h2><ul><li>为了使 chromedriver 和 chromium 版本一致</li><li><code>sudo apt-get install chromium-browser</code> 更新最新</li><li><code>chromium-browser --version</code></li><li>👉 <a href="https://mirrors.tuna.tsinghua.edu.cn/raspberrypi/pool/main/c/chromium-browser/" target="_blank" rel="noopener">mirrors.tuna.tsinghua.edu.cn</a></li><li><code>sudo apt-get install chromium-chromedriver</code></li><li><p>👉 <a href="https://launchpad.net/+search?field.text=chromium-chromedriver+armhf" target="_blank" rel="noopener">Launchpad.net</a></p></li><li><p>最终要使两者版本一致</p></li></ul><h2 id="设置静态ip"><a href="#设置静态ip" class="headerlink" title="设置静态ip"></a>设置静态ip</h2><ul><li><code>route -n</code> 找到网关</li><li><code>cat /etc/resolv.conf</code> 找到 DNS</li><li><p><code>sudo nano /etc/dhcpcd.conf</code> 在末尾写入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">interface eth0</span><br><span class="line">inform 192.168.137.200/24</span><br><span class="line">static routers=192.168.137.1</span><br><span class="line">static domain_name_servers=192.168.137.1</span><br><span class="line">noipv6</span><br></pre></td></tr></table></figure></div></li><li><p>还可以点击桌面右上角的网络连接进去设置</p></li></ul><h2 id="设置-wifi-连接"><a href="#设置-wifi-连接" class="headerlink" title="设置 wifi 连接"></a>设置 wifi 连接</h2><ul><li>Pi 4B - ‘No wireless interfaces found’</li><li>找不到 wifi 图标</li><li><code>sudo apt-get install wicd</code></li><li><code>sudo reboot</code></li><li>进入桌面设置 wifi 连接</li><li><img src="/images/IgotaRaspberryPi/Snipaste_2021-01-19_22-13-01.png" alt></li><li>👉 <a href="https://raspberrypi.stackexchange.com/questions/46622/raspberry-pi-3-wifi-stopped-working-how-to-debug-and-fix-without-restarting" target="_blank" rel="noopener">Raspberry Pi 3 - WiFi Stopped Working - How to debug and fix without restarting</a></li></ul><h2 id="Docker-安装-mongodb"><a href="#Docker-安装-mongodb" class="headerlink" title="Docker 安装 mongodb"></a>Docker 安装 mongodb</h2><ul><li><code>docker search rpi-mongodb3</code></li><li><code>docker pull andresvidal/rpi3-mongodb3</code></li><li><code>mkdir ~/db/mongo</code> 创建数据目录</li><li><code>docker run -d --name rpi-mongodb3 -v /home/pi/db/mongo:/data.db -p 27017:27017 andresvidal/rpi3-mongodb3 mongod</code></li><li>默认无账户密码</li></ul><h2 id="apt-get-Sub-process-usr-bin-dpkg-returned-an-error-code-1"><a href="#apt-get-Sub-process-usr-bin-dpkg-returned-an-error-code-1" class="headerlink" title="apt-get Sub-process /usr/bin/dpkg returned an error code (1)"></a>apt-get Sub-process /usr/bin/dpkg returned an error code (1)</h2><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd /var/lib/dpkg/</span><br><span class="line">sudo mv info/ info_bak          # 现将info文件夹更名</span><br><span class="line">sudo mkdir info                 # 再新建一个新的info文件夹</span><br><span class="line">sudo apt-get update             # 更新</span><br><span class="line">sudo apt-get -f install         # 修复</span><br><span class="line">sudo mv info/* info_bak/        # 执行完上一步操作后会在新的info文件夹下生成一些文件，现将这些文件全部移到info_bak文件夹下</span><br><span class="line">sudo rm -rf info                # 把自己新建的info文件夹删掉</span><br><span class="line">sudo mv info_bak info           # 把以前的info文件夹重新改回名</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="docker-Cannot-connect-to-the-Docker-daemon-at-unix-var-run-docker-sock-Is-the-docker-daemon-running"><a href="#docker-Cannot-connect-to-the-Docker-daemon-at-unix-var-run-docker-sock-Is-the-docker-daemon-running" class="headerlink" title="docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?."></a>docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.</h2><ul><li><code>sudo gpasswd -a $USER docker</code></li><li><code>reboot</code></li><li>docker默认只允许root用户连接,添加当前用户即可</li></ul><h2 id="重装-raspberry-系统"><a href="#重装-raspberry-系统" class="headerlink" title="重装 raspberry 系统"></a>重装 raspberry 系统</h2><ul><li>👉 <a href="https://www.raspberrypi.org/software/" target="_blank" rel="noopener">写入系统工具</a></li><li>👉 <a href="https://www.raspberrypi.org/software/operating-systems/#raspberry-pi-os-32-bit" target="_blank" rel="noopener">系统</a></li></ul><h2 id="换下载源"><a href="#换下载源" class="headerlink" title="换下载源"></a>换下载源</h2><ul><li>👉 <a href="https://mirror.tuna.tsinghua.edu.cn/help/raspbian/" target="_blank" rel="noopener">根据架构和版本更换源</a></li><li><code>cat /etc/debian_version</code> 对应 Debian版本编号</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Debian 10(buster)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 编辑 `/etc/apt/sources.list` 文件，删除原文件所有内容，用以下内容取代：</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 编辑 `/etc/apt/sources.list.d/raspi.list` 文件，删除原文件所有内容，用以下内容取代：</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="SSH-认证更新"><a href="#SSH-认证更新" class="headerlink" title="SSH 认证更新"></a>SSH 认证更新</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @</span><br><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!</span><br><span class="line">Someone could be eavesdropping on you right now (man-in-the-middle attack)!</span><br><span class="line">It is also possible that a host key has just been changed.</span><br><span class="line">The fingerprint for the ECDSA key sent by the remote host is</span><br><span class="line">SHA256:wFyPv88OeUwo1eUnjPQTUB1PR/O/XLlJMip3BVX5mPU.</span><br><span class="line">Please contact your system administrator.</span><br><span class="line">Add correct host key in C:\\Users\\OrekiYuta/.ssh/known_hosts to get rid of this message.</span><br><span class="line">Offending ECDSA key in C:\\Users\\OrekiYuta/.ssh/known_hosts:14</span><br><span class="line">ECDSA host key for 192.168.1.201 has changed and you have requested strict checking.</span><br><span class="line">Host key verification failed.</span><br></pre></td></tr></table></figure></div><ul><li>到对应目录下把当前 SSH 要访问的地址信息删除，重新连接即可</li></ul><h2 id="修改-host"><a href="#修改-host" class="headerlink" title="修改 host"></a>修改 host</h2><ul><li><code>sudo nano /etc/hosts</code></li><li>查看域名对应 IP 👉 <a href="https://www.ipaddress.com/" target="_blank" rel="noopener">ipaddress</a><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">199.232.68.133 raw.githubusercontent.com</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="Java-JDK"><a href="#Java-JDK" class="headerlink" title="Java JDK"></a>Java JDK</h2><ul><li>👉<a href="https://raspberrypi.club/288.html" target="_blank" rel="noopener">如何在 Raspberry Pi 上安装 Java</a></li></ul><hr><h2 id="Portainer"><a href="#Portainer" class="headerlink" title="Portainer"></a>Portainer</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -sSL https://get.docker.com | sh</span><br><span class="line">or </span><br><span class="line">sudo curl -sSL https://get.daocloud.io/docker | sh</span><br><span class="line"></span><br><span class="line">sudo docker pull portainer/portainer</span><br><span class="line">sudo docker volume create portainer_data</span><br><span class="line">sudo docker run -d -p 9000:9000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer</span><br></pre></td></tr></table></figure></div><ul><li>浏览器输入 ip:9000</li><li>👉 <a href="https://shumeipai.nxez.com/2019/05/20/how-to-install-docker-on-your-raspberry-pi.html" target="_blank" rel="noopener">树莓派上 Docker 的安装和使用</a></li></ul><h2 id="Pi-dashboard-树莓派监控页面"><a href="#Pi-dashboard-树莓派监控页面" class="headerlink" title="Pi dashboard 树莓派监控页面"></a>Pi dashboard 树莓派监控页面</h2><ul><li><code>sudo apt update</code></li><li><code>sudo apt install docker</code></li><li><code>sudo docker run -d --name docker-pi-dashboard -e &#39;LISTEN=1024&#39; --net=host ecat/docker-pi-dashboard</code></li><li>浏览器输入 ip:1024</li><li>👉 <a href="https://blog.nocode.site/2018/03/25/docker-pi-dashboard.html" target="_blank" rel="noopener">一行命令部署pi dashboard</a></li></ul><h2 id="Netdata"><a href="#Netdata" class="headerlink" title="Netdata"></a>Netdata</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d --name=netdata \</span><br><span class="line">  -p 19999:19999 \</span><br><span class="line">  -v /proc:/host/proc:ro \</span><br><span class="line">  -v /sys:/host/sys:ro \</span><br><span class="line">  -v /var/run/docker.sock:/var/run/docker.sock:ro \</span><br><span class="line">  --cap-add SYS_PTRACE \</span><br><span class="line">  --security-opt apparmor=unconfined \</span><br><span class="line">  netdata/netdata</span><br></pre></td></tr></table></figure></div><h2 id="Docker-ARM-MySQL"><a href="#Docker-ARM-MySQL" class="headerlink" title="Docker ARM MySQL"></a>Docker ARM MySQL</h2><ul><li><code>docker pull hypriot/rpi-mysql</code></li><li><code>docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=1234 -d -p 12345:3306 hypriot/rpi-mysql</code></li><li>root,1234 登录</li></ul><h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><ul><li><code>sudo apt-get install redis-server</code></li><li><code>sudo vim /etc/redis/redis.conf</code> <ul><li>注释掉 <code>bind 127.0.0.1 ::1</code> </li><li>设置 protected-mode=no 即可远程连接</li></ul></li><li>找到 <code>requirepass</code> 设置密码, 如 <code>requirepass elias</code></li><li><code>/etc/init.d/redis-server restart</code> 重启 redis</li><li><code>redis-cli</code> 进入 redis</li><li><code>auth elias</code> 验证密码</li><li><code>keys *</code> 成功进入</li><li>👉 <a href="https://zhuanlan.zhihu.com/p/83983237" target="_blank" rel="noopener">树莓派安装redis</a></li><li>👉 <a href="https://github.com/qishibo/AnotherRedisDesktopManager/releases/tag/v1.4.5" target="_blank" rel="noopener">Another Redis Desktop Manager</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> RaspberryPi </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript get/set</title>
      <link href="/archives/JSgetter-setter/"/>
      <url>/archives/JSgetter-setter/</url>
      
        <content type="html"><![CDATA[<h2 id="用原生-JavaScript-实现数据-单向绑定"><a href="#用原生-JavaScript-实现数据-单向绑定" class="headerlink" title="用原生 JavaScript 实现数据-单向绑定"></a>用原生 JavaScript 实现数据-单向绑定</h2><ul><li>首先得知道,在 JavaScript 中为一个对象赋值会触发对象的 set 属性方法,而获取对象则会触发 get 属性方法</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span>  <span class="attr">id</span>=<span class="string">"inputurl"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span>  <span class="attr">id</span>=<span class="string">"inputpost"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span>  <span class="attr">id</span>=<span class="string">"inputparam"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span> =<span class="string">"texturi"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li>实现单向绑定只需要设置 get 属性方法即可</li><li>通过监听元素的 keyup 动作,然后执行方法,在方法中获取对象即可触发 get 属性方法</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = &#123;</span><br><span class="line">    <span class="keyword">get</span> inputValue() &#123; </span><br><span class="line">        xurl = <span class="built_in">document</span>.getElementById(<span class="string">'inputurl'</span>).value;</span><br><span class="line">        <span class="keyword">return</span> xurl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> post = &#123;</span><br><span class="line">    <span class="keyword">get</span> inputValue() &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(<span class="string">'inputpost'</span>).value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> param = &#123;</span><br><span class="line">    <span class="keyword">get</span> inputValue() &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(<span class="string">'inputparam'</span>).value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'inputurl'</span>).addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    uri = url.inputValue + post.inputValue + param.inputValue</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = uri</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'inputpost'</span>).addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    uri = url.inputValue + post.inputValue + param.inputValue</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = uri</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'inputparam'</span>).addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    uri = url.inputValue + post.inputValue + param.inputValue</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = uri</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div><a id="more"></a><ul><li><img src="/images/JSgetter-setter/1.png" alt></li><li><img src="/images/JSgetter-setter/2.png" alt></li><li><img src="/images/JSgetter-setter/3.png" alt></li></ul><h2 id="实现数据-双向绑定-“-三绑一！？-”"><a href="#实现数据-双向绑定-“-三绑一！？-”" class="headerlink" title="实现数据-双向绑定 / “ 三绑一！？ ”"></a>实现数据-双向绑定 / “ 三绑一！？ ”</h2><ul><li>实现双向绑定就再设置 set 属性方法即可</li></ul><h3 id="DOM-操作"><a href="#DOM-操作" class="headerlink" title="DOM 操作"></a>DOM 操作</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = &#123;</span><br><span class="line">    <span class="keyword">get</span> inputValue() &#123; </span><br><span class="line">        xurl = <span class="built_in">document</span>.getElementById(<span class="string">'inputurl'</span>).value;</span><br><span class="line">        <span class="keyword">return</span> xurl;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> inputValue(newVal)&#123;     </span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'inputurl'</span>).value = newVal;</span><br><span class="line">        xpost = <span class="built_in">document</span>.getElementById(<span class="string">'inputpost'</span>).value</span><br><span class="line">        xparam = <span class="built_in">document</span>.getElementById(<span class="string">'inputparam'</span>).value</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = newVal + xpost + xparam;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> post = &#123;</span><br><span class="line">    <span class="keyword">get</span> inputValue() &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(<span class="string">'inputpost'</span>).value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> inputValue(newVal)&#123;     </span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'inputpost'</span>).value = newVal;</span><br><span class="line">        xurl = <span class="built_in">document</span>.getElementById(<span class="string">'inputurl'</span>).value</span><br><span class="line">        xparam = <span class="built_in">document</span>.getElementById(<span class="string">'inputparam'</span>).value</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = xurl + newVal + xparam;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> param = &#123;</span><br><span class="line">    <span class="keyword">get</span> inputValue() &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(<span class="string">'inputparam'</span>).value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> inputValue(newVal)&#123;     </span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'inputparam'</span>).value = newVal;</span><br><span class="line">        xurl = <span class="built_in">document</span>.getElementById(<span class="string">'inputurl'</span>).value</span><br><span class="line">        xpost = <span class="built_in">document</span>.getElementById(<span class="string">'inputpost'</span>).value</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = xurl + xpost + newVal;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'inputurl'</span>).addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    uri = url.inputValue + post.inputValue + param.inputValue</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = uri</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'inputpost'</span>).addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    uri = url.inputValue + post.inputValue + param.inputValue</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = uri</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'inputparam'</span>).addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    uri = url.inputValue + post.inputValue + param.inputValue</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'texturi'</span>).innerHTML = uri</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div><ul><li><p>双向绑定在这里指的是 input 输入框内的值改变, p 标签的值同时也在变,并且 p 标签的值更改, input 输入框内的值也会更改</p></li><li><p>在这里直接在 console 操作 DOM 的话,并不会触发 input 的监听方法,所以数据没有同步</p></li><li><img src="/images/JSgetter-setter/4.png" alt></li><li>我们可以直接调用对象的 set 属性方法,让数据同步 </li><li><p><img src="/images/JSgetter-setter/5.png" alt></p></li><li><p>在这里值得注意的是 url 对象的名称和它 get 方法里的变量名 xurl 最好不要同名</p></li><li><img src="/images/JSgetter-setter/6.png" alt></li><li>因为从 input 输入值后,执行 url 对象的 get 方法,然后里面的变量就被初始化出来了</li><li>如果 get 方法里面的变量名和对象名一样的话,就会定位不到变量 undefined</li></ul><ul><li><p>同名的话就会出现以下问题:</p><ul><li><img src="/images/JSgetter-setter/7.png" alt></li><li>上图是未在 input 输入之前先在 console 获取了 url , 是一个对象 ,正常</li><li><img src="/images/JSgetter-setter/8.png" alt></li><li><p>然后 input 输入内容后, 再次获取 url 就是一个 undefined </p><ul><li>在此我目前猜测可能是:</li><li>(1)触发 set 属性方法后, url 对象实例化之后 变量 url 也初始化成功了,因为同时存在两个 url 名称,一个为 url 对象,一个为 url 变量,所以 DOM 操作无法分辨出应该赋值给哪个 url ,造成异常抛出,结果 url 就为初始值 undefined</li></ul></li><li><p><img src="/images/JSgetter-setter/9.png" alt></p></li><li>紧接着,上图是先在 input 输入内容后 ,再获取的 url <ul><li>结合这两张图的操作,再次猜测:</li><li>这两图的区别在于是否先在 console 里获取了 url 对象 , 可能获取 url 对象的过程是一个实例化的过程</li><li>(1)的猜想就改变了,可能在触发 set 前已经实例化了一个 url 对象,后面触发的时候 url 对象由于已有同名对象,后者 url 对象就被未实例化,因此里面的 url 就没初始化成功</li><li>(2) 上图的 url 获取到了输入内容的首个字符,多次测试后,发现获取字符也是不确定的,这里猜测在这里实例化了 url 对象,之后 url 变量把 url 对象给覆盖了</li><li>这里可能要对浏览器执行过程,加载 DOM 和操作系统有更深的理解才能有结果</li></ul></li></ul></li></ul><h3 id="对象调用"><a href="#对象调用" class="headerlink" title="对象调用"></a>对象调用</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> inputurl = <span class="built_in">document</span>.getElementById(<span class="string">"inputurl"</span>);</span><br><span class="line"><span class="keyword">var</span> inputpost = <span class="built_in">document</span>.getElementById(<span class="string">"inputpost"</span>);</span><br><span class="line"><span class="keyword">var</span> inputparam = <span class="built_in">document</span>.getElementById(<span class="string">"inputparam"</span>);</span><br><span class="line"><span class="keyword">var</span> texturi = <span class="built_in">document</span>.getElementById(<span class="string">"texturi"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj, &#123;</span><br><span class="line"></span><br><span class="line">    <span class="string">"inputurl"</span>:&#123;</span><br><span class="line">        <span class="keyword">get</span>:function(newVal)&#123;</span><br><span class="line">            inputurl.value = newVal;</span><br><span class="line">            texturi.innerHTML = newVal;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">set</span>:function(newVal)&#123;</span><br><span class="line"></span><br><span class="line">            inputurl.value = newVal.url;</span><br><span class="line">            texturi.innerHTML = newVal.uri;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"inputpost"</span>:&#123;</span><br><span class="line">        <span class="keyword">get</span>:function(newVal)&#123;</span><br><span class="line">            inputpost.value = newVal;</span><br><span class="line">            texturi.innerHTML = newVal;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">set</span>:function(newVal)&#123;</span><br><span class="line"></span><br><span class="line">            inputpost.value = newVal.post;</span><br><span class="line">            texturi.innerHTML = newVal.uri;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"inputparam"</span>:&#123;</span><br><span class="line">        <span class="keyword">get</span>:function(newVal)&#123;</span><br><span class="line">            inputparam.value = newVal;</span><br><span class="line">            texturi.innerHTML = newVal;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">set</span>:function(newVal)&#123;</span><br><span class="line">            inputparam.value = newVal.param;</span><br><span class="line">            texturi.innerHTML = newVal.uri;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">inputurl.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    inputuri = e.target.value + inputpost.value + inputparam.value;</span><br><span class="line">    obj.inputurl = &#123;<span class="attr">uri</span>:inputuri , <span class="attr">url</span>:e.target.value&#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">inputpost.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    inputuri = inputurl.value + e.target.value + inputparam.value;</span><br><span class="line">    obj.inputpost = &#123;<span class="attr">uri</span>:inputuri , <span class="attr">post</span>:e.target.value&#125;</span><br><span class="line">&#125;);</span><br><span class="line">inputparam.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    inputuri = inputurl.value + inputpost.value + e.target.value;</span><br><span class="line">    obj.inputparam = &#123;<span class="attr">uri</span>:inputuri , <span class="attr">param</span>:e.target.value&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><ul><li>在这里的话,问题就在于 set 属性方法只能传递一个值,因此可以通过传对象去传多个值</li><li><img src="/images/JSgetter-setter/10.png" alt></li></ul><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul><li><a href="https://segmentfault.com/a/1190000003882976" target="_blank" rel="noopener">浅谈 JS 对象添加 getter与 setter 的5种方法以及如何让对象属性不可配置或枚举</a></li><li><a href="https://www.imooc.com/qadetail/125923" target="_blank" rel="noopener">set方法只能接受一个参数吗？</a></li><li><a href="https://www.codenong.com/5815757/" target="_blank" rel="noopener">关于javascript：为什么这个函数用括号括起来，后面跟着括号？</a></li><li><a href="https://www.codenong.com/8228281/" target="_blank" rel="noopener">关于iife：javascript中的 (function() { } )() 构造是什么？</a></li><li><a href="https://stackoverflow.com/questions/39718122/javascript-addeventlistener-input-versus-keyup" target="_blank" rel="noopener">JavaScript addEventListener : ‘input’ versus ‘keyup’ [duplicate]</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java:Thread.Start() / run()</title>
      <link href="/archives/javastartrun/"/>
      <url>/archives/javastartrun/</url>
      
        <content type="html"><![CDATA[<h2 id="线程的启动顺序"><a href="#线程的启动顺序" class="headerlink" title="线程的启动顺序"></a>线程的启动顺序</h2><ul><li><img src="/images/JavaStartRun/1.png" alt></li><li>testThread 线程实例创建之后,调用 start(),表明这个线程处于就绪状态,等待得到 CPU 的时间片之后才会执行</li><li>因为 main 方法也是一个线程,所以 testThread 会等待 main() 执行完毕</li><li>main() 执行完毕后，testThread 线程得到 CPU 的时间片,开始执行<a id="more"></a></li><li><img src="/images/JavaStartRun/2.png" alt></li><li>当 testThread 启动时，它的状态 threadStatus 被设置为 0 ,然后加入线程组 group</li><li><img src="/images/JavaStartRun/3.png" alt></li><li>最后调用 start0()，而 start0() 是私有的 native 方法（Native Method 是一个 java 调用非 java 代码的接口）</li><li>调用完毕后，testThread 线程就处于就绪状态,获得 CPU 时间之后就会调用 thread 的 run()</li><li><img src="/images/JavaStartRun/5.png" alt></li><li><img src="/images/JavaStartRun/4.png" alt></li><li><img src="/images/JavaStartRun/6.png" alt></li></ul><h3 id="run"><a href="#run" class="headerlink" title="run()"></a>run()</h3><ul><li><img src="/images/JavaStartRun/7.png" alt></li><li>thread.run() 会等待 thread 里面的 run() 执行完毕后才会执行;直接调用 run() 这样的用法就和调用普通方法一样,其实并没有创建新的线程</li><li><img src="/images/JavaStartRun/8.png" alt></li><li>thread.start() 就会创建新的线程,然后处于就绪状态;让主线程先执行完毕,再轮到自己</li></ul><h3 id="run-的好处"><a href="#run-的好处" class="headerlink" title="run() 的好处"></a>run() 的好处</h3><ul><li>实现了 Runnable 接口的方法 run() ,之后就可以让多个线程调用 run() 共享同一个资源</li><li>实现 Runnable 接口相对于继承 Thread 类来说,可以避免 Java 单继承的局限性</li><li>start()被多次调用也还是一个线程</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS margin:auto;How it Works</title>
      <link href="/archives/css-margin-auto/"/>
      <url>/archives/css-margin-auto/</url>
      
        <content type="html"><![CDATA[<h2 id="Auto"><a href="#Auto" class="headerlink" title="Auto"></a>Auto</h2><ul><li>margin:auto 通常用作元素水平居中</li><li>首先得知道，在定义中 auto 可以随着元素、元素类型和上下文而变化<ul><li>在 margins 中，auto 可以占用可用空间或者占用 0 px</li></ul></li></ul><h2 id="margin-水平空间"><a href="#margin-水平空间" class="headerlink" title="margin 水平空间"></a>margin 水平空间</h2><ul><li>对于 margins , auto 作为 left 和 right 的值的时候，它们会在水平上均分可用空间，因此它们使得元素在中心</li><li><p>但是它们也仅仅适用于水平 margins , 并不能和带有 float、inline 的元素共用；也不适用在 absolute 和 fixed position 的元素中</p></li><li><p>当只给 margin 其中一边设置为 auto 时，该元素会向另一边倾向</p><ul><li>当 margin-left:auto 时，元素的左边会空出一定的空间，而右边空间被元素占完<a id="more"></a></li></ul></li><li><p>正如前面所说， auto 无法使用在 floated ,inline 和 absolute的元素中，因为它们的布局已经被决定了，所以无法用 margin:auto 使元素居中</p><ul><li>如果设置 margin:auto 的话，结果就为 margin:0px</li></ul></li><li><p>auto 对于没有宽度的 block 元素也不起作用</p></li></ul><h2 id="margin-垂直空间"><a href="#margin-垂直空间" class="headerlink" title="margin 垂直空间"></a>margin 垂直空间</h2><ul><li>auto 在 margin 的 top 和 bottom 上始终计算为 0px (除了 absolute 元素)</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">W3C spec says it like this:</span><br><span class="line"></span><br><span class="line">“If “margin-top” or “margin-bottom” is “auto”, their used value is 0″</span><br></pre></td></tr></table></figure></div><ul><li><p>👉<a href="https://www.w3.org/TR/CSS21/visudet.html#Computing_heights_and_margins" target="_blank" rel="noopener">10 Visual formatting model details</a></p></li><li><p>也可能是垂直页面流的原因，使得元素在页面垂直方向上不居中，因为页面大小会随着高度方向增加</p></li><li>但是 absolute 元素可以使得该元素沿着整个页面的高度垂直居中</li></ul><h2 id="绝对元素居中定位"><a href="#绝对元素居中定位" class="headerlink" title="绝对元素居中定位"></a>绝对元素居中定位</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">This is where another W3C spec comes in:</span><br><span class="line"></span><br><span class="line">&quot;If all three of “left”, “width”, and “right” are “auto”: First set any “auto” values for “margin-left” and “margin-right” to 0… &quot;</span><br><span class="line"></span><br><span class="line">&quot;If none of the three is “auto”: If both “margin-left” and “margin-right” are “auto”, solve the equation under the extra constraint that the two margins get equal values&quot;</span><br></pre></td></tr></table></figure></div><ul><li>说明水平 auto margins 要占用一样的空间，它们的left,width和right都不应该是 auto</li><li>因此我们要在一个绝对定位的元素中给它们一些值，使得水平居中</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The spec also mentions something similar for vertical margins.</span><br><span class="line"></span><br><span class="line">“If all three of “top”, “height”, and “bottom” are auto, set “top” to the static position…”</span><br><span class="line"></span><br><span class="line">“If none of the three are “auto”: If both “margin-top” and “margin-bottom” are “auto”, solve the equation under the extra constraint that the two margins get equal values…”</span><br></pre></td></tr></table></figure></div><ul><li>要使得绝对元素垂直居中，它的 top,height,bottom的值都不能为 auto</li></ul><h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><ul><li>如果想要某个元素向左或者向右靠，可以设置另一边的 margin:auto</li><li><p>可以将某个元素转为绝对定位使其垂直居中，但是这不是个好方法</p><ul><li>用 flexbox 和 CSS transform 可能更适合</li></ul></li><li><p>👉<a href="https://www.hongkiat.com/blog/css-margin-auto/" target="_blank" rel="noopener">https://www.hongkiat.com/blog/css-margin-auto/</a></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Notes</title>
      <link href="/archives/JavaNotes/"/>
      <url>/archives/JavaNotes/</url>
      
        <content type="html"><![CDATA[<h3 id="数组内存分配和引用"><a href="#数组内存分配和引用" class="headerlink" title="数组内存分配和引用"></a>数组内存分配和引用</h3><ul><li><img src="/images/JavaNotes/1.png" alt><a id="more"></a></li><li><img src="/images/JavaNotes/2.png" alt></li><li><img src="/images/JavaNotes/3.png" alt></li><li><img src="/images/JavaNotes/4.png" alt></li><li><img src="/images/JavaNotes/5.png" alt></li><li><img src="/images/JavaNotes/6.png" alt></li><li><img src="/images/JavaNotes/7.png" alt></li><li><img src="/images/JavaNotes/8.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows Setting</title>
      <link href="/archives/WindowsSetting/"/>
      <url>/archives/WindowsSetting/</url>
      
        <content type="html"><![CDATA[<h3 id="Win10-LTSB-Add-MicrosoftStore"><a href="#Win10-LTSB-Add-MicrosoftStore" class="headerlink" title="Win10 LTSB Add MicrosoftStore"></a>Win10 LTSB Add MicrosoftStore</h3><ul><li>To : <a href="https://github.com/kkkgo/LTSB-Add-MicrosoftStore" target="_blank" rel="noopener">LTSB-Add-MicrosoftStore</a></li><li>Run: Add-Store.cmd<a id="more"></a><img src="/images/Windows/Win10LTSBAddMicrosoftStore/Snipaste_2020-11-14_16-53-39.png" alt></li></ul><h3 id="Windows-show-Windows-File"><a href="#Windows-show-Windows-File" class="headerlink" title="Windows show Windows/File"></a>Windows show Windows/File</h3><ul><li><code>explorer .</code></li><li><code>explorer ..</code></li><li><code>explorer [dirName]</code></li><li><code>start .</code><br><img src="/images/Windows/Explorer/Snipaste_2020-11-14_17-06-31.png" alt></li></ul><h3 id="Desktop-Context-Menu"><a href="#Desktop-Context-Menu" class="headerlink" title="Desktop Context Menu"></a>Desktop Context Menu</h3><ul><li><code>计算机\HKEY_CLASSES_ROOT\Directory\Background\shell</code></li><li><img src="/images/Windows/DesktopContextMenu/Snipaste_2020-11-24_22-36-36.png" alt></li><li><img src="/images/Windows/DesktopContextMenu/Snipaste_2020-11-24_22-35-15.png" alt></li><li><img src="/images/Windows/DesktopContextMenu/Snipaste_2020-11-24_22-40-14.png" alt></li></ul><h3 id="DOS-Clean"><a href="#DOS-Clean" class="headerlink" title="DOS Clean"></a>DOS Clean</h3><ul><li><code>cls</code></li></ul><h3 id="Netstat-Find-Kill"><a href="#Netstat-Find-Kill" class="headerlink" title="Netstat Find/Kill"></a>Netstat Find/Kill</h3><ul><li><p><code>netstat -ano|findstr 8000</code>  查看占用8000端口的进程</p></li><li><p><code>tasklist | findstr 8608</code> 查看进程的信息</p></li><li><p><code>taskkill /pid 8608 /f</code>  关闭进程</p></li></ul><p><img src="/images/Windows/Netstat/Snipaste_2020-05-23_13-23-00.png" alt></p><h3 id="Install-Chocolatey"><a href="#Install-Chocolatey" class="headerlink" title="Install Chocolatey"></a>Install Chocolatey</h3><ul><li>At PowerShell<ul><li><code>Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))</code></li></ul></li><li><a href="https://chocolatey.org/install" target="_blank" rel="noopener">https://chocolatey.org/install</a></li><li>At CMD<ul><li><code>@powershell Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))</code></li></ul></li></ul><h3 id="Choco"><a href="#Choco" class="headerlink" title="Choco"></a>Choco</h3><ul><li><code>choco list -lo</code> 查看用 chocolatey 安装的软件</li><li><code>choco list -li</code> 查看所有已安装的软件</li><li><code>choco uninstall [name]</code> 卸载软件</li></ul><h3 id="Nslookup"><a href="#Nslookup" class="headerlink" title="Nslookup"></a>Nslookup</h3><ul><li><code>nslookup www.baidu.com</code> 查看域名当前 IP</li></ul><h3 id="Net-user"><a href="#Net-user" class="headerlink" title="Net user"></a>Net user</h3><ul><li><code>net user</code> 查看当前计算机用户名</li></ul><h3 id="Arp-a"><a href="#Arp-a" class="headerlink" title="Arp -a"></a>Arp -a</h3><ul><li><code>arp -a</code> 查看当前局域网内的所有 IP</li></ul><h3 id="Net-share"><a href="#Net-share" class="headerlink" title="Net share"></a>Net share</h3><ul><li><code>net share</code> 查看本机上的共享资源</li><li><code>net share [name]/delete</code> 删除共享资源</li></ul><h3 id="Netsh-wlan"><a href="#Netsh-wlan" class="headerlink" title="Netsh wlan"></a>Netsh wlan</h3><ul><li><code>netsh wlan show profile [wlanName] key=clear</code> 查看已连接 Wi-Fi 的详细信息，包含密码</li></ul><h3 id><a href="#" class="headerlink" title="|"></a>|</h3><ul><li><code>ipconfig | clip</code> 将结果输出到剪贴板</li></ul><h3 id="amp-amp"><a href="#amp-amp" class="headerlink" title="&amp;&amp;"></a>&amp;&amp;</h3><ul><li><code>ipconfig &amp;&amp; arp -a</code> 连接多个命令，只有前面一个执行成功，后面的才执行</li><li>&amp; 一个一个执行</li><li>PowerShell 不支持</li></ul><h3 id="VSCode-Column-edit"><a href="#VSCode-Column-edit" class="headerlink" title="VSCode Column edit"></a>VSCode Column edit</h3><ul><li>Shift + Alt + 左键</li></ul><h3 id="Google-Clean-up-cache"><a href="#Google-Clean-up-cache" class="headerlink" title="Google Clean up cache"></a>Google Clean up cache</h3><ul><li>Shift + ctrl + R</li></ul><h3 id="Comfortable-colors"><a href="#Comfortable-colors" class="headerlink" title="Comfortable colors"></a>Comfortable colors</h3><ul><li>#39ff70</li></ul><h3 id="The-Lost-Worlds"><a href="#The-Lost-Worlds" class="headerlink" title="The Lost Worlds"></a>The Lost Worlds</h3><ul><li><code>telnet towel.blinkenlights.nl</code><br><img src="/images/Windows/Blinkenlights/Snipaste_2020-12-13_02-50-40.png" alt></li></ul><h3 id="Check-WIN-Version"><a href="#Check-WIN-Version" class="headerlink" title="Check WIN Version"></a>Check WIN Version</h3><ul><li><code>winver</code> cmd</li><li>win + R , 输入 winver </li></ul><h3 id="PowerShell-Theme"><a href="#PowerShell-Theme" class="headerlink" title="PowerShell Theme"></a>PowerShell Theme</h3><ul><li><code>Install-Module posh-git -Scope CurrentUser</code></li><li><code>Install-Module oh-my-posh -Scope CurrentUser</code></li><li><code>if (!(Test-Path -Path $PROFILE )) { New-Item -Type File -Path $PROFILE -Force }</code></li><li><code>notepad $PROFILE</code></li><li><p>在打开的文件中写入</p><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Import-Module posh-git </span><br><span class="line">Import-Module oh-my-posh </span><br><span class="line">Set-Theme Paradox</span><br></pre></td></tr></table></figure></div></li><li><p>如果出现 “···无法加载文件 <strong>**</strong>.ps1，因为在此系统中禁止执行脚本···”</p></li><li>就执行 <code>set-ExecutionPolicy RemoteSigned</code></li></ul></li><li><p>修改主题,把下面出现的主题名写入上面的文件中<br><img src="/images/Windows/PowerShellTheme/Snipaste_2020-12-27_00-12-42.png" alt></p></li><li><p>👉<a href="https://zhuanlan.zhihu.com/p/57730843" target="_blank" rel="noopener">5 个 PowerShell 主题，让你的 Windows 终端更好看</a></p></li></ul><h4 id="在-fluent-打开"><a href="#在-fluent-打开" class="headerlink" title="在 fluent 打开"></a>在 fluent 打开</h4><ul><li>如有以下错误<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">···PowerShell_profile.ps1 cannot be loaded because running scripts is disabled on this system···</span><br></pre></td></tr></table></figure></div></li></ul><p>-执行 <code>Set-ExecutionPolicy -Scope &quot;CurrentUser&quot; -ExecutionPolicy &quot;RemoteSigned&quot;</code></p><h3 id="MySQL-install-linking"><a href="#MySQL-install-linking" class="headerlink" title="MySQL install/linking"></a>MySQL install/linking</h3><ul><li>👉 <a href="https://dev.mysql.com/downloads/windows/installer/" target="_blank" rel="noopener">MySQL Community Downloads</a></li><li>👉 <a href="https://www.runoob.com/w3cnote/windows10-mysql-installer.html" target="_blank" rel="noopener">Windows10 MYSQL Installer 安装（mysql-installer-community-5.7.19.0.msi）</a></li><li>👉 <a href="https://blog.csdn.net/seventopalsy/article/details/80195246" target="_blank" rel="noopener">解决Navicat for MySQL 连接 Mysql 8.0.11 出现1251- Client does not support authentication protocol 错误</a></li><li>👉 <a href="https://www.cnblogs.com/linjiqin/p/5270938.html" target="_blank" rel="noopener">配置mysql允许远程连接的方法</a></li></ul><h3 id="Show-wifi-info-histroy"><a href="#Show-wifi-info-histroy" class="headerlink" title="Show wifi info histroy"></a>Show wifi info histroy</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[cc lang=&quot;php&quot;]</span><br><span class="line">for /f &quot;skip=9 tokens=1,2 delims=:&quot; %i in (&apos;netsh wlan show profiles&apos;) do @echo %j | findstr -i -v echo | netsh wlan show profiles %j key=clear</span><br><span class="line">[/cc]</span><br></pre></td></tr></table></figure></div><h3 id="Clean-network-link"><a href="#Clean-network-link" class="headerlink" title="Clean network link"></a>Clean network link</h3><ul><li>删除映射过的网络磁盘连接</li><li>用于清除映射磁盘的账户信息，切换用户登录磁盘</li><li><code>net use * /del /y</code></li></ul><h3 id="Roboot-start"><a href="#Roboot-start" class="headerlink" title="Roboot start"></a>Roboot start</h3><ul><li>win10 添加开机启动项</li><li>win + r <code>shell:startup</code></li><li>往该文件夹里放启动文件即可</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java GenericTypes</title>
      <link href="/archives/JavaGenericTypes/"/>
      <url>/archives/JavaGenericTypes/</url>
      
        <content type="html"><![CDATA[<h2 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h2><p>泛型类,是在实例化类的时候, 指明 泛型的具体类型</p><h3 id="泛型的类型参数不支持基本类型-只能是类对象类型"><a href="#泛型的类型参数不支持基本类型-只能是类对象类型" class="headerlink" title="泛型的类型参数不支持基本类型,只能是类对象类型"></a>泛型的类型参数不支持基本类型,只能是类对象类型</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generic&lt;<span class="keyword">int</span>&gt; genericl = <span class="keyword">new</span> Generic&lt;<span class="keyword">int</span>&gt;(<span class="number">100</span>);          <span class="comment">// ❌</span></span><br><span class="line">Generic&lt;Integer&gt; genericl = <span class="keyword">new</span> Generic&lt;Integer&gt;(<span class="number">100</span>);  <span class="comment">// ✔</span></span><br></pre></td></tr></table></figure></div></li></ul><p>👉<a href="https://qastack.cn/programming/2721546/why-dont-java-generics-support-primitive-types" target="_blank" rel="noopener">为什么Java泛型不支持基本类型？</a></p><ul><li>主要是为了向后兼容<a id="more"></a></li></ul><h3 id="泛型类在创建对象的时候-没有指定类型的话-将默认指定为-Object-类型"><a href="#泛型类在创建对象的时候-没有指定类型的话-将默认指定为-Object-类型" class="headerlink" title="泛型类在创建对象的时候,没有指定类型的话,将默认指定为 Object 类型"></a>泛型类在创建对象的时候,没有指定类型的话,将默认指定为 Object 类型</h3><p><img src="/images/JavaGenericTypes/1.png" alt></p><ul><li>由于 基本数据类型 不继承自 Object 因此, 泛型参数不支持基本类型</li><li>除了8种基本数据类型(byte,short,int,long,float,double,char,boolean)以外都是 Object 的子类</li></ul><h4 id="自动装箱"><a href="#自动装箱" class="headerlink" title="自动装箱"></a>自动装箱</h4><p><img src="/images/JavaGenericTypes/2.png" alt></p><ul><li><code>Object object = 1;</code> 没有编译问题,因为在赋值过程种自动装箱;</li><li>8种基本类型都有对应的包装数据类型</li><li>上图运行结果可见,经过了自动装箱</li></ul><h3 id="由同一泛型类-创建的不同数据类型的对象-本质上是同一类型"><a href="#由同一泛型类-创建的不同数据类型的对象-本质上是同一类型" class="headerlink" title="由同一泛型类,创建的不同数据类型的对象,本质上是同一类型"></a>由同一泛型类,创建的不同数据类型的对象,本质上是同一类型</h3><p><img src="/images/JavaGenericTypes/3.png" alt></p><ul><li><code>stringGeneric.getClass() == integerGeneric.getClass()</code>结果为 true , 说明内存地址相同</li></ul><h3 id="子类是泛型类的话-子类要和父类的泛型类型保持一致"><a href="#子类是泛型类的话-子类要和父类的泛型类型保持一致" class="headerlink" title="子类是泛型类的话,子类要和父类的泛型类型保持一致"></a>子类是泛型类的话,子类要和父类的泛型类型保持一致</h3><ul><li><code>class ChildGeneric&lt;T&gt; extends Generic&lt;T&gt;</code></li><li>由子类来决定具体类型,就是调用的时候来指定的</li></ul><p><img src="/images/JavaGenericTypes/4.png" alt></p><ul><li><code>class ChildGeneric&lt;T,E,k&gt; extends Generic&lt;T&gt;</code> 可以多个类型,但是至少保证一个类型和父类一致</li></ul><h3 id="子类不是泛型类-父类要明确泛型的数据类型"><a href="#子类不是泛型类-父类要明确泛型的数据类型" class="headerlink" title="子类不是泛型类,父类要明确泛型的数据类型"></a>子类不是泛型类,父类要明确泛型的数据类型</h3><ul><li><code>class ChildGeneric extends Generic&lt;Integer&gt;</code></li></ul><p><img src="/images/JavaGenericTypes/5.png" alt></p><h2 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h2><h3 id="泛型接口的实现类是泛型类-实现类和接口的泛型类型要保持一致"><a href="#泛型接口的实现类是泛型类-实现类和接口的泛型类型要保持一致" class="headerlink" title="泛型接口的实现类是泛型类,实现类和接口的泛型类型要保持一致"></a>泛型接口的实现类是泛型类,实现类和接口的泛型类型要保持一致</h3><p><img src="/images/JavaGenericTypes/7.png" alt></p><h3 id="泛型接口的实现类不是泛型类-接口要明确数据类型"><a href="#泛型接口的实现类不是泛型类-接口要明确数据类型" class="headerlink" title="泛型接口的实现类不是泛型类,接口要明确数据类型"></a>泛型接口的实现类不是泛型类,接口要明确数据类型</h3><p><img src="/images/JavaGenericTypes/6.png" alt></p><h2 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h2><p>泛型方法,是在调用方法的时候, 指明 泛型的具体类型</p><ul><li>前面的例子中 那些诸如 <code>public E getValue() {}</code> 只是普通的成员方法,并不是泛型方法</li><li>只有声明了 <code>&lt;T&gt;</code> 的方法才是泛型方法 , T 可以是其他符号（E,K…）</li></ul><p><img src="/images/JavaGenericTypes/8.png" alt></p><ul><li>泛型方法独立于类存在</li><li>即使 泛型方法的标识符和类标识符一致,泛型方法的类型取决于调用时候的类型</li><li>下图可以和上图做比较,可得出结论</li></ul><p><img src="/images/JavaGenericTypes/9.png" alt></p><ul><li>泛型方法 和 泛型类里面的成员方法 的区别在于:泛型方法的类型取决于调用时的类型;泛型类里面的成员方法在使用的时候,必须遵从泛型类的类型</li></ul><h3 id="静态泛型方法"><a href="#静态泛型方法" class="headerlink" title="静态泛型方法"></a>静态泛型方法</h3><ul><li>泛型类里面的成员方法 不能声明为静态 </li><li>泛型方法独立于类的存在,可以声明为静态</li></ul><p><img src="/images/JavaGenericTypes/10.png" alt></p><h3 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h3><p><img src="/images/JavaGenericTypes/11.png" alt></p><h2 id="类型通配符"><a href="#类型通配符" class="headerlink" title="类型通配符"></a>类型通配符</h2><p><img src="/images/JavaGenericTypes/12.png" alt></p><ul><li>按照多态思想, Integer 继承于 Number , 但是对泛型类型来说不适用</li></ul><p><img src="/images/JavaGenericTypes/13.png" alt></p><ul><li>顺着思路,尝试重载,但是依然不行;同理 <code>Box&lt;Object&gt;</code> 同样不行</li><li>因为,前面说过了; <code>Box&lt;Number&gt; box</code>和<code>Box&lt;Integer&gt; box</code> 本质上都是 <code>Box&lt;E&gt;</code>;所以这两个是同一个方法</li></ul><p><img src="/images/JavaGenericTypes/14.png" alt></p><ul><li>因此为了解决这个问题,引入了通配符<code>?</code></li></ul><p><img src="/images/JavaGenericTypes/15.png" alt></p><h3 id="上限"><a href="#上限" class="headerlink" title="上限"></a>上限</h3><ul><li><code>Box&lt;? extends Number&gt;</code> 指可以传 继承于 Number 的所有子类,最高上限传 Number</li></ul><p><img src="/images/JavaGenericTypes/16.png" alt></p><p><img src="/images/JavaGenericTypes/17.png" alt></p><ul><li>这里不允许添加元素,因为确定不了类型</li></ul><p><img src="/images/JavaGenericTypes/18.png" alt></p><ul><li>ArrayList 里面的 addAll() 就用了 上限通配符</li></ul><p><img src="/images/JavaGenericTypes/19.png" alt></p><p><img src="/images/JavaGenericTypes/20.png" alt></p><h3 id="下限"><a href="#下限" class="headerlink" title="下限"></a>下限</h3><ul><li>类/接口&lt;? super 实参类型&gt;</li><li>要求该泛型的类型，只能是实参类型，或实参类型的 父类类型</li></ul><p><img src="/images/JavaGenericTypes/21.png" alt></p><ul><li><p>遍历元素下限通配符元素的时候,拿 0bject 类型,因为无论是 Cat 还是所有的父类,都来自于 Object</p></li><li><p>这里可以添加元素,但是不保证元素数据类型的约束要求<br><img src="/images/JavaGenericTypes/22.png" alt></p></li></ul><p><img src="/images/JavaGenericTypes/23.png" alt></p><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Animal.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Animal&#123;"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Cat.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Cat</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Cat&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MiniCat.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MiniCat</span> <span class="keyword">extends</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> level;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MiniCat</span><span class="params">(String name, <span class="keyword">int</span> age, <span class="keyword">int</span> level)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, age);</span><br><span class="line">        <span class="keyword">this</span>.level = level;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"MiniCat&#123;"</span> +</span><br><span class="line">                <span class="string">"level="</span> + level +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mian.java</span></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        TreeSet&lt;Cat&gt; treeSet = <span class="keyword">new</span> TreeSet&lt;&gt;(<span class="keyword">new</span> Comparator2());</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"Ami"</span>,<span class="number">13</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"Bie"</span>,<span class="number">25</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"Cna"</span>,<span class="number">34</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"Dji"</span>,<span class="number">52</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Cat(<span class="string">"Ewa"</span>,<span class="number">11</span>));</span><br><span class="line">        <span class="keyword">for</span> (Cat cat : treeSet) &#123;</span><br><span class="line">            System.out.println(cat);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Comparator1</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Animal</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Animal o1, Animal o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1.name.compareTo(o2.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Comparator2</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Cat</span>&gt;</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Cat o1, Cat o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1.age - o2.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Comparator3</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">MiniCat</span>&gt;</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(MiniCat o1, MiniCat o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1.level - o2.level;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ul><p><img src="/images/JavaGenericTypes/24.png" alt></p><ul><li><code>TreeSet&lt;Cat&gt; treeSet = new TreeSet&lt;&gt;(new Comparator2());</code> 根据年龄比较排序</li><li><p><code>TreeSet&lt;Cat&gt; treeSet = new TreeSet&lt;&gt;(new Comparator1());</code> 根据名字比较排序</p></li><li><p><code>TreeSet&lt;Cat&gt; treeSet = new TreeSet&lt;&gt;(new Comparator3());</code> 在下限 Cat 以下, MiniCat 达不到下限</p></li></ul><p><img src="/images/JavaGenericTypes/25.png" alt></p><h2 id="类型擦除"><a href="#类型擦除" class="headerlink" title="类型擦除"></a>类型擦除</h2><p>泛型是Java 1.5版本才引进的概念，在这之前是没有泛型的，但是泛型代码能够很好地和之前版本的代码兼容。</p><p>那是因为，泛型信息只存在于代码编译阶段，在进入JVM之前，与泛型相关的信息会被擦除掉，我们称之为–类型擦除。</p><ul><li>在前面的例子中，判断过泛型是否相等<ul><li>由同一泛型类,创建的不同数据类型的对象,本质上是同一类型 </li><li><code>stringGeneric.getClass() == integerGeneric.getClass()</code>结果为 true ,其实说明了这点</li><li>在进入JVM之前，与泛型相关的信息会被擦除掉</li><li><img src="/images/JavaGenericTypes/26.png" alt></li><li>在运行结果出来的时候,两者是相等的,说明了编译期间会把泛型的类型给移除掉</li></ul></li></ul><h3 id="无限制类型擦除"><a href="#无限制类型擦除" class="headerlink" title="无限制类型擦除"></a>无限制类型擦除</h3><p>泛型 T 在运行的时候,会被解释成 Object;就相当于用 Object 来代替</p><p><img src="/images/JavaGenericTypes/27.png" alt></p><p><img src="/images/JavaGenericTypes/28.png" alt></p><h3 id="有限制类型擦除"><a href="#有限制类型擦除" class="headerlink" title="有限制类型擦除"></a>有限制类型擦除</h3><p>将 泛型 T 转换成 上限类型 Number<br><img src="/images/JavaGenericTypes/29.png" alt></p><p><img src="/images/JavaGenericTypes/30.png" alt></p><h3 id="擦除-方法中类型定义的参数"><a href="#擦除-方法中类型定义的参数" class="headerlink" title="擦除 方法中类型定义的参数"></a>擦除 方法中类型定义的参数</h3><p>前面的是擦除 泛型类 的类型;这里是擦除 泛型方法 的类型</p><p><img src="/images/JavaGenericTypes/31.png" alt></p><p><img src="/images/JavaGenericTypes/32.png" alt></p><h3 id="桥接方法"><a href="#桥接方法" class="headerlink" title="桥接方法"></a>桥接方法</h3><p>接口定义 T 转成 Object ; 实现类 Integer 还是 Integer</p><p>只是多个了桥接; 为了保持编译后的接口和实现关系</p><p><img src="/images/JavaGenericTypes/33.png" alt></p><p><img src="/images/JavaGenericTypes/34.png" alt></p><h2 id="泛型数组"><a href="#泛型数组" class="headerlink" title="泛型数组"></a>泛型数组</h2><h3 id="可以创建带泛型的数组引用，但是不能-直接-创建带泛型的-数组对象"><a href="#可以创建带泛型的数组引用，但是不能-直接-创建带泛型的-数组对象" class="headerlink" title="可以创建带泛型的数组引用，但是不能 直接 创建带泛型的 数组对象"></a>可以创建带泛型的数组引用，但是不能 直接 创建带泛型的 数组对象</h3><p><img src="/images/JavaGenericTypes/35.png" alt></p><p><img src="/images/JavaGenericTypes/36.png" alt></p><p>跳过原生 ArrayList 对象引用; 直接将 原生ArrayList 数组 赋给 泛型ArrayList; 后面就有类型检查</p><p><img src="/images/JavaGenericTypes/37.png" alt></p><p><img src="/images/JavaGenericTypes/38.png" alt></p><p>主要是因为泛型在编译的时候会做类型擦除，而数组会一直保持它的初始类型</p><h3 id="可以通过-java-lang-reflect-Array-的-newInstance-Class-int-创建-T-数组"><a href="#可以通过-java-lang-reflect-Array-的-newInstance-Class-int-创建-T-数组" class="headerlink" title="可以通过 java.lang.reflect.Array 的 newInstance(Class,int) 创建 T[] 数组"></a>可以通过 java.lang.reflect.Array 的 newInstance(Class,int) 创建 T[] 数组</h3><p><img src="/images/JavaGenericTypes/39.png" alt></p><h2 id="反射常用的泛型类"><a href="#反射常用的泛型类" class="headerlink" title="反射常用的泛型类"></a>反射常用的泛型类</h2><ul><li><code>Class&lt;T&gt;</code></li><li><code>Constructor&lt;T&gt;</code></li></ul><p><img src="/images/JavaGenericTypes/40.png" alt></p><p><img src="/images/JavaGenericTypes/41.png" alt></p><p>class.var IDEA的快捷方式生成引用 和 Ctrl+Alt+V 一个效果</p><p><img src="/images/JavaGenericTypes/42.png" alt></p><p><img src="/images/JavaGenericTypes/43.png" alt></p><p><img src="/images/JavaGenericTypes/44.png" alt></p><p><img src="/images/JavaGenericTypes/45.png" alt></p><p><img src="/images/JavaGenericTypes/46.png" alt></p><h2 id="泛型的好处"><a href="#泛型的好处" class="headerlink" title="泛型的好处"></a>泛型的好处</h2><ul><li>类型安全</li><li>减少强制类型转换</li></ul><h2 id="类型参数标识符"><a href="#类型参数标识符" class="headerlink" title="类型参数标识符"></a>类型参数标识符</h2><ul><li>E - Element (在集合中使用，因为集合中存放的是元素)</li><li>T - Type（表示Java 类，包括基本的类和我们自定义的类）</li><li>K - Key（表示键，比如Map中的key）</li><li>V - Value（表示值）</li><li>N - Number（表示数值类型）</li><li>？ - （表示不确定的java类型）</li><li>S、U、V - 2nd、3rd、4th types</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS Five Classic Layouts</title>
      <link href="/archives/CSSFiveClassicLayouts/"/>
      <url>/archives/CSSFiveClassicLayouts/</url>
      
        <content type="html"><![CDATA[<p>CSS的五种经典布局<br><a id="more"></a></p><h2 id="空间居中"><a href="#空间居中" class="headerlink" title="空间居中"></a>空间居中</h2><p><img src="/images/CSSFiveClassicLayouts/1.png" alt></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span> <span class="attr">contenteditable</span>&gt;</span>:)<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">place-items</span>: center;</span><br><span class="line">  <span class="attribute">background</span>: lightblue;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="attribute">resize</span>: both;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">background</span>: lightpink;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: system-ui, serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ul><li>指定 Gird 布局,并且 <code>place-items:center;</code></li><li><code>place-items:center;</code> 是简写</li><li>全写为  <code>place-items:center center;</code> // <code>place-items: &lt;align-items&gt; &lt;justify-items&gt;;</code> 垂直 水平</li><li><code>place-items:start;</code>左上角  <code>place-items:end</code>右下角</li></ul><h2 id="并列式"><a href="#并列式" class="headerlink" title="并列式"></a>并列式</h2><p><img src="/images/CSSFiveClassicLayouts/2.png" alt></p><p><img src="/images/CSSFiveClassicLayouts/3.png" alt></p><p><img src="/images/CSSFiveClassicLayouts/4.png" alt></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-class">.parent</span> &#123;</span></span><br><span class="line"><span class="undefined">  display: flex;</span></span><br><span class="line"><span class="undefined">  flex-wrap: wrap;//可换行</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.child</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">flex</span>: 0 1 300<span class="selector-tag">px</span>; <span class="comment">/*初始宽度300px,不可以扩大,宽度不足300px时可缩小*/</span></span></span><br><span class="line"><span class="css"> <span class="comment">/*flex: 1 1 300px;可扩大可缩小,就是始终占满*/</span></span></span><br><span class="line"><span class="undefined">  border: 1px solid red;</span></span><br><span class="line"><span class="undefined">  background: lightpink;</span></span><br><span class="line"><span class="undefined">  font-size: 2rem;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">body &#123;</span></span><br><span class="line"><span class="undefined">  font-family: system-ui, serif;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li>指定 flex 布局, <code>felx-wrap:wrap;</code>设置可换行</li><li><code>flex: &lt;flex-grow&gt; &lt;flex-shrink&gt; &lt;flex-basis&gt;;</code></li><li>flex: &lt;初始宽度&gt;  &lt;足够宽时是否扩大&gt;  &lt;宽度不够时是否缩小&gt; </li></ul><h2 id="两栏式"><a href="#两栏式" class="headerlink" title="两栏式"></a>两栏式</h2><p>一边保持,另一边伸缩</p><p><img src="/images/CSSFiveClassicLayouts/5.png" alt></p><p><img src="/images/CSSFiveClassicLayouts/6.png" alt></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">body &#123;</span></span><br><span class="line"><span class="undefined">  display: grid;</span></span><br><span class="line"><span class="undefined">  grid-template-columns: minmax(150px, 25%) 1fr;</span></span><br><span class="line"><span class="undefined">  padding: 0;</span></span><br><span class="line"><span class="undefined">  margin: 0;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.sidebar</span> &#123;</span></span><br><span class="line"><span class="undefined">  height: 100vh;</span></span><br><span class="line"><span class="undefined">  background: lightpink;</span></span><br><span class="line"><span class="undefined">  font-size: 2rem;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.content</span> &#123;</span></span><br><span class="line"><span class="undefined">  padding: 2rem;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">body &#123;</span></span><br><span class="line"><span class="undefined">  font-family: system-ui, serif;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar"</span> <span class="attr">contenteditable</span>&gt;</span></span><br><span class="line">  Min: 150px</span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">  Max: 25%</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"content"</span> <span class="attr">contenteditable</span>&gt;</span></span><br><span class="line">  Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis nulla architecto maxime modi nisi. Quas saepe dolorum, architecto quia fugit nulla! Natus, iure eveniet ex iusto tempora animi quibusdam porro?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li><code>grid-template-columns: minmax(150px, 25%) 1fr;</code></li><li>minmax(150px, 25%) 左边最小150px,最大为总宽度25%</li><li>1fr 右边为剩余宽度</li></ul><h2 id="三明治"><a href="#三明治" class="headerlink" title="三明治"></a>三明治</h2><p>垂直分为三部分：页眉,内容,页脚;基本上只是内容区在变化</p><p><img src="/images/CSSFiveClassicLayouts/7.png" alt></p><p><img src="/images/CSSFiveClassicLayouts/8.png" alt></p><ul><li><code>grid-template-rows: auto 1fr auto;</code> 上中下</li></ul><h2 id="圣杯"><a href="#圣杯" class="headerlink" title="圣杯"></a>圣杯</h2><p>页面分为五个部分：页眉,页脚,内容区划分为左边栏,主栏,右边栏</p><p><img src="/images/CSSFiveClassicLayouts/9.png" alt></p><ul><li>指定 Grid 布局</li><li><code>grid-template: &lt;grid-template-rows&gt; / &lt;grid-template-columns&gt;</code></li><li><code>grid-template: auto 1fr auto / auto 1fr auto</code> 上中下都分成三部分</li></ul><h2 id="参考站点"><a href="#参考站点" class="headerlink" title="参考站点"></a>参考站点</h2><ul><li><a href="https://1linelayouts.glitch.me/" target="_blank" rel="noopener">1linelayouts (https://1linelayouts.glitch.me/)</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Review</title>
      <link href="/archives/JavaReview/"/>
      <url>/archives/JavaReview/</url>
      
        <content type="html"><![CDATA[<h2 id="对象创建"><a href="#对象创建" class="headerlink" title="对象创建"></a>对象创建</h2><ul><li><code>Car carKey</code> 创建了引用实例</li><li><code>new Car()</code> 创建了对象</li><li><code>Car carKey = new Car();</code> 把对象赋给引用它的实例</li></ul><h2 id="初始化顺序"><a href="#初始化顺序" class="headerlink" title="初始化顺序"></a>初始化顺序</h2><ul><li>静态属性 &gt; 静态方法 &gt; 普通属性 &gt; 普通方法 &gt; 构造函数 </li></ul><h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><ul><li>this 指向当前的对象</li><li>this 可以调用方法、调用属性、和指向对象本身</li><li><img src="/images/JavaReview/1.png" alt><a id="more"></a><h2 id="封装-访问控制权限"><a href="#封装-访问控制权限" class="headerlink" title="封装(访问控制权限)"></a>封装(访问控制权限)</h2></li><li><img src="/images/JavaReview/2.png" alt></li></ul><h2 id="多态实现"><a href="#多态实现" class="headerlink" title="多态实现"></a>多态实现</h2><ul><li>继承</li><li>重写父类方法</li><li>父类引用指向子类对象 <code>Fruit fruit = new Apple();</code></li></ul><h2 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h2><p>就是将对象应用放在新的类中就可以了</p><ul><li>多用组合，少用继承</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SoccerPlayer</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Soccer soccer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Soccer</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String soccerName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p><img src="/images/JavaReview/3.png" alt></p></li></ul><h2 id="接口和抽象类"><a href="#接口和抽象类" class="headerlink" title="接口和抽象类"></a>接口和抽象类</h2><ul><li>抽象等级: 接口 &gt; 抽象类</li><li>接口定义了方法，抽象类定义了稍微具体点的方法</li><li>接口的实现必须实现全部方法，否则就该使用抽象类定义</li></ul><h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><ul><li>编译期异常、运行期异常</li><li>Throwable 类是 Java 语言中所有 errors 和 exceptions 的父类</li><li>除了 RuntimeException 和它的子类，以及 error 和它的子类，其他所有异常都是 checkedException</li><li><img src="/images/JavaReview/4.png" alt></li><li><img src="/images/JavaReview/5.png" alt></li></ul><h2 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h2><p>就是将一个类的定义放在另一个类的内部</p><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name ;     </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">InnerClass</span><span class="params">()</span></span>&#123;</span><br><span class="line">            name = <span class="string">"elias"</span>;</span><br><span class="line">            age = <span class="number">25</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>每个内部类都能独立地继承一个（接口）的实现，无论外部类是否已经继承了某个（接口的）实现，隐藏了内部实现的细节</p></li><li>内部类拥有外部类的访问权限</li><li>内部类还可以定义在方法和作用域内部，称为 局部内部类</li><li>内部类可以实现 Java 中的多重继承</li><li><img src="/images/JavaReview/6.png" alt></li></ul><h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><ul><li><img src="/images/JavaReview/7.png" alt></li><li><img src="/images/JavaReview/8.png" alt></li></ul><h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>泛型是一种参数化的集合，限制了你添加进集合的类型</p><ul><li><img src="/images/JavaReview/9.png" alt></li></ul><h3 id="用泛型表示类"><a href="#用泛型表示类" class="headerlink" title="用泛型表示类"></a>用泛型表示类</h3><ul><li>泛型可以加到类上面，来表示这个类的类型</li><li><img src="/images/JavaReview/10.png" alt></li></ul><h3 id="用泛型表示接口"><a href="#用泛型表示接口" class="headerlink" title="用泛型表示接口"></a>用泛型表示接口</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Generator</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>一般泛型接口常用于 生成器（generator），生成器相当于对象工厂，是一种专门用来创建对象的类</p></li></ul><h3 id="用泛型来表示方法"><a href="#用泛型来表示方法" class="headerlink" title="用泛型来表示方法"></a>用泛型来表示方法</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericMethods</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(T x)</span></span>&#123;</span><br><span class="line">        System.out.println(x.getClass.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="泛型通配符"><a href="#泛型通配符" class="headerlink" title="泛型通配符"></a>泛型通配符</h3><p>List 是泛型类，为了表示各种泛型 List 的父类，可以使用通配符（?）表示，它的元素类型可以匹配任何类型</p><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; name = <span class="keyword">new</span> ArrayList&lt;String&gt;();     </span><br><span class="line">        List&lt;Integer&gt; age = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();     </span><br><span class="line">        List&lt;Number&gt; number = <span class="keyword">new</span> ArrayList&lt;Number&gt;();     </span><br><span class="line">        name.add(<span class="string">"elias"</span>);</span><br><span class="line">        age.add(<span class="number">22</span>);</span><br><span class="line">        number.add(<span class="number">824</span>);</span><br><span class="line">        generic(name);</span><br><span class="line">        generic(age);</span><br><span class="line">        generic(number);   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">generic</span><span class="params">(List&lt;?&gt; data)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Test cxuan :"</span> + data.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  ```        </span><br><span class="line">- 上界通配符：&lt;? extends ClassType&gt; 该通配符为 ClassType 的所有子类型。他表示的是任何类型都是 ClassType 类型的子类</span><br><span class="line">- 下界通配符：&lt;? <span class="keyword">super</span> ClassType&gt; 该通配符为 ClassType 的所有超类型。他表示的是任何类型的父类都是 ClassType</span><br><span class="line"></span><br><span class="line">## 反射</span><br><span class="line">反射主要提供了以下几个功能</span><br><span class="line">- 在运行时，判断任意一个对象所属的类</span><br><span class="line">- 在运行时，构造任意一个类的对象 </span><br><span class="line">- 在运行时，判断任意一个类所有的成员变量和方法</span><br><span class="line">- 在运行时，调用任意一个对象的方法</span><br><span class="line">- `java.lang.reflect`所涉及的类</span><br><span class="line">- ![](/images/JavaReview/<span class="number">11</span>.png)</span><br><span class="line">以下实例验证了一下</span><br><span class="line">- ![](/images/JavaReview/<span class="number">12</span>.png)</span><br><span class="line">- ![](/images/JavaReview/<span class="number">13</span>.png)</span><br><span class="line"></span><br><span class="line">## 枚举</span><br><span class="line">- 编辑器会为创建好的枚举自动添加 toString(),ordinal(),values()</span><br><span class="line">- ordinal()表示Enum常量的声明顺序</span><br><span class="line">- values(）显示顺序的值</span><br><span class="line">- ![](/images/JavaReview/<span class="number">14</span>.png)</span><br><span class="line">- `Family father = Family.FATHER;` 枚举可以直接调用 </span><br><span class="line"></span><br><span class="line">一般 <span class="keyword">switch</span> 可以和 <span class="keyword">enum</span>  一起连用，来构造一个小型的状态转换机</span><br><span class="line">- ```java </span><br><span class="line">    <span class="keyword">enum</span> Signal&#123;</span><br><span class="line">        GREEN,YELLOW,RED</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Trafficlight</span></span>&#123;</span><br><span class="line">        Signal color = Signal.GREEN;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">switch</span> (color)&#123;</span><br><span class="line">                <span class="keyword">case</span> GREEN:</span><br><span class="line">                    color = Signal.YELLOW;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> YELLOW:</span><br><span class="line">                    color = Signal.RED;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> RED:</span><br><span class="line">                    color = Signal.GREEN;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="I-O"><a href="#I-O" class="headerlink" title="I/O"></a>I/O</h2><ul><li><img src="/images/JavaReview/15.png" alt></li><li><p><img src="/images/JavaReview/16.png" alt></p></li><li><p>路径分隔符（Window 是 ; linux 是 :）</p></li><li>路径名称分隔符（Window 是 \ linux 是 /）</li><li><img src="/images/JavaReview/17.png" alt></li></ul><p>对文件操作</p><ul><li><img src="/images/JavaReview/18.png" alt></li></ul><p>对文件夹操作</p><ul><li><img src="/images/JavaReview/19.png" alt></li><li>三种创建方式</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File(String directoryPath);</span><br><span class="line">File(String directoryPath, String filename); </span><br><span class="line">File(File dirObj, String filename);</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"D:\\java\\file1.txt"</span>); </span><br><span class="line">System.out.println(file);</span><br><span class="line">File file2 = <span class="keyword">new</span> File(<span class="string">"D:\\java"</span>,<span class="string">"file2.txt"</span>);</span><br><span class="line">File parent = <span class="keyword">new</span> File(<span class="string">"D:\\java"</span>);</span><br><span class="line">File file3 = <span class="keyword">new</span> File(parent,<span class="string">"file3.txt"</span>);</span><br><span class="line">System.out.println(file3);</span><br></pre></td></tr></table></figure></div></li><li><p><img src="/images/JavaReview/20.png" alt></p></li></ul><h3 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h3><ul><li><img src="/images/JavaReview/21.png" alt><h3 id="OutputStream"><a href="#OutputStream" class="headerlink" title="OutputStream"></a>OutputStream</h3></li><li><img src="/images/JavaReview/22.png" alt><h3 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h3></li><li><img src="/images/JavaReview/23.png" alt><h3 id="Writer"><a href="#Writer" class="headerlink" title="Writer"></a>Writer</h3></li><li><img src="/images/JavaReview/24.png" alt></li></ul><h2 id="java-io-lang-math-net"><a href="#java-io-lang-math-net" class="headerlink" title="java.io/lang/math/net"></a>java.io/lang/math/net</h2><ul><li><img src="/images/JavaReview/25.png" alt></li><li><img src="/images/JavaReview/26.png" alt></li><li><img src="/images/JavaReview/27.png" alt></li><li><img src="/images/JavaReview/28.png" alt></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How Networks Works / After reading</title>
      <link href="/archives/HowNetworksWorks/"/>
      <url>/archives/HowNetworksWorks/</url>
      
        <content type="html"><![CDATA[<h2 id="浏览器生成消息—浏览器内部"><a href="#浏览器生成消息—浏览器内部" class="headerlink" title="浏览器生成消息—浏览器内部"></a>浏览器生成消息—浏览器内部</h2><p><img src="/images/HowNetworksWorks/1.png" alt><br><a id="more"></a></p><h3 id="生成-HTTP-请求消息"><a href="#生成-HTTP-请求消息" class="headerlink" title="生成 HTTP 请求消息"></a>生成 HTTP 请求消息</h3><h4 id="解析-URL"><a href="#解析-URL" class="headerlink" title="解析 URL"></a>解析 URL</h4><ul><li>URL:Uniform Resource Locator</li><li>FTP:File Transfer Protocol</li></ul><p><img src="/images/HowNetworksWorks/2.png" alt></p><ul><li>协议:通信操作的规则</li><li>URL 开头部分,表示浏览器应当使用的方法;比如:http,ftp,file,mailto</li><li>Web浏览器解析 URL 过程<ul><li><img src="/images/HowNetworksWorks/3.png" alt></li><li><img src="/images/HowNetworksWorks/4.png" alt></li></ul></li></ul><h4 id="URL-省略"><a href="#URL-省略" class="headerlink" title="URL 省略"></a>URL 省略</h4><ul><li><p><code>http://www.lab.glasscom.com/dir/</code></p><ul><li>像这个 URL 其实背后省略了具体文件</li><li>一般服务器上会事先设置好文件名省略时要访问的默认文件名</li><li>根据不同的服务器而不同,大多数情况是 index.html 之类</li><li>完整的访问地址为 <code>http://www.lab.glasscom.com/dir/index.html</code></li></ul></li><li><p><code>http:/www.lab.glasscom.com/</code> </p><ul><li>这种也是省略了的; 一般情况完整为 <code>http:?/www.lab.glasscom.com/index.html</code></li><li>其实以 “/” 结尾,表示它访问了名为 “/” 的目录; “/” 顶级目录,根目录</li><li>前面的 dir/ 就是访问 dir目录下的内容</li></ul></li><li><p><code>http:/www.lab.glasscom.com</code> </p><ul><li>这个连根目录 “/” 也省略了</li><li>连目录都不知道的情况下,也就是没有路径名的情况下;一般代表访问根目录下事先设置的默认文件</li></ul></li><li><p><code>http:/www.lab.glasscom.com/whatisthis</code></p><ul><li>这种情况,可能是末尾 “/” 省略了,可也能没省略 ;事实上是很多人没有正确理解省略文件名的规则,经常把目录结尾的 “/” 省略了</li><li>这种情况应该按照以下处理</li><li>如果 Web 服务器上存在名为 whatisthis 的文件,则将它作为文件名处理</li><li>如果存在名为 whatisthis 的目录,则当作目录名来处理</li><li>Linux 下无法创建两个名字相同的文件和目录;因此不可能既有一个名为 whatisthis 的文件,同时又有一个名为 whatisthis 的目录</li></ul></li></ul><h4 id="HTTP-基本思路"><a href="#HTTP-基本思路" class="headerlink" title="HTTP 基本思路"></a>HTTP 基本思路</h4><p><img src="/images/HowNetworksWorks/5.png" alt></p><ul><li>URI:Uniform Resource Identifier</li><li>一般来说,URI 的内容是一个存放网页数据的文件名或者是一个 CGI 程序的文件名,例如“/dir1/file1.html”“/dir1/program1.cgi”等</li><li>不过,URI 不仅限于此,也可以直接使用“http:”开头的 URL来作为 URI。换句话说就是,这里可以写各种访问目标,而这些访问目标统称为 URI</li><li><p>CGI 程序:对 Web 服务器程序调用其他程序的规则所做的定义就是 CGI,而按照 CGI 规范来工作的程序就称为 CGI 程序</p></li><li><p>HTTP 的主要方法<br><img src="/images/HowNetworksWorks/6.png" alt></p></li><li><p>请求/响应<br><img src="/images/HowNetworksWorks/7.png" alt></p></li></ul><p><img src="/images/HowNetworksWorks/8.png" alt></p><p><img src="/images/HowNetworksWorks/9.png" alt></p><p><img src="/images/HowNetworksWorks/10.png" alt></p><p><img src="/images/HowNetworksWorks/11.png" alt></p><ul><li>一次请求响应过程<br><img src="/images/HowNetworksWorks/12.png" alt></li></ul><p><img src="/images/HowNetworksWorks/13.png" alt></p><p><img src="/images/HowNetworksWorks/14.png" alt></p><h3 id="向-DNS-服务器查询-Web-服务器的-IP-地址"><a href="#向-DNS-服务器查询-Web-服务器的-IP-地址" class="headerlink" title="向 DNS 服务器查询 Web 服务器的 IP 地址"></a>向 DNS 服务器查询 Web 服务器的 IP 地址</h3><h4 id="TCP-IP-结构思路"><a href="#TCP-IP-结构思路" class="headerlink" title="TCP/IP 结构思路"></a>TCP/IP 结构思路</h4><p><img src="/images/HowNetworksWorks/15.png" alt></p><ul><li>目前大部分路由器已经内置了集线器功能</li><li><p>数据是以包的形式传送的</p></li><li><p>IP地址:一串 32 bit 的数字,按照 8 bit 为一组分成4组,分别用十进制表示</p></li><li>但单凭这串数字还是无法区分哪部分是网络号,哪部分是主机号</li></ul><p><img src="/images/HowNetworksWorks/16.png" alt></p><ul><li>在IP地址的规则里,网络号加主机号总共是32bit,但是这两部分具体结构是不固定的</li><li>因此还要附加信息（子网掩码）来表示IP地址的内部结构</li></ul><p><img src="/images/HowNetworksWorks/17.png" alt></p><p><img src="/images/HowNetworksWorks/18.png" alt></p><h4 id="DNS-由来"><a href="#DNS-由来" class="headerlink" title="DNS 由来"></a>DNS 由来</h4><ul><li>确定通信对象需要知道它的IP地址</li><li>如果不知道通信对象的IP地址,就无法进行通信,需要事先查询记好</li><li>使用IP地址可以代替使用服务器名称（域名）去访问</li><li>但是如果通信对象的Web服务器使用了虚拟主机,有可能用IP地址访问不了</li><li>网络中存在无数的路由器,相互配合,根据IP地址来转发数据</li><li>用域名去访问对象比用IP去访问效率要低</li><li>因为IP地址长度32bit,4字节;而域名要几十字节;增加了路由器的负担,自然消耗的时间要更长</li><li>域名并不仅是长,而且其长度是不固定的。处理长度不固定的数据比处理长度固定的数据要复杂,这也是造成效率低下的重要原因之一</li><li>（1）由于IP难以记住（2）使用域名效率低下</li><li>因此,使用了折中的方案:让人使用域名,路由器使用IP</li><li>为了达成这个目的,把域名和IP做关联的机制就诞生了,称为DNS:Domain Name System</li><li>Domain Name System :将服务器名称和 IP 地址进行关联是 DNS 最常见的用法,但 DNS 的功能并不仅限于此,它还可以将邮件地址和邮件服务器进行关联,以及为各种信息关联相应的名称</li></ul><h4 id="DNS-解析器"><a href="#DNS-解析器" class="headerlink" title="DNS 解析器"></a>DNS 解析器</h4><ul><li>相对于DNS服务器,我们的计算机上一定有相应的DNS客户端（解析器）,存在于操作系统的 Socket 库中</li></ul><p><img src="/images/HowNetworksWorks/19.png" alt></p><ul><li>大概流程是<ul><li>（1）使用DNS解析器把域名解析写入内存,接着交给操作系统向DNS服务器发送查询消息</li><li>（2）然后DNS服务器响应消息,解析器取出IP地址,存入浏览器指定的内存地址</li><li>（3）浏览器在向Web服务器发送请求的时候,从该内存地址取出IP地址,将它和HTTP请求一起提交给操作系统</li></ul></li></ul><p><img src="/images/HowNetworksWorks/20.png" alt></p><ul><li>HTTP消息是用文本编写的,但DNS消息是使用二进制数据编写的</li><li><p>浏览器本身不具备使用网络收发数据的功能,都是由操作系统内部的协议栈（操作系统内部的网络控制软件,也叫协议驱动,TCP/IP驱动,等等）来执行的</p></li><li><p>向DNS服务器发送消息的时候,也是要知道DNS服务器的IP地址的,只不过这个IP地址作为TCP/IP的一个设置项目事先设置好了</p></li></ul><p><img src="/images/HowNetworksWorks/21.png" alt></p><h3 id="全世界-DNS-服务器的大接力"><a href="#全世界-DNS-服务器的大接力" class="headerlink" title="全世界 DNS 服务器的大接力"></a>全世界 DNS 服务器的大接力</h3><h4 id="DNS-基本工作"><a href="#DNS-基本工作" class="headerlink" title="DNS 基本工作"></a>DNS 基本工作</h4><ul><li>来自客户端解析器的查询信息<ul><li>域名</li><li>Class:以前设计的时候,还需要标识网络信息,不过现在除了互联网以外没有其他网络了</li><li>记录类型:标识域名对应何种记录类型;比如 A(Address) 标识了域名对应的是IP地址、MX(Mail eXchange) 标识了对应邮件服务器</li></ul></li></ul><p><img src="/images/HowNetworksWorks/22.png" alt></p><p><img src="/images/HowNetworksWorks/23.png" alt></p><h4 id="域名层次结构"><a href="#域名层次结构" class="headerlink" title="域名层次结构"></a>域名层次结构</h4><ul><li>互联网中存在无数的服务器,将这些服务器信息存在一台DNS服务器是不可能的</li><li>因此,将信息分布保存在多台DNS服务器中,层层追溯</li><li><p><a href="http://www.lab.glasscom.com" target="_blank" rel="noopener">www.lab.glasscom.com</a></p><ul><li>越靠右边,层级越高</li><li><a href="http://www.lab.glasscom.com" target="_blank" rel="noopener">www.lab.glasscom.com</a> &lt; lab.glasscom.com &lt; glasscom.com &lt; com</li><li>每个层级可以称为域,每个域作为一个整体存放在DNS服务器中（但是,DNS服务器和域也并不总是一对一的）</li></ul></li><li><p>互联网中那么多台DNS服务器,肯定不能挨个去找</p></li><li>因此,将下级域的IP地址注册到它们的上级域的DNS服务器中,就和链表,区块链一个意思</li><li>也就是说,负责管理 lab.glasscom.com 域的DNS服务器的IP地址注册到 glasscom.com 域的DNS服务器中,而 glasscom.com 域的DNS服务器的IP地址又注册到了 com 域的DNS服务器中</li><li>这样就可以从顶级开始层层追溯了<ul><li>目前来说,一般 com,jp 称为顶级域</li><li>但是事实上它们上面还有一级域,称为根域</li><li>根域并没有名字,因此常常被省略</li><li><a href="http://www.lab.glasscom.com" target="_blank" rel="noopener">www.lab.glasscom.com</a>.  最后一个点就代表根域（和根目录一个思路）</li></ul></li></ul><p><img src="/images/HowNetworksWorks/24.png" alt></p><ul><li>根域的DNS服务器信息保存在全互联网所有DNS服务器中,这样一来就完成了<ul><li>分配给根域DNS服务器的IP地址在全世界只有13个,这些地址几乎不变化,所以就可以保存在所有DNS服务器中了</li><li>根域 DNS 服务器在运营上使用多台服务器来对应一个 IP 地址,因此尽管 IP 地址只有 13 个,但其实服务器的数量是很多的</li></ul></li></ul><p><img src="/images/HowNetworksWorks/25.png" alt></p><ul><li>客户端计算机第一次访问的DNS服务器也就是我们在TCP/IP中设置的DNS服务器（所以改DNS也是有讲究的）</li><li><p>第一次访问的DNS服务器作为所有访问查询的中继点,如图所示</p></li><li><p>上图追溯只是基本原理,真实互联网一台DNS服务器可以管理多个域的信息,因此并不是每个域都有一台自己的DNS服务器</p><ul><li>现实中上下级域有可能共享同一台DNS服务器</li><li>此外,有时候并不需要从最上级的根域开始查找,因为DNS服务器有个缓存功能</li><li>缓存可以记住之前查询过的域名;<ul><li>如果要查询的域名和相关信息已经在缓存中,就可以直接从缓存的位置开始向下查询;减少查询时间</li><li>并且,当要查询的域名信息不存在时,“不存在”这个响应结果也会被缓存;当下次查询这个不存在的域名时,也可以快速响应</li><li>需要注意的是,信息被缓存后,原本的注册信息可能会发生改变,这时缓存的信息就有可能是不正确的</li><li>因此,DNS服务器中保存的信息都会设置一个有效期;而且在查询响应时,DNS服务器也会告知客户端这个响应结果是来自缓存还是来自负责管理该域名的DNS服务器</li></ul></li></ul></li></ul><h3 id="委托协议栈发送信息"><a href="#委托协议栈发送信息" class="headerlink" title="委托协议栈发送信息"></a>委托协议栈发送信息</h3><h4 id="数据收发操作概览"><a href="#数据收发操作概览" class="headerlink" title="数据收发操作概览"></a>数据收发操作概览</h4><ul><li><p>知道IP地址后,就可以委托操作系统内部的协议栈像这个目标IP地址,发送HTTP消息（数字消息）了</p></li><li><p>收发数字消息这个操作不局限于浏览器,对于各种使用网络的应用程序都是共通的</p></li></ul><p><img src="/images/HowNetworksWorks/26.png" alt></p><p><img src="/images/HowNetworksWorks/27.png" alt></p><ul><li><p>在收发数据操作之前,双方需要先建立连接（建立如图的假设出来的管道）</p><ul><li>建立管道的关键在于管道两端的数据出入口,这些出入口称为套接字</li><li>我们需要先创建套接字,然后再将套接字连接起来形成管道</li></ul></li><li><p>实际上过程如下</p><ul><li>服务器一方先创建套接字,等待客户端向该套接字连接管道</li><li>当服务器进入等待状态,客户端就可以连接管道了</li><li>客户端也会先创建套接字,然后从该套接字延伸出管道,</li><li>最后连接到服务器端的套接字上</li><li>之后就可以收发数据了</li><li>数据发送完毕后,断开时可以由任意一方发起</li></ul></li><li><p>综上所述,可以总结为4个阶段</p><ul><li>创建套接字（创建套接字阶段）</li><li>将管道连接到服务器段的套接字上（连接阶段）</li><li>收发数据（通信阶段）</li><li>断开管道并删除套接字（断开阶段）</li></ul></li><li><p>以上的操作都是由操作系统内部的协议栈来执行的,浏览器和应用程序并不会自己去做这些工作,而是“委托”协议栈来做</p></li><li>这些“委托”都是通过调用 Socket库中的程序组件来执行的,这些数据通信用的组件充当了桥梁的角色</li></ul><h4 id="创建套接字阶段"><a href="#创建套接字阶段" class="headerlink" title="创建套接字阶段"></a>创建套接字阶段</h4><p><img src="/images/HowNetworksWorks/28.png" alt></p><ul><li>套接字创建完毕后,协议栈会返回一个描述符</li><li>应用程序会将收到的描述符存在内存中</li><li>描述符用来识别不同的套接字,因为实际上会有多个数据同时通信</li></ul><h4 id="连接阶段"><a href="#连接阶段" class="headerlink" title="连接阶段"></a>连接阶段</h4><ul><li>连接的时候还需要给出IP地址的具体端口号（表示具体哪个应用程序）</li><li>然后再从那个应用程序中找按照标识符找到对应的套接字</li></ul><p><img src="/images/HowNetworksWorks/29.png" alt></p><h4 id="通信阶段"><a href="#通信阶段" class="headerlink" title="通信阶段"></a>通信阶段</h4><ul><li>连接完毕之后,接下来就通过 Sokcet库委托协议栈来将 应用程序在内存中准备好的数据 送入套接字</li><li>接着协议栈再将数据发送到服务器</li><li>服务器接收到数据后,执行相应的操作,再返回消息给客户端</li></ul><h4 id="断开阶段"><a href="#断开阶段" class="headerlink" title="断开阶段"></a>断开阶段</h4><ul><li>Web 使用的HTTP协议规定,当Web服务器发送完响应消息后,应该主动断开操作</li><li>HTTP协议将HTML文档和图片都作为单独对象处理,因此要执行很多次连接断开操作</li><li>所以后来HTTP 1.1 就可以在一次连接中收发多个请求响应</li></ul><h2 id="用电信号传输-TCP-IP-数据—协议栈、网卡"><a href="#用电信号传输-TCP-IP-数据—协议栈、网卡" class="headerlink" title="用电信号传输 TCP/IP 数据—协议栈、网卡"></a>用电信号传输 TCP/IP 数据—协议栈、网卡</h2><p><img src="/images/HowNetworksWorks/30.png" alt></p><h3 id="创建套接字"><a href="#创建套接字" class="headerlink" title="创建套接字"></a>创建套接字</h3><ul><li>协议栈内部结构</li></ul><p><img src="/images/HowNetworksWorks/31.png" alt></p><p><img src="/images/HowNetworksWorks/32.png" alt></p><ul><li>ICMP用于告知网络包传送过程中产生的错误以及各种控制消息</li><li>ARP用于根据IP地址查询相应的以太网MAC地址</li><li>在协议栈内部有一块用于存放控制信息的内存空间,这里记录了用于控制通信操作的控制信息,例如通信对象的 IP 地址、端口号、通信操作的进行状态等<ul><li>套接字只是一个概念而已,可以说这些控制信息就是套接字</li><li>协议栈根据套接字的信息进行活动,这就是套接字的作用</li></ul></li><li>下图的每一行相当于一个套接字</li><li><p>PID:Process ID<br><img src="/images/HowNetworksWorks/33.png" alt></p></li><li><p>下图是浏览器委托协议栈使用TCP协议来收发数据</p></li></ul><p><img src="/images/HowNetworksWorks/34.png" alt></p><ul><li>协议栈首先会分配用于存放一个套接字所需的内存空间</li><li>然后向套接字的内存空间里写入表示这一初始状态的控制信息</li><li>这样一来套接字就创建完毕了</li><li>然后将这个套接字的描述符告诉应用程序;之后应用程序在向协议栈进行收发数据委托的时候就带着这个描述符,就能确定了相应的套接字,协议栈就能获取在相应套接字内相关的控制信息了</li></ul><h3 id="连接服务器"><a href="#连接服务器" class="headerlink" title="连接服务器"></a>连接服务器</h3><ul><li><p>“连接”是什么意思</p><ul><li>网线一直是连着的,随时都有信号从中流过,如果通信过程只是将数据转换为电信号,那么这个操作随时都可以进行</li><li>套接字创建完成的时候,里面还没有任何存放任何控制信息,这种状态下即使应用程序要求发送数据,协议栈也不知道发送给谁</li><li>协议栈需要等待我们在套接字中存入控制信息</li><li>服务器程序一般会在系统启动的时候就创建套接字并等待客户端连接</li><li>和客户端不同,服务器根本不知道想来通信的对象是谁<ul><li>就和打电话一样,对方在没接到电话之前,根本不可能知道打电话的人是谁</li></ul></li><li>连接实际上是通信双方交换控制信息,在套接字中记录这些必要信息并准备数据收发的一连串操作</li><li>连接操作中所交换的控制信息是根据通信规则来确定的,只要根据规则执行连接操作,双方就可以得到必要的信息从而完成数据收发的准备</li></ul></li><li><p>通信操作中使用的控制信息可以分为两大类</p><ul><li>（1）客户端和服务器相互联络交换的控制信息<ul><li>这些信息不仅连接时需要,包括数据收发和断开连接操作在内,整个通信过程都需要</li><li>这些内容在TCP协议中进行了定义</li><li><img src="/images/HowNetworksWorks/35.png" alt></li><li>这些信息会添加在客户端和服务器之间传递的网络包头部（这里是TCP的控制信息,简称TCP头部）<ul><li>其他协议也有自己的控制信息,以太网头部（MAC头部）,IP头部</li></ul></li><li><img src="/images/HowNetworksWorks/36.png" alt></li></ul></li><li>（2）保存在套接字中,用来控制协议操作的信息<ul><li>应用程序传递来的信息以及从通信对象接收到的信息都会保存在这里,还有收发数据操作的执行状态等信息也会保存在这里,协议栈会根据这些信息来执行每一步的操作</li><li>我们可以说,套接字的控制信息和协议栈的程序本身其实是一体的</li><li>“协议栈具体需要哪些信息”会根据协议栈本身的实现方式不同而不同,但无论协议栈的实现如何不同,IP地址和端口号这些重要的信息都是共通的</li><li>虽然协议栈的实现不同,但是并不影响通讯;因为协议栈中的控制信息通信对方是看不见的,只要在通信时按照规则将必要的信息写入头部,客户端和服务器之间的通信就能够得以成立</li><li>Windows 和Linux 操作系统的内部结构不同,协议栈的实现方式不同,必要的控制信息也就不同</li></ul></li></ul></li></ul><p><img src="/images/HowNetworksWorks/34.png" alt></p><ul><li><p>连接过程</p><ul><li>连接操作的第一步是在TCP模块出创建表示连接控制信息的头部（TCP头部）;通过TCP头部中的发送方和接受方端口号可以找到要连接的套接字</li><li>当TCP头部创建好之后,接下来TCP模块会将信息传递给IP模块并委托它进行发送  </li><li>IP 模块执行网络包发送操作后,网络包就会通过网络到达服务器</li><li>然后服务器上的 IP 模块会将接收到的数据传递给 TCP 模块</li><li>服务器的 TCP 模块根据 TCP 头部中的信息找到端口号对应的套接字</li><li>当找到对应的套接字之后,套接字中会写入相应的信息,并将状态改为正在连接</li><li><p>然后 TCP 模块会返回响应到客户端,重复和客户端一样的过程</p><ul><li>服务器在返回响应的时候还需要再TCP头部设置发送方和接受方的端口号以及SYN比特,此外还要将ACK控制位设为1<ul><li>ACK 设为1表示以及接收到相应的网络包,ACK比特就是用来确认网络包是否送达的</li></ul></li></ul></li><li><p>客户端接收到响应信息并确认TCP头部信息的SYN为1,表示连接成功</p></li><li>接着就会向套接字中写入服务器的IP地址、端口号等信息;同时将状态改为连接完毕,</li><li>并将客户端的TCP头部ACK比特设置为1,发送给服务器,表明刚才的响应包已收到</li><li>这样连接就全部完成</li></ul></li></ul><h3 id="收发数据"><a href="#收发数据" class="headerlink" title="收发数据"></a>收发数据</h3><h4 id="将-HTTP-请求信息交给协议栈"><a href="#将-HTTP-请求信息交给协议栈" class="headerlink" title="将 HTTP 请求信息交给协议栈"></a>将 HTTP 请求信息交给协议栈</h4><ul><li>协议栈收到应用程序传来的数据会先存放到发送缓冲区,等到应用程序继续传送数据,避免发送大量小网络包,导致网络效率下降</li><li><p>协议栈发送数据要根据以下几个要素来判断</p><ul><li><p>(1)每个网络包能容纳的数据长度,协议栈会根据一个叫作MTU（Maximum Transmission Unit）的参数来判断</p><ul><li>MTU表示每个网络包的最大长度,在以太网中一般是1500字节</li><li>MTU 是包含头部的总长度,因此需要从MTU 减去头部的长度,然后得到的长度就是一个网络包中所能容纳的最大数据长度,这一长度叫作 MSS</li><li>当从应用程序收到的数据长度超过或者接近 MSS 时再发送出去</li></ul><p><img src="/images/HowNetworksWorks/37.png" alt></p></li><li><p>(2)时间</p><ul><li>当应用程序发送数据的频率不高的时候,如果每次都等到长度接近 MSS 时再发送,可能会因为等待时间太长而造成发送延迟,这种情况下,即便缓冲区中的数据长度没有达到 MSS,也应该果断发送出去</li><li>为此,协议栈的内部有一个计时器,当经过一定时间之后,就会把网络包发送出去</li></ul></li><li>两者其实是有矛盾的,具体如何达到平衡得看协议栈开发者</li></ul></li><li>如果仅靠协议栈来判断发送的时机可能会带来一些问题,因此协议栈也给应用程序保留了控制发送时机的余地。应用程序在发送数据时可以指定一些选项,比如如果指定“不等待填满缓冲区直接发送”,则协议栈就会按照要求直接发送数据。像浏览器这种会话型的应用程序在向服务器发送数据时,等待填满缓冲区导致延迟会产生很大影响,因此一般会使用直接发送的选项</li></ul><h4 id="拆分较大的数据"><a href="#拆分较大的数据" class="headerlink" title="拆分较大的数据"></a>拆分较大的数据</h4><ul><li>如果数据很大,比如长篇文章,这样发送缓冲区中数据长度就会超过MSS的长度</li><li>这样时候就不需要继续等待后面的数据了,直接以MSS长度为单位拆分</li><li>拆分出来的数据放进单独的网络包,在数据前面加上TCP头部,IP头部,MAC头部,然后发送</li></ul><p><img src="/images/HowNetworksWorks/38.png" alt></p><h4 id="使用-ACK-号确认网络包已收到"><a href="#使用-ACK-号确认网络包已收到" class="headerlink" title="使用 ACK 号确认网络包已收到"></a>使用 ACK 号确认网络包已收到</h4><p><img src="/images/HowNetworksWorks/39.png" alt></p><ul><li>TCP 具备确认对方是否成功收到网络包,以及当对方没收到时进行重发的功能</li><li>TCP 模块在拆分数据的时候,会对数据做好标识,让服务器能够知道数据包有没有遗漏</li><li>返回 ACK 号时,除了要设置 ACK 号的值以外,还需要将控制位中的 ACK 比特设为 1,这代表 ACK 号字段有效,接收方也就可以知道这个网络包是用来告知 ACK 号的</li><li><p>实际的通信序号是随机的一个初始值,固定的序号容易被预测攻击</p><ul><li>因此在收发数据之前就将初始值告诉通信对象</li><li>在连接过程中将 SYN（Synchronize） 控制位设为 1 的时候,就在这一步同时设置了初始值</li></ul></li><li><p>上面的只是单项的数据传输,实际上客户端向服务器发送数据的同时,服务器也在向客户端发送数据</p></li></ul><p><img src="/images/HowNetworksWorks/40.png" alt></p><ul><li>实际的初始值序号和ACK确认流程如下</li></ul><p><img src="/images/HowNetworksWorks/41.png" alt></p><ul><li>因为有了 TCP 这个机制,我们可以确认接受方有没有收到某个包,如果没有收发则重新发送</li><li>这样一来,无论网络中发送任何错误,我们都可以发现并重传网络包</li><li>因此,网卡、集线器、路由器都不需要错误补偿机制了,一旦检测到错误,直接丢弃相应的包</li><li>在网络中断,服务器宕机,TCP 重传不起效,TCP会在尝试几次重传无效后强制结束通信,并向应用程序报错</li></ul><h4 id="根据网络包平均往返时间调整-ACK-号等待时间"><a href="#根据网络包平均往返时间调整-ACK-号等待时间" class="headerlink" title="根据网络包平均往返时间调整 ACK 号等待时间"></a>根据网络包平均往返时间调整 ACK 号等待时间</h4><ul><li><p>前面的只是基本原理,实际上网络的错误检测和补偿机制非常复杂</p></li><li><p>设置一个合理的返回 ACK 号的等待时间</p><ul><li>当网络拥塞的时候,ACK 号返回速度变慢,需要将等待时间设置长点,否则就会已经重传了包之后,前面的 ACK 号才姗姗来迟</li><li>重传了多余的包,数量多了之后会给本来就拥塞的网络雪上加霜</li><li>设置等待时间也不是越长越好,时间过长,包的重传就会出现很大的延迟,也会导致网络速度变慢</li><li>设置一个合理的值十分困难<ul><li>服务器的物理距离,拥塞情况,等都要考虑</li></ul></li><li>因此,TCP采用了动态调整等待时间的方法<ul><li>TCP 会在发送数据的过程中持续测量 ACK 号的返回时间,如果 ACK 号返回变慢,则相应延长等待时间;相对地,如果 ACK 号马上就能返回,则相应缩短等待时间 </li></ul></li></ul></li></ul><h4 id="使用窗口有效管理-ACK-号"><a href="#使用窗口有效管理-ACK-号" class="headerlink" title="使用窗口有效管理 ACK 号"></a>使用窗口有效管理 ACK 号</h4><p><img src="/images/HowNetworksWorks/42.png" alt></p><ul><li>使用滑动窗口的方式,时间是充分利用了,但是可能会出现发送包的频率超过接受方处理能力的情况<ul><li>接受方收到包后,会先将数据存放到接受缓冲区,然后计算ACK号,将数据块组装起来还原成数据并传递给应用程序</li><li>如果前面的操作没有完成,后面下一个包到了,会被暂存在接收缓冲区等待处理</li><li>如果数据到达的速率比处理这些数据并传递给应用程序的速率还要块,那么接受缓冲区中的数据越来越多,最终就会溢出</li><li>后面的数据包就收不到了,也就是超出了接受方的处理能力</li></ul></li><li>为了避免这种情况,首先接受方需要告诉发送方字节最多能接收多少数据,然后发送方根据这个值对数据发送操作进行控制</li></ul><p><img src="/images/HowNetworksWorks/43.png" alt></p><ul><li>这个能够接收的最大数据量称为 窗口大小 ,它是 TCP 调优参数中非常有名的一个</li></ul><h4 id="ACK-与-窗口的合并"><a href="#ACK-与-窗口的合并" class="headerlink" title="ACK 与 窗口的合并"></a>ACK 与 窗口的合并</h4><ul><li>要提高收发数据的效率,就要考虑返回ACK号和更新窗口的时机</li><li>更新窗口一般在接受方缓冲区剩余容量增加时,告知对方</li><li>ACK 号在接受到后就告知对方</li><li>如果这两个是单独的包,就会导致接受方给发送方的包太多,从而导致网络效率下降</li><li>因此,接受方会等待一段时,把两种通知的包合并在一个包发送</li></ul><h4 id="接收-HTTP-响应消息"><a href="#接收-HTTP-响应消息" class="headerlink" title="接收 HTTP 响应消息"></a>接收 HTTP 响应消息</h4><ul><li>首先,协议栈会检查收到的数据块和 TCP 头部的内容,判断是否有数据丢失,如果没有问题则返回 ACK 号</li><li>然后,协议栈将数据块暂存到接收缓冲区中,并将数据块按顺序连接起来还原出原始的数据,最后将数据交给应用程序</li><li>具体来说,协议栈会将接收到的数据复制到应用程序指定的内存地址中,然后将控制流程交回应用程序</li><li>将数据交给应用程序之后,协议栈还需要找到合适的时机向发送方发送窗口更新 </li></ul><h3 id="断开服务器并删除套接字"><a href="#断开服务器并删除套接字" class="headerlink" title="断开服务器并删除套接字"></a>断开服务器并删除套接字</h3><h4 id="数据发送完毕后断开连接"><a href="#数据发送完毕后断开连接" class="headerlink" title="数据发送完毕后断开连接"></a>数据发送完毕后断开连接</h4><ul><li>服务器的协议栈会生成包含断开信息的TCP头部,将控制位中的 FIN 比特设为 1</li><li>接下来,协议栈会委托IP模块向客户端发送数据</li><li>同时,服务器的套接字中也会记录下来断开操作的相关信息</li></ul><p><img src="/images/HowNetworksWorks/44.png" alt></p><ul><li>然后客户端接受到后,客户端的协议栈会将自己的套接字标记为进入断开操作状态</li><li><p>为了告诉服务器已经收到 FIN 为 1 的包,客户端会向服务器返回一个 ACK 号</p></li><li><p>应用程序有可能在收到 FIN 为 1 的包之前就来读取数据,这时读取数据的操作会被挂起,等到 FIN 包到达再继续执行</p></li></ul><h4 id="删除套接字"><a href="#删除套接字" class="headerlink" title="删除套接字"></a>删除套接字</h4><ul><li>和服务器通信结束后,用来通信的套接字也不会再使用了</li><li>套接字并不会立刻被删除,而是等待一段时间之后再被删除<ul><li>为了防止误操作</li><li>假设,客户端先发起断开,则断开的操作顺序如下<ul><li>（1）客户端发送 FIN </li><li>（2）服务器返回 ACK 号</li><li>（3）服务器发送 FIN </li><li>（4）客户端返回 ACK 号</li></ul></li><li>如果最后客户端返回的 ACK 号丢失了,结果会如何呢？这时,服务器没有接收到 ACK 号,可能会重发一次 FIN。如果这时客户端的套接字已经删除了,会发生什么事呢？套接字被删除,那么套接字中保存的控制信息也就跟着消失了,套接字对应的端口号就会被释放出来。这时,如果别的应用程序要创建套接字,新套接字碰巧又被分配了同一个端口号 B,而服务器重发的 FIN 正好到达,会怎么样呢？本来这个 FIN 是要发给刚刚删除的那个套接字的,但新套接字具有相同的端口号,于是这个 FIN 就会错误地跑到新套接字里面,新套接字就开始执行断开操作了。之所以不马上删除套接字,就是为了防止这样的误操作</li></ul></li></ul><h4 id="TCP-整体流程"><a href="#TCP-整体流程" class="headerlink" title="TCP 整体流程"></a>TCP 整体流程</h4><p><img src="/images/HowNetworksWorks/45.png" alt></p><h3 id="IP-与以太网的包收发操作"><a href="#IP-与以太网的包收发操作" class="headerlink" title="IP 与以太网的包收发操作"></a>IP 与以太网的包收发操作</h3><h4 id="包的基本结构"><a href="#包的基本结构" class="headerlink" title="包的基本结构"></a>包的基本结构</h4><ul><li>网络包由头部和数据两部分构成<ul><li>头部包含了目的地址等控制信息,就和快递的地址电话一样</li><li>数据就相当于快递物件</li></ul></li></ul><p><img src="/images/HowNetworksWorks/46.png" alt></p><ul><li>发送网络包的时候,发送方的网络设备会负责创建包,创建包的过程就是生成含有正确控制信息的头部,然后再附上要发送的数据</li></ul><p><img src="/images/HowNetworksWorks/47.png" alt></p><p><img src="/images/HowNetworksWorks/48.png" alt></p><ul><li>首先会发往最近的网络转发设备,再发往其他网络设备,层层转发,最终达到接受方的网络设备<ul><li>路由器根据目标地址判断下一个路由器的位置</li><li>集线器在子网中将网络包传输到下一个路由</li></ul></li><li><p>集线器是按照 以太网 规则传输包的设备;而路由器是按照 IP 规则传输包的设备</p><ul><li>IP协议根据目标地址判断下一个IP转发设备的位置</li><li>子网中的以太网协议将包传输到下一个转发设备</li></ul></li><li><p>TCP/IP包含有两个头部:MAC头部（用于以太网协议）;IP头部（用于IP协议）</p></li></ul><h4 id="包的收发操作"><a href="#包的收发操作" class="headerlink" title="包的收发操作"></a>包的收发操作</h4><ul><li>在整个传输流程中,是由各种网络设备合力完成的;IP模块仅仅只是整个包的传输流程的入口</li></ul><p><img src="/images/HowNetworksWorks/49.png" alt></p><ul><li>包收发操作的起点是TCP模块委托IP模块发送网络包,这个过程中TCP模块在数据块前面加上TCP头部和指定通信对象的IP地址,然后传递给IP模块</li><li>收到委托后,IP模块将 前面的TCP头部和数据块 当作一个整体（二进制数据）,然后在头部添加IP头部和MAC头部</li></ul><p><img src="/images/HowNetworksWorks/50.png" alt></p><ul><li>然后封装好的包会发送给网络设备,最近的就计算机的网卡;传递给网卡的网络包是二进制的</li><li>接着网卡将二进制的数字信息转换为电信号/光信号,通过网线/光纤发送出去</li><li>然后接受方收到后,逆向操作</li></ul><h4 id="生成包含接受方-IP-地址的-IP-头部"><a href="#生成包含接受方-IP-地址的-IP-头部" class="headerlink" title="生成包含接受方 IP 地址的 IP 头部"></a>生成包含接受方 IP 地址的 IP 头部</h4><p><img src="/images/HowNetworksWorks/51.png" alt></p><ul><li><p>IP头部最重要的内容就是接受方的IP地址,这个地址是由TCP模块告知的,而TCP模块又是在执行连接操作时从应用程序那里获得这个地址的</p></li><li><p>IP头部还需要有发送方的IP地址,这个IP地址一般大家认为是发送方的计算机IP地址</p><ul><li>实际上,IP地址不是分配给计算机的,而是分配给网卡的,当计算机有多块网卡的时候就有多个IP地址（服务器就有很多块网卡）</li></ul></li></ul><p><img src="/images/HowNetworksWorks/52.png" alt></p><ul><li>如何判断把包给那块网卡呢<ul><li>其实和路由器使用 IP 表判断下一个路由器位置的操作是一样的</li><li>因为协议栈的 IP模块与路由器中负责包收发的部分都是根据 IP 协议规则来进行包收发操作的,所以它们也都用相同的方法来判断把包发送给谁</li><li>IP 表又可以叫做 路由表</li></ul></li></ul><p><img src="/images/HowNetworksWorks/53.png" alt></p><ul><li>我们对套接字中记录的目的地 IP 地址与路由表左侧的 Network Destination 栏进行比较,找到对应的一行<ul><li>例如,TCP 模块告知的目标 IP 地址为 192.168.1.21,那么就对应图中的第 6 行,因为它和 192.168.1 的部分相匹配</li><li>如果目标 IP 地址为 10.10.1.166,那么就和 10.10.1 的部分相匹配,所以对应第 3 行</li></ul></li><li>Interface 列,表示网卡等网络接口,这些网络接口可以将包发送给通信对象</li><li>Gateway 列表示下一个路由器的 IP 地址,将包发给这个 IP 地址,该地址对应的路由器就会将包转发到目标地址 </li><li><p>路由表的第 1 行中,目标地址和子网掩码 A 都是 0.0.0.0,这表示默认网关,如果其他所有条目都无法匹配,就会自动匹配这一行</p></li><li><p>最后还需要填写协议号,它标识包的内容来自哪个模块</p><ul><li>TCP模块,06（十六进制）</li><li>UDP模块,17（十六进制）</li></ul></li></ul><h4 id="生成以太网用的-MAC-头部"><a href="#生成以太网用的-MAC-头部" class="headerlink" title="生成以太网用的 MAC 头部"></a>生成以太网用的 MAC 头部</h4><p><img src="/images/HowNetworksWorks/54.png" alt></p><ul><li>生成了 IP 头部之后,接下来 IP 模块还需要在 IP 头部的前面加上MAC 头部</li><li>IP 头部中的接收方 IP 地址表示网络包的目的地,通过这个地址我们就可以判断要将包发到哪里</li><li>但在以太网的世界中,TCP/IP 的这个思路是行不通的</li><li><p>以太网在判断网络包目的地时和 TCP/IP 的方式不同,因此必须采用相匹配的方式才能在以太网中将包发往目的地,而MAC 头部就是干这个用的</p></li><li><p>MAC 头部是以太网使用的头部,它包含了接受方和发送方的 MAC 地址信息等</p></li><li>IP 地址长度 32bit ; MAC 地址长度 48 bit</li><li><p>以太类型和协议号类似</p><ul><li>在IP中,协议号标识IP头部后面的包内容的类型</li><li>在以太网中,可以认为以太网类类型后面就是以太网包的内容<ul><li>而以太类型就表示后面内容的类型</li></ul></li><li>以太网包的内容可以是IP、ARP等协议的包</li></ul></li><li><p>以太类型,这里可以填写表示IP协议的值 0800（十六进制）</p></li><li><p>然后填写网卡本身的MAC地址,MAC地址是网卡生产时写入ROM里的,只要读取出来写入MAC头部就可以了</p></li><li><p>最后就和IP地址一样判断从那块网卡发送网络包,把这块网卡的MAC地址填进去<br><img src="/images/HowNetworksWorks/55.png" alt></p></li><li>但是,接受方的MAC地址根本不知道,所以我们还需要根据IP地址查询MAC地址的操作</li></ul><h4 id="通过-ARP-查询目标路由器的-MAC-地址"><a href="#通过-ARP-查询目标路由器的-MAC-地址" class="headerlink" title="通过 ARP 查询目标路由器的 MAC 地址"></a>通过 ARP 查询目标路由器的 MAC 地址</h4><ul><li><p>ARP:Address Resolution Protocol 地址解析协议</p></li><li><p>ARP 利用广播对连接在同一以太网中的所有设备查询 MAC 地址</p></li></ul><p><img src="/images/HowNetworksWorks/56.png" alt></p><ul><li>如果每次发送包都要这样查询一次,网络中就会增加很多 ARP包,因此我们会将查询结果放到一块叫作 ARP 缓存的内存空间中留着以后用</li><li>也就是说,在发送包时,先查询一下 ARP 缓存,如果其中已经保存了对方的 MAC 地址,就不需要发送 ARP 查询,直接使用 ARP 缓存中的地址,而当 ARP 缓存中不存在对方 MAC 地址时,则发送 ARP 查询</li></ul><p><img src="/images/HowNetworksWorks/57.png" alt></p><p><img src="/images/HowNetworksWorks/58.png" alt></p><ul><li><p>ARP缓存中的地址会在一定时间后被删除,避免读取到IP地址发生变化后造成的差异</p></li><li><p>将 MAC 头部加在 IP 头部前面,整个包就完成了</p></li><li>到此为止,整个打包工作是由 IP 模块完成的<ul><li>这样的好处是,在把数据包交给网卡之前就打包好</li><li>这样一来,网卡就可以支持各种类型的包,网卡专注于收发</li></ul></li></ul><h4 id="以太网的结构"><a href="#以太网的结构" class="headerlink" title="以太网的结构"></a>以太网的结构</h4><ul><li>IP 模块的工作完成后,就轮到网卡开始工作了</li></ul><p><img src="/images/HowNetworksWorks/59.png" alt></p><ul><li>以太网是一种为多台计算机能够彼此自由和廉价地相互通信而设计的通信技术</li><li>收发器:将不同网线之间的信号连接起来</li><li>尽管以太网经历了数次变迁,但其基本的 3 个性质至今仍未改变<ul><li>即将包发送到 MAC 头部的接收方 MAC 地址代表的目的地</li><li>用发送方 MAC地址识别发送方</li><li>用以太类型识别包的内容</li></ul></li><li>因此,可以认为具备这3 个性质的网络就是以太网</li></ul><h4 id="将-IP-包转换成电或光信号发送出去"><a href="#将-IP-包转换成电或光信号发送出去" class="headerlink" title="将 IP 包转换成电或光信号发送出去"></a>将 IP 包转换成电或光信号发送出去</h4><ul><li>IP 生成的网络包只是存放在内存中的一串数字信息</li><li>因此,需要将数字信号转换成电信号或者光信号,才能在网线上传输</li><li>负责执行这个操作的就是网卡,但是网卡也无法单独工作,需要控制网卡就需要网卡驱动程序</li></ul><p><img src="/images/HowNetworksWorks/60.png" alt></p><ul><li>MAC:Media Access Control</li></ul><p><img src="/images/HowNetworksWorks/61.png" alt></p><ul><li>可以从网卡 ROM 中读出 MAC 值 设置给 MAC 模块</li><li>也可以从命令或配置中读取 MAC 值<ul><li>这种情况下,网卡会忽略ROM 中的 MAC 地址</li></ul></li><li>有人认为在网卡通电之后,ROM 中的 MAC 地址就自动生效了,其实不然,真正生效的是网卡驱动进行初始化时在 MAC模块中设置的那个 MAC 地址</li></ul><h4 id="给网络包再加3个控制数据"><a href="#给网络包再加3个控制数据" class="headerlink" title="给网络包再加3个控制数据"></a>给网络包再加3个控制数据</h4><p><img src="/images/HowNetworksWorks/62.png" alt></p><ul><li>网卡驱动从IP模块获取到包之后,将其复制到网卡内的缓冲区中,然后向 MAC 模块发送 “发送包” 的指令</li><li><p>MAC 模块将包从缓冲区中取出,并在开头添加 报头、起始帧分节符,在末尾添加用于检测错误的帧校验序列 （历史原因,帧和包是一个意思）</p></li><li><p>报头是一串像 10101010…这样 1 和 0 交替出现的比特序列,长度为 56比特,它的作用是确定包的读取时机</p></li><li>当这些 1010 的比特序列被转换成电信号后,会形成如下图这样的波形</li><li>接收方在收到信号时,遇到这样的波形就可以判断读取数据的时机</li></ul><p><img src="/images/HowNetworksWorks/63.png" alt></p><ul><li>用电信号来表达数字信息是,需要让0和1两种比特分别对应特定的电压和电流</li></ul><p><img src="/images/HowNetworksWorks/64.png" alt></p><ul><li>在测量电压和电流的时候,必须先判断出每个比特的界限在哪,要不连续同种比特出现的时候就很难切分（连续1111或00000）</li><li>为了解决这个问题,引入一组用来区分比特间隔的时钟信号<ul><li>当时钟信号变化时,读取电压和电流值,和0或1对应</li><li>但是距离较远时,网线较长时,数据信号和时钟信号的传输会产生时间差,时钟就会发生偏移</li></ul></li><li>为了解决偏差,采用将数据信号和时钟信号叠加在一起的方法</li></ul><h4 id="向集线器发送网络包"><a href="#向集线器发送网络包" class="headerlink" title="向集线器发送网络包"></a>向集线器发送网络包</h4><ul><li>发送信号的操作分为两种<ul><li>一种是使用集线器的半双工模式</li><li>另一种是使用交换机的全双工模式</li></ul></li><li>在半双工模式中,为了避免信号碰撞,需要先判断网线中是否存在其他信号设备发送信号<ul><li>有则等待,没有即可发送</li></ul></li><li>首先,MAC 模块从报头开始将数字信号按每个比特转成电信号,然后由PHY或叫MAU的信号收发模块发送出去<ul><li>MAU:Medium Attachment Unit 介质连接单元</li><li>PHY:Physical Layer Device 物理层装置</li><li>根据以太网的信号方式的不同,叫法不同,速度在100Mbit/s以上的以太网中都叫PHY</li><li>在这里,将数字信号转换成电信号的速率就是网络传输速率<br><img src="/images/HowNetworksWorks/65.png" alt></li></ul></li><li>接下来,PHY模块会将信号转换为可以在网线上传输的格式,并通过网线发送出去<ul><li>以太网规格中对不同的网线类型和速率以及其对应的信号格式进行了规定</li><li>但 MAC 模块并不关心这些区别,而是将可转换为任意格式的通用信号发送给 PHY（MAU）模块</li><li>然后 PHY（MAU）模块再将其转换为可在网线上传输的格式</li></ul></li></ul><p><img src="/images/HowNetworksWorks/66.png" alt></p><ul><li>PHY不仅仅只是转换信号,还需要监控接收线路有无信号进来,避免信号碰撞</li><li><p>如果发生了信号碰撞,还会发送一段阻塞信号,通知所有发送操作停止</p><ul><li>并且根据 MAC 地址生成随机数,错开重新发送信号时间</li><li>当网络拥塞的时候,发送碰撞的可能性提高</li><li>多次拥塞等待后,就报告通信错误</li></ul></li><li><p>另一种全双工模式,可以同时接收和发送,不会发生碰撞</p></li></ul><h4 id="接收网络包"><a href="#接收网络包" class="headerlink" title="接收网络包"></a>接收网络包</h4><ul><li>PHY （MAU）模块会将信号转换成通用格式并发送给 MAC 模块</li><li>MAC 模块再从头开始将信号转换为数字信息,并存放到缓冲区中</li><li>当到达信号的末尾时,还需要检查 FCS</li><li>检查 MAC 头部中接收方MAC 地址与网卡在初始化时分配给自己的 MAC 地址是否一致</li><li><p>无误后,网卡通知计算机收到了一个网络包</p></li><li><p>计算机并不是一直监控着网卡,需要网卡去打断计算机正在执行的任务,注意到自己,这种机制就是中断</p></li></ul><h4 id="将服务器的响应包从-IP-传递给-TCP"><a href="#将服务器的响应包从-IP-传递给-TCP" class="headerlink" title="将服务器的响应包从 IP 传递给 TCP"></a>将服务器的响应包从 IP 传递给 TCP</h4><ul><li>首先收到包,肯定是先检查以太类型,确定是什么协议;0800就是TCP/IP</li><li>接着检查IP头部、查看接受方IP地址<ul><li>如果IP格式无误,接受方IP地址和客户端网卡地址一致,就可以接收这个包了</li></ul></li><li>如果接受方的IP不是自己的,发生了这样的错误时,IP模块会通过ICMP消息将错误告诉发送方</li></ul><p><img src="/images/HowNetworksWorks/67.png" alt></p><h3 id="UDP协议的收发操作"><a href="#UDP协议的收发操作" class="headerlink" title="UDP协议的收发操作"></a>UDP协议的收发操作</h3><h4 id="不需要重发的数据用-UDP-发送更高效"><a href="#不需要重发的数据用-UDP-发送更高效" class="headerlink" title="不需要重发的数据用 UDP 发送更高效"></a>不需要重发的数据用 UDP 发送更高效</h4><ul><li>TCP 设计得如此完善,就是要确保它的数据可靠性</li><li>如果数据很短,不用分包,一个包就足够的情况下,就不需要考虑漏包等问题了<ul><li>一旦丢失或未送达就重发,就就一个包,根本不影响效率</li><li>这样就不需要 TCP 这么复杂的机制了</li></ul></li><li>发送了数据,对方给出回复就可以</li></ul><h4 id="控制用的短数据"><a href="#控制用的短数据" class="headerlink" title="控制用的短数据"></a>控制用的短数据</h4><ul><li>像 DNS 查询等交换控制信息的操作基本上都可以在一个包的大小范围就可以解决,这种场景就可以用 UDP 来代替 TCP<ul><li>UDP 没有 TCP 的接收确认、窗口等机制,因此在收发数据之前也不需要交换控制信息,也就是说不需要建立建立和断开连接的步骤</li><li>只需要从应用程序获取的数据前面加上 UDP 头部,然后交给 IP 模块发送就可以了</li></ul></li></ul><p><img src="/images/HowNetworksWorks/68.png" alt></p><ul><li>在线播放音频和视频数据的时候,也会使用 UDP ,因为这些数据必须在规定时间内达到,否则会错过时机,导致卡顿<ul><li>一旦错过时间,重发数据也没有用;</li><li>在这些无需重发,或者重发也没意义的场景,用 UDP 效率更高</li></ul></li></ul><h2 id="从网线到网络设备—集线器、交换机、路由器"><a href="#从网线到网络设备—集线器、交换机、路由器" class="headerlink" title="从网线到网络设备—集线器、交换机、路由器"></a>从网线到网络设备—集线器、交换机、路由器</h2><p><img src="/images/HowNetworksWorks/69.png" alt></p><h3 id="信号在网线和集线器中传输"><a href="#信号在网线和集线器中传输" class="headerlink" title="信号在网线和集线器中传输"></a>信号在网线和集线器中传输</h3><ul><li>每个包都是独立传输的<ul><li>每个阶段的都不会关心上个阶段的包内部内容</li><li>每个后面的阶段只会根据上阶段传输过来的包头部中的控制信息,进行操作</li></ul></li></ul><p><img src="/images/HowNetworksWorks/70.png" alt></p><ul><li>电信号会在传输过程中逐渐衰弱<ul><li>电信号频率越高,能量损失率越大,因此传输过程就会失真</li><li>如果再加上噪音,失真就更厉害,进一步影响0,1的判断,这就是产生通信错误的原因<br><img src="/images/HowNetworksWorks/71.png" alt></li></ul></li><li>局域网使用的网线就是双绞线,双绞就是把两根信号线为一组缠绕在一起,这样就是为了抑制噪音<ul><li>产生噪音的原因就是网线周围的电磁波,电磁波接触到导体时会在其中产生电流,干扰原有的电流<br><img src="/images/HowNetworksWorks/72.png" alt></li></ul></li><li><p>影响网线的电磁波分为两种</p><ul><li>一种是电机、荧光灯、CRT显示器等设备泄露出来的电磁波,这类电磁波来自网线外部</li><li>另一种是是从网线相邻的信号线泄露出来的,这类内部产生的噪音称为串扰<br><img src="/images/HowNetworksWorks/73.png" alt></li></ul></li><li><p>除了用“双绞”的方式外,在信号线之间加入隔板距离以及在外面包裹可阻挡电磁波的金属屏蔽网等也可以抑制信号干扰</p></li><li>网线的性能是以“类”来区分的<br><img src="/images/HowNetworksWorks/74.png" alt></li></ul><ul><li>当信号到达集线器后,会被广播到整个网络中<ul><li>以太网的基本架构就是将包发到所有的设备</li><li>然后由设备根据接收方 MAC 地址来判断应该接收哪些包,</li><li>而集线器就是这一架构的忠实体现,它就是负责按照以太网的基本架构将信号广播出去<br><img src="/images/HowNetworksWorks/75.png" alt></li></ul></li></ul><h3 id="交换机的包转发操作"><a href="#交换机的包转发操作" class="headerlink" title="交换机的包转发操作"></a>交换机的包转发操作</h3><h4 id="交换机根据地址表进行转发"><a href="#交换机根据地址表进行转发" class="headerlink" title="交换机根据地址表进行转发"></a>交换机根据地址表进行转发</h4><p><img src="/images/HowNetworksWorks/76.png" alt></p><ul><li>信号到网线接口,由PHY模块接收,转换成数字信号,校验包末尾的FCS,无误则存放到缓冲区</li><li>交换机一个端口可以当作一个网卡,但是交换机端口不具有MAC地址</li><li>存到缓冲区之后,就会查询这个包的接受方地址是否在MAC地址表中<ul><li>该MAC地址表与端口一一对应,就能判断出包该转发到哪个端口</li></ul></li></ul><h4 id="MAC-地址表的维护"><a href="#MAC-地址表的维护" class="headerlink" title="MAC 地址表的维护"></a>MAC 地址表的维护</h4><ul><li>交换机在转发包的过程中,还需要对MAC地址表内容进行维护</li><li>维护分两种<ul><li>一种是记住每个发送方的MAC地址以及输出端口的号码,这样以后每次有一样的情况就可以重复执行</li><li>另一种是删除地址表中的某条记录,防止发送端的设备移动了,地址表信息造成错误,因此地址表也会在一段时间不使用后删除</li><li>重启交换机可立刻清空并更新地址表的记录<ul><li>在地址表错误的情况下又发送包,造成通信错误的情况下可重启交换机<h4 id="特殊情况"><a href="#特殊情况" class="headerlink" title="特殊情况"></a>特殊情况</h4></li></ul></li></ul></li></ul><p><img src="/images/HowNetworksWorks/77.png" alt></p><ul><li>交换机查询地址表之后发现记录中的目标端口和这个包的源端口是同一个端口<ul><li>当像上图这样用集线器和交换机连接在一起时就会遇到这样的情况</li><li>首先,计算机 A 发送的包到达集线器后会被集线器转发到所有端口上,也就是会到达交换机和计算机 B</li><li>这时,交换机转发这个包之后,这个包会原路返回集线器</li><li>然后,集线器又把包转发到所有端口,于是这个包又到达了计算机 A 和计算机 B</li><li>所以计算机 B 就会收到两个相同的包,这会导致无法正常通信</li><li>因此,当交换机发现一个包要发回到原端口时,就会直接丢弃这个包</li></ul></li><li>地址表中找不到指定的MAC地址<ul><li>这可能是因为具有该地址的设备还没有向交换机发送过包,或者这个设备一段时间没有工作导致地址被从地址表中删除了</li><li>这种情况下,交换机无法判断应该把包转发到哪个端口,只能将包转发到除了源端口之外的所有端口上</li><li>无论该设备连接在哪个端口上都能收到这个包</li><li>这样做不会产生什么问题,因为以太网的设计本来就是将包发送到整个网络的,然后只有相应的接收者才接收包,而其他设备则会忽略这个包</li></ul></li></ul><h4 id="全双工模式可以同时进行发送和接收"><a href="#全双工模式可以同时进行发送和接收" class="headerlink" title="全双工模式可以同时进行发送和接收"></a>全双工模式可以同时进行发送和接收</h4><ul><li>全双工模式是交换机特有的工作模式,它可以同时进行发送和接收操作,集线器不具备这样的特性</li><li>使用集线器时,如果多台计算机同时发送信号,信号就会在集线器内部混杂在一起,进而无法使用<ul><li>这种现象称为碰撞,是以太网的一个重要特征</li><li>不过,只要不用集线器,就不会发生碰撞</li></ul></li><li>使用双绞线时,发送和接收的信号线是各自独立的<ul><li>如果不存在碰撞,也就不需要半双工模式中的碰撞处理机制了</li><li>也就是说,发送和接收可以同时进行</li><li>然而,以太网规范中规定了在网络中有信号时要等该信号结束后再发送信号,因此发送和接收还是无法同时进行</li><li>于是,人们对以太网规范进行了修订,增加了一个无论网络中有没有信号都可以发送信号的工作模式,同时规定在这一工作模式下停用碰撞检测,这种工作模式就是全双工模式</li><li>在全双工模式下,无需等待其他信号结束就可以发送信号,因此它比半双工模式速度要快</li><li>由于双方可以同时发送数据,所以可同时传输的数据量也更大,性能也就更高</li></ul></li></ul><h4 id="自动协商-确定最优传输速率"><a href="#自动协商-确定最优传输速率" class="headerlink" title="自动协商:确定最优传输速率"></a>自动协商:确定最优传输速率</h4><ul><li>随着全双工模式的出现,如何在全双工和半双工模式之间进行切换的问题也产生了</li></ul><p><img src="/images/HowNetworksWorks/78.png" alt></p><ul><li>在全双工模式出现的时候,需要手动切换模式</li><li>后来出现了自动切换模式的模式,可以由相互连接双方检测对方是否支持全双工模式,并自动切换成对应的工作模式<ul><li>此外,还能探测对方的传输速率进行自动切换,这种自动切换称为自动协商</li></ul></li><li><p>在以太网中,当没有数据在传输时,就会填充一种叫做连接脉冲的脉冲信号</p><ul><li>使得网络中一致保持一定的信号流过,从而能够检测对方是否在正常工作,或者说网线有没有正常连接</li><li>以太网设备的网线接口周围有个绿色指示灯,表示是否检测到正常的脉冲信号<ul><li>灯亮,说明PHY模块以及网线正常<br><img src="/images/HowNetworksWorks/79.png" alt></li></ul></li></ul></li><li><p>后来,人们又设计出了上图具有特定排列的脉冲信号,通过这种信号可以将自身的状态告知对方</p><ul><li>自动协商就利用了这样的脉冲信号,将自己能够支持的工作模式和传输速率相互告知对方,并从中选择一个最优的组合</li></ul></li></ul><p><img src="/images/HowNetworksWorks/80.png" alt></p><ul><li>假设现在连接双方的情况如上表所示<ul><li>网卡一方支持所有的速率和工作模式,而交换机只支持到 100 Mbit/s 全双工模式</li><li>当两台设备通电并完成硬件初始化之后,就会开始用脉冲信号发送自己支持的速率和工作模式</li><li>当对方收到信号之后,会通过读取脉冲信号的排列来判断对方支持的模式,然后看看双方都支持的模式有哪些</li><li>表是按照优先级排序的,因此双方都支持的模式就是第 3 行及以下的部分</li><li>越往上优先级越高,因此在本例中 100 Mbit/s 全双工模式就是最优组合</li><li>于是双方就会以这个模式开始工作</li></ul></li></ul><h4 id="交换机可以同时执行多个转发操作"><a href="#交换机可以同时执行多个转发操作" class="headerlink" title="交换机可以同时执行多个转发操作"></a>交换机可以同时执行多个转发操作</h4><p><img src="/images/HowNetworksWorks/76.png" alt></p><ul><li>交换机只将包转发到具有特定 MAC 地址的设备连接的端口,其他端口都是空闲的<ul><li>如图,当包从最上面的端口发送到最下面的端口时,其他端口都处于空闲状态,这些端口可以传输其他的包,</li><li>因此交换机可以同时转发多个包</li></ul></li><li>相对地,集线器会将输入的信号广播到所有的端口<ul><li>如果同时输入多个信号就会发生碰撞,无法同时传输多路信号</li><li>因此从设备整体的转发能力来看,交换机要高于集线器</li></ul></li></ul><h3 id="路由器的包转发操作"><a href="#路由器的包转发操作" class="headerlink" title="路由器的包转发操作"></a>路由器的包转发操作</h3><h4 id="路由器的基本结构"><a href="#路由器的基本结构" class="headerlink" title="路由器的基本结构"></a>路由器的基本结构</h4><ul><li>路由器也是通过查表判断包转发的目标的,工作原理和交换机类似</li><li>不过路由器是基于IP设计的,交换机是基于以太网设计的</li></ul><p><img src="/images/HowNetworksWorks/81.png" alt></p><ul><li><p>转发模块负责判断包的转发目的地,端口模块负责包的收发操作</p><ul><li>换句话说,路由器转发模块和端口模块的关系,就相当于协议栈的 IP 模块和网卡之间的关系</li><li>因此,可以将路由器的转发模块想象成 IP 模块,将端口模块想象成网卡</li><li>通过更换网卡,计算机不仅可以支持以太网,也可以支持无线局域网,路由器也是一样</li><li>如果路由器的端口模块安装了支持无线局域网的硬件,就可以支持无线局域网了</li><li>此外,计算机的网卡除了以太网和无线局域网之外很少见到支持其他通信技术的品种</li><li>而路由器的端口模块则支持除局域网之外的多种通信技术,如ADSL、FTTH,以及各种宽带专线等,只要端口模块安装了支持这些技术的硬件即可</li></ul></li><li><p>端口模块是以实际的发送方或接受方的身份来执行包收发操作的</p><ul><li>意味着路由器的各个端口都具有MAC地址和IP地址</li><li>而交换机只是将进来的包转发出去而已,它自己并不会称为发送方或者接受方</li></ul></li></ul><h4 id="路由表中的信息"><a href="#路由表中的信息" class="headerlink" title="路由表中的信息"></a>路由表中的信息</h4><ul><li>交换机是通过MAC头部中的接受方MAC地址来判断转发目标的,而路由器是根据IP头部中的IP地址来判断的</li></ul><p><img src="/images/HowNetworksWorks/82.png" alt></p><ul><li>路由器会忽略主机号,只匹配网络号</li></ul><p><img src="/images/HowNetworksWorks/83.png" alt></p><h4 id="路由器的包收发操作"><a href="#路由器的包收发操作" class="headerlink" title="路由器的包收发操作"></a>路由器的包收发操作</h4><ul><li>首先,信号到达网线接口部分,其中的 PHY（MAU）模块和 MAC 模块将信号转换为数字信息</li><li>然后通过包末尾的 FCS 进行错误校验,</li><li>如果没问题则检查 MAC 头部中的接收方 MAC 地址,</li><li>看看是不是发给自己的包,如果是就放到接收缓冲区中,否则就丢弃这个包</li><li>如果包的接收方 MAC地址不是自己,说明这个包是发给其他设备的,如果接收这个包就违反了以太网的规则</li></ul><p><img src="/images/HowNetworksWorks/84.png" alt></p><h4 id="查询路由表确定输出端口"><a href="#查询路由表确定输出端口" class="headerlink" title="查询路由表确定输出端口"></a>查询路由表确定输出端口</h4><ul><li>路由器接收到包之后,就会丢弃包开头的MAC头部<ul><li>因为这个包的MAC头部就是为了将包送达路由器,之后就没作用了,自然被丢弃<br><img src="/images/HowNetworksWorks/85.png" alt></li></ul></li><li>然后就根据MAC头部后方的IP头部中的内容判断转发操作</li><li>查询路由表判断转发目标,根据包的接受方IP查询路由表中的目标栏,找到相匹配的记录</li><li>如果路由表中无法找到匹配的记录,则会丢弃这个包,通过ICMP消息告知发送方<ul><li>这里和交换机不一样,交换机连接的的网络最多也就几千台设备的规模,交换机找不到匹配的记录的时候,会发送到所有端口</li><li>但是路由器的工作设备都在互联网上,规模还在持续扩大,因此为了不造成网络拥塞,只能将匹配不到对应记录的包丢弃</li></ul></li></ul><h4 id="找不到匹配路由时选择默认路由"><a href="#找不到匹配路由时选择默认路由" class="headerlink" title="找不到匹配路由时选择默认路由"></a>找不到匹配路由时选择默认路由</h4><ul><li><p>互联网中那么多转发目标,不可能都配置在路由器中</p><ul><li>关键就在于把子网掩码设置为 0.0.0.0 <ul><li>这样无论任何地址都能匹配到这条记录,就不会发生匹配不到的记录了</li></ul></li><li>这个配置的网关地址被称为默认网关,和在计算机里面设置TCP.IP填的默认网关一样<br><img src="/images/HowNetworksWorks/86.png" alt></li></ul></li><li><p>这样一来就可以层层追溯查找出转发目标</p></li></ul><h4 id="包的有效期"><a href="#包的有效期" class="headerlink" title="包的有效期"></a>包的有效期</h4><ul><li>找到转发目标后,还会更新IP头部中的TTL(Time to live)</li><li>TTL表示了包的有效期,包每经过一个路由器的时候,这个值就会减1,当这个值为0的时候,就会被丢弃</li><li>这个机制是为了包在一个地方进入死循环<ul><li>发生死循环的情况在于路由表配置信息有误,或者网络故障</li></ul></li><li>发送方在发送包时会将 TTL 设为 64 或 128,也就是说包经过这么多路由器后就会“寿终正寝”</li><li>现在的互联网即便访问一台位于地球另一侧的服务器,最多也只需要经过几十个路由器,因此只要包被正确转发,就可以在过期之前到达目的地</li></ul><h4 id="通过分片功能拆分大网络包"><a href="#通过分片功能拆分大网络包" class="headerlink" title="通过分片功能拆分大网络包"></a>通过分片功能拆分大网络包</h4><ul><li>路由器的端口并不只有以太网一种,也可以支持其他局域网或专线通信技术</li><li><p>由于不同线路的输出输入端口的最大包长度不同,所以为了避免数据包受影响,而采用IP协议中的分片功能对包进行拆分</p><ul><li>这里和TCP拆分的机制不同<ul><li>TCP是将拆好的数据块正好装进一个包里</li><li>从IP角度来看,这个包还是一个未拆分的整体</li></ul></li><li>IP分辨是对一个完整的包再拆分的过程<br><img src="/images/HowNetworksWorks/87.png" alt></li></ul></li><li><p>MTU:包能传输的最大数据长度</p></li><li>首先查看IP头部的标志字段,确认是否可以分片（一般都是可以的,除非发送方设置了不允许,或者这个包已经被分片过了）</li><li><p>如果不能分片,只能丢弃,并通过ICMP消息通知发送方</p></li><li><p>在分片中,TCP以及后面的数据都是可以分片的,从IP角度来看,TCP的请求数据也是网络包数据的一部分</p></li><li>然后就会在每个分片加上IP头部,MAC头部</li></ul><h4 id="路由器的发送操作和计算机相同"><a href="#路由器的发送操作和计算机相同" class="headerlink" title="路由器的发送操作和计算机相同"></a>路由器的发送操作和计算机相同</h4><ul><li>准备工作完成就会进入包的发送操作<ul><li>将包转换成什么信号,取决于输出端口的类型,以太网则是电信号<br><img src="/images/HowNetworksWorks/88.png" alt></li></ul></li></ul><h4 id="路由器和交换机的关系"><a href="#路由器和交换机的关系" class="headerlink" title="路由器和交换机的关系"></a>路由器和交换机的关系</h4><p><img src="/images/HowNetworksWorks/89.png" alt></p><ul><li>路由器在转发网络包的时候,都要在包的头部加上MAC头部<ul><li>准确说,应该是将IP网络包装进以太网包的数据部分</li><li>委托以太网去传输这些数据</li></ul></li><li>IP协议本身没有传输包的功能,包的实际传输要委托以太网来执行</li><li>路由器是基于IP设计的,交换机是基于以太网设计的<ul><li>IP与以太网的关系,也就是路由器与交换机的关系</li></ul></li><li>当然上面的基本理论只适用于“纯粹”的路由器和交换机</li><li><p>目前的路由器都内置有交换机功能了,但是底层本质还是不变</p></li><li><p>从包的转发目标也可以看出路由器和交换机之间的委托关系。IP 并不是委托以太网将包传输到最终目的地,而是传输到下一个路由器。在创建MAC 头部时,也是从 IP 的路由表中查找出下一个路由器的 IP 地址,并通过 ARP 查询出 MAC 地址,然后将 MAC 地址写入 MAC 头部中的,这表示 IP 对以太网的委托只是将包传输到下一个路由器就行了。当包到达下一个路由器后,下一个路由器又会重新委托以太网将包传输到再下一个路由器。随着这一过程反复执行,包就会最终到达 IP 的目的地,也就是通信的对象</p></li></ul><p><img src="/images/HowNetworksWorks/90.png" alt></p><h3 id="路由器的附加功能"><a href="#路由器的附加功能" class="headerlink" title="路由器的附加功能"></a>路由器的附加功能</h3><ul><li>地址转换、包过滤</li><li>最初的互联网没有内外网区分,所有客户端都是直接连接到互联网的,并每台设备都能够分配到属于自己的IP地址</li><li>后来设备越来越多,为了解决这个问题才有了内外网的概念</li></ul><p><img src="/images/HowNetworksWorks/91.png" alt></p><ul><li>内网地址-私有地址;外网地址-公有地址</li><li>内网可用的私有地址<ul><li>10.0.0.0 ~ 10.255.255.255</li><li>172.16.0.0 ~ 172.31.255.255</li><li>192.168.0.0 ~ 192.168.255.255</li></ul></li><li>为什么上面这些地址用作私有地址,其实在制定私有地址的时候,上面那些地址属于公有地址中还没被分配的范围而已</li><li>这样就解决了内外网分配不足的问题,但是两个内网想要通过互联网通信并且私有地址又相同怎么办<ul><li>这样的情况就需要用到了路由器的地址转换功能</li></ul></li></ul><h4 id="地址转换的原理"><a href="#地址转换的原理" class="headerlink" title="地址转换的原理"></a>地址转换的原理</h4><ul><li>地址转换的基本原理是在转发网络包时对IP头部中的IP地址和端口号进行改写</li><li>具备地址转换功能的设备不仅有路由器,有些防火墙也有地址转换功能</li></ul><p><img src="/images/HowNetworksWorks/92.png" alt></p><h4 id="改写端口号的原因"><a href="#改写端口号的原因" class="headerlink" title="改写端口号的原因"></a>改写端口号的原因</h4><ul><li>现在的地址转换机制是同时改写地址和端口号,但是早期的地址转换只是改写地址<ul><li>但是这种方法的前提是私有地址和公有地址一一对应</li><li>需求数量多起来共有地址就不够用了,因此也要改写端口号</li><li>端口号是一个16bit的数值,可用分配出几万个端口,就完全够用了</li></ul></li></ul><h4 id="从互联网访问公司内网"><a href="#从互联网访问公司内网" class="headerlink" title="从互联网访问公司内网"></a>从互联网访问公司内网</h4><ul><li>没有在访问互联网的内网设备,是无法从互联网想起发起网络包的</li><li>因为从内网去访问外网的时候,用来改写的公有地址就是地址转换设备自身的地址,端口号随便选个空闲的就行</li><li>从外网去访问内网的话,因为在地址表中没有记录,意味着地址转换设备无法判断公网地址和内网地址的对应关系<br><img src="/images/HowNetworksWorks/93.png" alt></li><li>但是如果想要从外网去访问内网的话,需要手动添加对应的关系记录</li></ul><h4 id="路由器的包过滤功能"><a href="#路由器的包过滤功能" class="headerlink" title="路由器的包过滤功能"></a>路由器的包过滤功能</h4><ul><li>包过滤就是在对包进行转发时,根据MAC头部、IP头部、TCP头部的内容,按照事先设置好的规则决定是转发这个包,还是丢弃这个包<ul><li>防火墙等软件,大多数就利用这个机制来防止非法入侵的</li></ul></li></ul><h2 id="通过接入网进入互联网内部—接入网、网络运营商"><a href="#通过接入网进入互联网内部—接入网、网络运营商" class="headerlink" title="通过接入网进入互联网内部—接入网、网络运营商"></a>通过接入网进入互联网内部—接入网、网络运营商</h2><h3 id="ADSL-接入网的结构和工作方式"><a href="#ADSL-接入网的结构和工作方式" class="headerlink" title="ADSL 接入网的结构和工作方式"></a>ADSL 接入网的结构和工作方式</h3><p><img src="/images/HowNetworksWorks/94.png" alt></p><ul><li><p>接入网,是之连接互联网与家庭、公司网络的通信线路</p><ul><li>接入网这个词表示的是通信线路的用法,而不是表示通信线路的结构<ul><li>公司里使用的专线,当它用来连接互联网的时候叫做接入网;而用来连接总公司和分公司的时候就不叫接入网</li><li>这个词不局限于互联网,运营商提高通信服务时,将用户和运营商之间的线路叫做接入网</li></ul></li></ul></li><li><p>互联网接入路由器是按照入网规则来发送网络包的</p></li><li><p>一般加用接入网方式:ADSL、FFTH、电话线、ISDN等</p><ul><li>ADSL:Asymmetric Digital Subscriber Line 不对称数字用户线<ul><li>它是一种利用架设在电线杆上的金属电话线来通信的技术、上行与下行的通信速率不对称</li><li>上行:用户到互联网（上传）;下行:互联网到用户（下载）</li></ul></li><li>FTTH:Fiber TO The Home 光纤入户</li></ul></li></ul><h4 id="ADSL-Modem-工作方式"><a href="#ADSL-Modem-工作方式" class="headerlink" title="ADSL Modem 工作方式"></a>ADSL Modem 工作方式</h4><p><img src="/images/HowNetworksWorks/95.png" alt></p><ul><li>上图中的网络包是从右向左传输的</li></ul><p><img src="/images/HowNetworksWorks/96.png" alt></p><ul><li><p>网络包从用户传输到运营商的过程中,会变换几种不同的形态:</p></li><li><p>客户端生成的网络包 1、2,先经过集线器和交换机到达互联网接入路由器 3</p></li><li>互联网接入路由器从以太网包中取出IP包并判断转发目标 4</li><li>然后根据互联网接入路由器和ADSL Modem之间的以太网规则添加头部信息 5</li></ul><p><img src="/images/HowNetworksWorks/97.png" alt></p><ul><li>ADSL Modem 接收到网络包 6 ,然后拆分成信元 7 <ul><li>信元是一个非常小的数据库,开头是有5个字节的头部,后面是48字节的数据,用于一种叫做ATM的通信技术（Asynchronous Transfer Mode 异步传输）</li></ul></li><li><p>将信元转换成电信号 8 （将数字信号转换成模拟信号）</p><ul><li>以太网采用的是方波信号表示0和1的方式,而ADSL采用圆滑波形（正弦波）来表示0和1的技术,称为 调制</li><li><p>调制有很多方式,ADSL 采用的调制方式是振幅调制（ASK）和相位调制（PSK）相结合的正交振幅调制（QAM）方式</p><p>  <img src="/images/HowNetworksWorks/98.png" alt></p><ul><li>振幅调制是用信号的强弱,也就是信号振幅的大小来对应 0 和 1 的方式</li><li>如图,振幅小的信号为 0,振幅大的信号为 1,这是一种最简单的对应关系。在这个例子中,振幅大小只有两个级别,如果增加振幅变化的级别,就可以对应更多的比特</li><li>例如,如果将振幅增加到 4 个级别,则振幅从小到大可分别对应 00、01、10 和 11,这样就可以表示两个比特了</li><li>这样做可以将单位时间内传输的数据量加倍,也就能够提高速率。以此类推,如果振幅有 8 个级别,就可以表示 3 个比特,16 个级别就可以表示 4 个比特,速率也就越来越高</li><li>不过,信号会在传输过程中发生衰减,也会受到噪声影响而失真,如果振幅级别太多,接收方对信号的识别就容易出错,因此振幅级别也不能太多<br><img src="/images/HowNetworksWorks/99.png" alt></li><li>组成要素是相位调制,这是一种根据信号的相位来对应 0 和 1的方式</li><li>Modem 产生的信号是以一定周期振动的波,如图所示,振动的起始位置不同,波的形状也就不同</li><li>如果将波的一个振动周期理解为一个圆,则起始位置就可以用 0 度到 360 度的角度来表示,这个角度就是相位,用角度来对应 0 和 1 的方式就叫作相位调制</li><li>例如,从 0 度开始的波为 0,从 180 度开始的波为 1,这是一种最简单的对应关系,如图所示</li><li>和振幅调制一样,相位调制也可以通过将角度划分为更细的级别来增加对应的比特数量,从而提高速率</li><li>但是,角度太接近的时候也容易产生误判,因此这样提升速率还是有限度的</li></ul></li><li>ADSL 使用的正交振幅调制就是将前面这两种方式组合起来实现的<ul><li>正交振幅调制中,通过增加振幅和相位的级别,就可以增加能表示的比特数</li><li>例如,如果振幅和相位各自都有 4 个级别,那么组合起来就有 16个级别,也就可以表示 4 个比特的值</li><li>当然,和单独使用振幅调制或相位调制的情况一样,级别过多就容易发生误判,因此这种方法提升的速率是有限度的    </li></ul></li><li>实际上信号不一定要限制在一个频率<ul><li>不同频率的波可以合成,也可以用滤波器从合成的波中分离出某个特定频率的波</li><li>因此,我们可以使用多个频率合成的波来传输信号,这样一来,能够表示的比特数就可以成倍提高了</li></ul></li><li>ADSL 就是利用了这一性质,通过多个波增加能表示的比特数来提高速率的<br>  <img src="/images/HowNetworksWorks/100.png" alt></li><li><p>ADSL 技术中,上行方向（用户到互联网）和下行方向（互联网到用户）的传输速率是不同的,原因也在这里</p><ul><li>如果上行使用 26 个频段,下行则可以使用 95 个或者 223 个频段,波的数量不同,导致了上下行速率不同</li></ul></li><li><p>ADSL Modem 将信元转换为电信号之后,信号会进入一个叫作分离器的设备,然后 ADSL 信号会和电话的语音信号混合起来一起从电话线传输出去</p><ul><li>在信号从用户端发送出去时,电话和 ADSL 信号只是同时流到一条线路上而已,分离器实际上并没有做什么事</li></ul></li><li>分离器的作用其实在相反的方向,也就是信号从电话线传入的时候;这时,分离器需要负责将电话和 ADSL 的信号进行分离<ul><li>电话线传入的信号是电话的语音信号和 ADSL 信号混合在一起的,如果这个混合信号直接进入电话机,ADSL 信号就会变成噪音,导致电话难以听清</li><li>为了避免这样的问题,就需要通过分离器将传入的信号分离,以确保 ADSL信号不会传入电话机</li><li>具体来说,分离器的功能是将一定频率以上的信号过滤掉,也就是过滤掉了 ADSL 使用的高频信号,这样一来,只有电话信号才会传入电话机,但对于另一头的 ADSL Modem,则是传输原本的混合信号给它</li><li>ADSL Modem 内部已经具备将 ADSL 频率外的信号过滤掉的功能,因此不需要在分离器进行过滤<br><img src="/images/HowNetworksWorks/101.png" alt></li></ul></li><li>从分离器出来后,就是电话线的接口,通过室内电话线到达大楼的中间配线盘和主配线盘<ul><li>这里将外面的电话线和室内的电话线连接起来</li></ul></li><li>通过配线盘后,信号达到保安器;保安器是为了防止雷电</li><li>然后信号进入电线杆上架设的电话电缆<br><img src="/images/HowNetworksWorks/102.png" alt></li><li>然后沿着电线杆侧面的金属管进入地下,电话局附近的地下都是电缆<br><img src="/images/HowNetworksWorks/103.png" alt></li></ul></li><li>信号要通过电话线到达电话局之后,会经过配线盘、分离器到达 DSLAM 9 （DSL Access Multiplexer 数字用户接入复用设备）<ul><li>DSLAM 它是一种电话局用的多路ADSL Modem ,可用理解为多个ADSL Modem整合在一个外壳里的设备</li></ul></li></ul><p><img src="/images/HowNetworksWorks/96.png" alt></p><ul><li>然后电信号会被还原成数字信息——信元 10</li><li>接着到达 BAS 的包转发设备 11 ,在这里将 ATM 信元还原成原始的包 12</li><li>然后 BAS 取出数据 13 ;MAC 头部和 PPPoE 头部的作用是将包送达到 BAS ,完成任务后被丢弃</li><li>紧接着,在包前面加上隧道专用头部 14,并发送到隧道的出口 </li><li>网络包达到隧道出口的隧道专用路由器 15,在这里丢弃掉隧道专用头部并取出 IP 包 16</li><li>最后转发到互联网内部 17</li></ul><h3 id="光纤接入网（FTTH）"><a href="#光纤接入网（FTTH）" class="headerlink" title="光纤接入网（FTTH）"></a>光纤接入网（FTTH）</h3><h4 id="光纤的基本结构"><a href="#光纤的基本结构" class="headerlink" title="光纤的基本结构"></a>光纤的基本结构</h4><p><img src="/images/HowNetworksWorks/104.png" alt></p><ul><li>它由一种双层结构的纤维状透明材质（玻璃和塑料）构成,通过在里面的纤芯中传导光信号来传输数字信息,亮表示1,暗表示0</li></ul><p><img src="/images/HowNetworksWorks/105.png" alt></p><ul><li>先将数字信息转换成电信号,再将电信号转换成光信号<ul><li>电信号,1用高电压表示,0用低电压表示</li><li>这些光源就会根据信号电压的变化发光,高电压发光亮,低电压发光暗</li><li>这样的光信号在光纤中传导之后,就可以通过光纤到达接收端</li><li>接收端有可以感应光线的光敏元件,光敏元件可以根据光的亮度产生不同的电压</li><li>当光信号照射到上面时,光亮的时候就产生高电压,光暗的时候就产生低电压,这样就将光信号转换成了电信号</li><li>最后再将电信号转换成数字信息,我们就接收到数据了</li></ul></li></ul><h4 id="单模和多模"><a href="#单模和多模" class="headerlink" title="单模和多模"></a>单模和多模</h4><ul><li><p>光纤通信的关键技术就是能够传导光信号的光纤<br><img src="/images/HowNetworksWorks/106.png" alt></p></li><li><p>光源在所有方向上都会发光,因此会有各种角度的光线进入纤芯,但入射角度太大的光线会在纤芯和包层（纤芯外沿部分）的边界上折射出去,只有入射角较小的光线会被包层全反射,从而在纤芯中前进</p></li><li><p>也不是所有入射角小的光线都会在纤芯中传导</p><ul><li>光也是一种波,当光线在纤芯和包层的边界上反射时,会由于反射角产生相位变化</li><li>当朝反射面前进的光线和被反射回来的光线交会时,如果两条光线的相位不一致,就会彼此发生干涉抵消,只有那些相位一致的光线才会继续在光纤中传导<br><img src="/images/HowNetworksWorks/107.png" alt></li></ul></li></ul><p><img src="/images/HowNetworksWorks/108.png" alt></p><ul><li><p>大多数角度都会因为相位不同而被干涉抵消,只有少数按照特定角度入射以保持一致的光纤才会继续传导</p></li><li><p>根据纤芯直径,光纤可以划分成几种类型,大体上包括较细的单模光纤（8～10 μm）和较粗的多模光纤（50 μm 或 62.5 μm）</p><ul><li><p>单模光纤的纤芯很细,只有入射角很小的光线才能进,因此在能够保持相位一致的角度中,只有角度最小的光线能进入光纤</p><ul><li>单模光纤的纤芯直径就是按照只允许相位一致的最小角度的光进入而设计的</li></ul></li><li><p>多模光纤的纤芯比较粗,入射角比较大的光也可以进入,这样一来,在相位一致的角度中,不仅角度最小的可以在光纤中传导,其他角度更大一些的也可以,也就是说,可以有多条光线在纤芯中同时传导</p></li></ul></li><li><p>单模和多模实际上表示相位一致的角度有一个还是多个<br>  <img src="/images/HowNetworksWorks/109.png" alt>   </p></li><li><p>单模光纤和多模光纤在光的传导方式上有所不同,这决定了它们的特性也有所不同</p><ul><li>多模光纤中可以传导多条光线,这意味着能通过的光线较多,对光源和光敏元件的性能要求也就较低,从而可以降低光源和光敏元件的价格</li><li>相对地,单模光纤的纤芯中只能传导一条光线,能通过的光线较少,相应地对于光源和光敏元件的性能要求就较高,但信号的失真会比较小</li></ul></li><li><p>信号失真与光在纤芯传导时反射的次数相关</p><ul><li>多模光纤中,多条反射角不同的光线同时传导,其中反射角越大的光线反射次数越多,走过的距离也就越长;</li><li>相对地,反射角越小的光线走过的距离越短。光通过的距离会影响其到达接收端的时间,也就是说,通过的距离越长,到达接收端的时间越长</li><li>结果,多条光线到达的时间不同,信号的宽度就会被拉伸,这就造成了失真</li><li>因此,光纤越长,失真越大,当超过允许范围时,通信就会出错<br><img src="/images/HowNetworksWorks/110.png" alt></li></ul></li><li>相对地,单模光纤则不会出现这样的问题。因为在纤芯传导的光线只有一条,不会因为行进距离的差异产生时间差,所以即便光纤很长,也不会产生严重的失真</li><li>光纤的最大长度也是由上述性质决定的。单模光纤的失真小,可以比多模光纤更长</li><li>因此多模光纤主要用于一座建筑物里面的连接,单模光纤则用于距离较远的建筑物之间的连接</li><li>FTTH 属于后者,因此主要使用单模光纤</li></ul><h4 id="通过光纤分路来降低成本"><a href="#通过光纤分路来降低成本" class="headerlink" title="通过光纤分路来降低成本"></a>通过光纤分路来降低成本</h4><p><img src="/images/HowNetworksWorks/111.png" alt></p><ul><li>用光纤来代替 ADSL 将用户端接入路由器和运营商的 BAS 连接起来的接入方式就是 FTTH ,从形态上可大致分为两种<ul><li>一种是用一根光纤直接从用户端连接到最近的电话局<ul><li>首先,用户端的光纤收发器将以太网的电信号转换成光信号</li><li>这一步只进行电信号到光信号的转换,而不会像 ADSL 一样还需要将包拆分成信元,将以太网包原原本本地转换成了光信号</li><li>接下来,光信号通过连接到光纤收发器的光纤直接到达 BAS 前面的多路光纤收发器</li><li>FTTH 一般使用单模光纤,因此其纤芯中只有特定角度的光信号能够反射并前进</li><li>然后,多路光纤收发器将光信号转换成电信号,BAS的端口接收之后,将包转发到互联网内部</li><li>把网络包发送到互联网之后,服务器会收到响应,响应包的光信号也是沿着同一条光纤传输到用户端</li><li>这里,前往互联网的上行光信号和前往用户的下行光信号在光纤中混合在一起,信号会变得无法识别</li><li>因此需要对它们进行区分,办法是上行和下行信号采用不同波长的光</li><li>波长不同的光混合后可通过棱镜原理进行分离,因此光纤中的上行和下行信号即便混合起来也可以识别</li><li>像这样在一条光纤中使用不同的波长传输多个光信号的方式叫作波分复用</li></ul></li><li>另一种光纤的接入方式是在用户附近的电线杆上安装一个名为分光器的设备,通过这个设备让光纤分路,同时连接多个用户<ul><li>在这种方式下,用户端不使用光纤收发器,而是使用一个叫作 ONU（Optical Network Unit 光网络单元） 的设备,它将以太网的电信号转换成光信号之后,会到达 BAS 前面的一个叫作 OLTC（Optical Line Terminal 光线路终端）的设备</li><li>信号的传导方式和刚才介绍的直连方式是一样的,但有一点不同,因为多个用户同时收发网络包时信号会在分光器产生碰撞</li><li>OLT 和 ONU 中具备通过调整信号收发时机来避免碰撞的功能<ul><li>OLT 会调整信号发送时机并向 ONU 下发指令,ONU 则根据 OLT 的指令来发送数据。反过来,当 BAS 端向用户发送数据时,分光器只需要将信号发给所有用户就可以了,这里并不会发生碰撞,但这样做会导致一个用户收到其他所有用户的信号,造成信息泄露的问题</li><li>因此需要在每个包前面加上用于识别 ONU 的信息,当 ONU 收到信号后,会接收发给自己的信号并将其转换成以太网信号</li></ul></li></ul></li></ul></li></ul><h3 id="接入网中使用-PPP-和隧道"><a href="#接入网中使用-PPP-和隧道" class="headerlink" title="接入网中使用 PPP 和隧道"></a>接入网中使用 PPP 和隧道</h3><h4 id="用户认证和配置下发"><a href="#用户认证和配置下发" class="headerlink" title="用户认证和配置下发"></a>用户认证和配置下发</h4><ul><li>用户发送的网络包会通过 ADSL 和 FTTH 等接入网达到运营商的 BAS</li><li>BAS 由接入网连接的路由器演变而来</li><li>ADSL 和 FFTH 接入网中,都需要用户认证和配置下发</li><li>BAS 使用 PPPoE(Point-to-Point Protocol over Ethernet 以太网的点对点协议) 方式来实现用户验证<ul><li>PPPoE 由传统的电话拨号上网使用的 PPP 协议发展而来的</li></ul></li></ul><p><img src="/images/HowNetworksWorks/112.png" alt></p><ul><li>关键在 2-3 的下发的 TCP/IP 配置信息<ul><li>在接入互联网的时候,必须为计算机分配一个公有地址,但这个地址并不是事先确定的</li><li>因为在拨号连接时,可以根据电话号码来改变接入点,而不同的接入点具有不同的 IP 地址,因此无法事先在计算机上设置这个地址</li><li>所以,在连接时运营商会向计算机下发 TCP/IP 配置信息,其中就包括为计算机分配的公有地址</li></ul></li></ul><h4 id="在以太网上传输-PPP-消息"><a href="#在以太网上传输-PPP-消息" class="headerlink" title="在以太网上传输 PPP 消息"></a>在以太网上传输 PPP 消息</h4><ul><li>ADSL 和 FTTH 接入方式也需要为计算机分配公有地址才能上网,这一点和拨号上网是相同的<ul><li>不过,ADSL 和 FTTH 中,用户和 BAS 之间是通过电缆或光纤固定连接在一起的,因此没有必要验证用户身份,所以实际上并不需要 PPP 的所有这些功能</li><li>然而,通过用户名和密码登录的步骤可以根据用户名来切换不同的运营商,这很方便 </li><li>因此,接入运营商在ADSL 和 FTTH 中一般也会使用 PPP</li></ul></li><li>传输 PPP 消息的思路和将 IP 包装入以太网包中传输的思路是一样的</li></ul><p><img src="/images/HowNetworksWorks/113.png" alt><br><img src="/images/HowNetworksWorks/114.png" alt></p><ul><li>PPPoE 是将 PPP 消息装入以太网包进行传输的方式</li></ul><h4 id="通过隧道将网络包发送给运营商"><a href="#通过隧道将网络包发送给运营商" class="headerlink" title="通过隧道将网络包发送给运营商"></a>通过隧道将网络包发送给运营商</h4><ul><li>BAS 除了作为用户认证的窗口之外,还可以使用隧道方式来传输网络包<ul><li>隧道就类似于套接字之间建立TCP连接一样</li></ul></li><li>无论任何机制,只要能够将包原封不动搬运到另一端,从原理上看就可以用来建立隧道<br><img src="/images/HowNetworksWorks/115.png" alt></li></ul><h4 id="接入网的整体工作过程"><a href="#接入网的整体工作过程" class="headerlink" title="接入网的整体工作过程"></a>接入网的整体工作过程</h4><ul><li>接入网的工作从用户端的互联网接入路由器进行连接操作开始<ul><li>首先接入路由器中需要设置运营商分配的用户名和密码</li><li>然后根据 PPPoE 的发现机制来寻找 BAS <ul><li>这个机制是 ARP 一样是基于广播来实现的<br><img src="/images/HowNetworksWorks/116.png" alt></li></ul></li></ul></li><li><p>然后进入用户认证和配置下发阶段</p><ul><li>重点在于如何将用户名和密码发送给 BAS<ul><li>有两种方式,一种是将密码加密的 CHAP（Challenge Handshake Authentication Protocol 挑战握手认证协议）</li><li>另一种是不加密的 PAP（Password Authentication Protocol 密码验证协议）</li></ul></li><li>第二个重点在,校验密码之后 BAS 如何向用户发 TCP/IP配置信息<ul><li>配置信息包括分配给上网设备的IP地址、DNS服务器的IP地址以及默认网关的IP地址<br><img src="/images/HowNetworksWorks/117.png" alt></li></ul></li></ul></li><li><p>接下来,接入网路由器判断转发目标后,按照PPPoE规则转发</p><ul><li>会在包前面加入MAC头部、PPPoE头部和PPP头部信息<br><img src="/images/HowNetworksWorks/118.png" alt></li><li>第一个 MAC 头部中,接收方 MAC 地址填写通过 PPPoE 发现机制查询到的BAS 的 MAC 地址,发送方 MAC 地址填写互联网接入路由器的 BAS 端的端口的 MAC 地址,然后以太类型填写代表 PPPoE 的 8864（十六进制）</li><li>接下来加入PPPoE头部和PPP头部,除了载荷长度以外都是可以事先确定的<ul><li>载荷长度就是需要传输的包的长度</li></ul></li></ul></li><li>接下来,网络包会到达 BAS,而 BAS 会将 MAC 头部和 PPPoE 头部去掉,取出 PPP 头部以及后面的部分,然后通过隧道机制将包发送出去</li><li>最后,PPP 包会沿隧道到达另一端的出口,也就是网络运营商的路由器</li></ul><h4 id="不分配-IP-地址的无编号端口"><a href="#不分配-IP-地址的无编号端口" class="headerlink" title="不分配 IP 地址的无编号端口"></a>不分配 IP 地址的无编号端口</h4><ul><li>一对一连接的端口可以不分配IP地址,这种方式称为无编号</li></ul><h4 id="互联网接入路由器将私有地址转换成公有地址"><a href="#互联网接入路由器将私有地址转换成公有地址" class="headerlink" title="互联网接入路由器将私有地址转换成公有地址"></a>互联网接入路由器将私有地址转换成公有地址</h4><ul><li>互联网接入路由器在转发包时需要进行地址转换</li><li>BAS 向用户下发 TCP/IP 配置信息,如果这些配置在计算机上,相当于计算机有了公有地址,就不需要地址转换</li><li>然后如果使用路由器上网,BAS下发的参数就会配置在路由器上,公有地址就分配给了路由器,计算机就没有公有地址了<ul><li>这是,计算机会被分配到一个私有地址,计算机发送的包需要通过路由器进行地址转换,然后再转发到互联网中</li></ul></li><li>有些应用程序需要将自己的IP告知通信对象,但因为地址转换这些操作无法完成<ul><li>但是目前由很多解决方案解决了这些问题</li><li>遇到这种情况,我们可以不适用路由器,而是让计算机直接接收来自 BAS 的 PPPoE 消息</li></ul></li></ul><h4 id="除-PPPoE-之外的其他方式"><a href="#除-PPPoE-之外的其他方式" class="headerlink" title="除 PPPoE 之外的其他方式"></a>除 PPPoE 之外的其他方式</h4><ul><li>PPPoA (Point-to-Point Protocol over ATM)</li><li>ADSL 使用PPPoE 方式时,是先将 PPP 消息装入以太网包中,然后再将以太网包拆分并装入信元,而 PPPoA 方式是直接将 PPP 消息装入信元</li><li>由于只是开头加不加 MAC 头部和 PPPoE 头部的区别,PPP 消息本身是没有区别的,因此密码校验、下发 TCP/IP 配置参数、收发数据包等过程都是和PPPoE 基本相同的</li><li>由于 PPPoA 没有 MAC 头部,所以 PPP 消息是无法通过以太网来传输的,这就意味着需要和 BAS 收发 PPP 消息的设备,也就是计算机和路由器,必须和 ADSL Modem 是一体的,否则 PPP 机制就无法工作了<ul><li>这个一体化的方式主要有以下两种</li><li>第一种是将计算机和 ADSL Modem 用 USB 接口连接起来,这样ADSL Modem 就和计算机成为一体了;不过,这种方式最终并没有普及</li><li>另一种方式是如图所示的,将 ADSL Modem 和路由器整合成一台设备。这种方式和 PPPoE 中使用路由器上网的方式基本没什么区别,因此得到了广泛的普及<ul><li>不过,当由于地址转换产生问题时,这种方式就不容易处理了,因为我们无法抛开路由器用计算机直接上网<br><img src="/images/HowNetworksWorks/119.png" alt></li></ul></li></ul></li><li>当然,PPPoA 和 PPPoE 相比也有一些优势<ul><li>PPPoE 方式中,需要添加 PPPoE 头部和 PPP 头部,这意味着 MTU 就相应变小了,这可能会降低网络的效率</li><li>而 PPPoA 不使用以太网包来传输 PPP 消息,因此不会发生 MTU 变小的问题</li></ul></li><li>PPPoE 会降低网络效率,PPPoA 也有 ADSL Modem 和路由器无法分离的限制,这两个问题其实都是由 PPP 引起的。因此,有一些运营商不使用 PPP,他们使用 DHCP 协议从 BAS 向用户端下发 TCP/IP 配置信息<ul><li>DHCP:Dynamic Host Configuration Protocol,动态主机配置协议</li><li>使用信元的 PPPoE 和 PPPoA 方式中,BAS 需要配备比较昂贵的 ATM 接口,因此不使用信元还可以控制成本</li><li>DHCP 经常用于通过公司网络向客户端计算机下发 TCP/IP 配置信息<ul><li>首先客户端请求配置信息,然后 DHCP服务器下发配置信息,非常简单,不需要像 PPP 那样需要多个步骤,也不需要验证用户名和密码</li><li>没有用户名和密码就意味着无法通过用户名来切换运营商网络,但这种方式也有优势,它可以单纯地直接传输以太网包,不需要添加额外的 PPP 头部,因此不会占用 MTU<br><img src="/images/HowNetworksWorks/120.png" alt> </li></ul></li></ul></li><li><p>此外,采用 DHCP 的运营商使用的 ADSL Modem 也和 PPPoE、PPPoA方式不同,这种 ADSL Modem 不使用信元,而是直接将以太网包调制成ADSL 信号,因此没有 ADSL Modem 和路由器无法分离的问题</p></li><li><p>还有一种 DHCP 方式,它不使用 PPP,而是将以太网包直接转,而是将以太网包直接转换成换成 ADSL</p></li><li>ADSL 信号发送给信号发送给 DSLAM</li></ul><h3 id="网络运营商的内部"><a href="#网络运营商的内部" class="headerlink" title="网络运营商的内部"></a>网络运营商的内部</h3><h3 id="POP-和-NOC"><a href="#POP-和-NOC" class="headerlink" title="POP 和 NOC"></a>POP 和 NOC</h3><p><img src="/images/HowNetworksWorks/121.png" alt></p><ul><li>POP:Point of Presense 接入点</li><li>现在网络包已经到达网络运营商的路由器,网络包会从这里进入互联网内部</li><li>互联网的实体是由多个运营商网络相互连接组成的</li><li>ADSL、FTTH等接入网是与用户签约的运营商设备相连接的,这些设备称为POP,互联网的入口就位于这里</li></ul><p><img src="/images/HowNetworksWorks/122.png" alt></p><ul><li>根据不同的接入网类型使用不同类型的路由器<ul><li>专线使用具备通信线路端口的一般路由器,因为专线不需要用户认证,配置下发等功能<ul><li>专线是固定连接线路,不需要进行身份认证,参数是根据传真、书面等方式下发后进行手动配置的,因此也不需要 PPP、DHCP 等机制;其实,这就是最古老的互联网接入方式</li></ul></li><li>电话/ISDN等拨号方式使用称作RAS的路由器,拨号接入需要对用户拨电话的动作进行应答<ul><li>RAS也具备身份认证、配置下发功能</li></ul></li><li>PPPoE 方式中,ADSL、FTTH 接入服务商会使用 BAS,运营商的路由器则与 BAS 相连<ul><li>PPoE 中的身份认证和配置下发操作由接入服务商的 BAS 来负责,运营商的路由器只负责对包进行转发,因此这里也是使用一般的路由器就可以了</li></ul></li><li>如果 ADSL 采用 PPPoA 方式接入,那么工作过程会有所不同,DSLAM 通过 ATM 交换机与 ADSL 的运营商的 BAS 相连,然后再连接到运营商的路由器<ul><li>用户端传输的信号先经过 ADSL Modem 拆分成 ATM 信元并进行调制,然后 DSLAM 将信号还原成信元,通过 ATM 交换机转发到 BAS,最后 BAS 将信元还原成网络包,再通过运营商的路由器转发到互联网内部</li></ul></li></ul></li></ul><ul><li>接入网部分,传输的网络包相对少,而线路数量很多,需要配置大量端口,因此端口多价格低的路由器适合用在此场景</li><li>运营商POP部分要处理大量的接入网传过来的网络包,这里需要分配转发性能和数据吞吐量高的路由器</li><li>NOC（Network Operation Center）是运营商的核心设备,从POP传过来的网络包会集中到这里,然后再转发到其他POP或者运营商</li></ul><h4 id="室外通信线路的连接"><a href="#室外通信线路的连接" class="headerlink" title="室外通信线路的连接"></a>室外通信线路的连接</h4><ul><li>POP和NOC遍布全国各地,规模有大有小,和平常的机房一样都是位于一幢建筑物中,但运营商的网络中需要传输大量的包,一般更多的是使用光纤</li><li>拥有光纤的运营商可以选择自己用光纤将NOC和POP直接连接起来</li><li>维护和修建光纤设施,需要不少费用,没有光纤的运营商就需要租借别人的光纤<ul><li>拥有光纤的公司一般会对外提供光纤租用服务</li><li>这样没有光纤的运营商页可以通过租用别人的光纤将相距较远的NOC和POP连接起来</li></ul></li></ul><h3 id="跨越网络运营商的网络包"><a href="#跨越网络运营商的网络包" class="headerlink" title="跨越网络运营商的网络包"></a>跨越网络运营商的网络包</h3><h4 id="运营商之间的路由器信息交换"><a href="#运营商之间的路由器信息交换" class="headerlink" title="运营商之间的路由器信息交换"></a>运营商之间的路由器信息交换</h4><ul><li>如果路由表中没有相应的路由信息,路由器就无法对包进行转发,因此仅仅用线路将路由器连起来,还是无法完成包转发的</li><li>运营商之间可以交换路由信息,让相连接的路由器告知路由信息</li><li><p>获得对方的路由信息之后,我们也需要将自身的路由信息告知对方。这样一来,对方也可以将发往我们所在子网的包转发过来。这个路由信息交换的过程是由路由器自动完成的,这里使用的机制称为 BGP（Border Gateway Protocol 边界网关协议）<br><img src="/images/HowNetworksWorks/123.png" alt></p></li><li><p>根据所告知的路由信息的内容,这种路由交换可分为两类</p><ul><li>一类是将互联网中的路由全部告知对方。<ul><li>如图,如果运营商 D 将互联网上所有路由都告知运营商 E</li><li>则运营商 E 不但可以访问运营商 D,还可以访问运营商 D 后面的运营商 B、A 和 C</li><li>然后,通过运营商 D 就可以向所有的运营商发送包</li><li>像这样,通过运营商 D 来发送网络包的方式称为 转接</li></ul></li><li>另一种类型是两个运营商之间仅将与各自网络相关的路由信息告知对方<ul><li>这样,只有双方之间的网络可以互相收发网络包,这种方式称为非转接,也叫对等</li></ul></li></ul></li></ul><p><img src="/images/HowNetworksWorks/124.png" alt></p><h4 id="与公司网络中自动更新路由表机制的区别"><a href="#与公司网络中自动更新路由表机制的区别" class="headerlink" title="与公司网络中自动更新路由表机制的区别"></a>与公司网络中自动更新路由表机制的区别</h4><ul><li>路由器之间相互交换信息自动更新路由表的方式在公司网络中也会用到,不过公司内部和运营商之间在路由交换方式上是有区别的<ul><li>公司中使用的方式是寻找与目的地之间的最短路由,并按照最短路由来转发包,因此,周围的所有路由器都是平等对待的</li><li>公司内部采用这样的方式没问题,但运营商之间就不行了</li><li>假设某个运营商拥有一条连接日本和美国的高速线路,那么要访问美国的地址时,可能这条线路是最短路由</li><li>如果单纯采用最短路由的方式,那么其他运营商的包就都会走这条线路,这时,该运营商需要向其他运营商收取相应的费用,否则就成义务劳动了<ul><li>同时页无法区分哪些运营商有无付费,也无法阻止没付费的运营商使用这条线路</li></ul></li><li>因此,互联网中不能单纯的采用最短路由</li></ul></li><li>运营商之间的路由交换是在特定的路由器间一对一进行的,这样就可以只将路由信息提供给那些付了费的运营商<ul><li>该机制也可以设置其他判断因素,设置路线优先级</li></ul></li></ul><h4 id="IX-的必要性"><a href="#IX-的必要性" class="headerlink" title="IX 的必要性"></a>IX 的必要性</h4><ul><li><p>IX:Internet eXchange 互联网交换中心<br><img src="/images/HowNetworksWorks/125.png" alt></p></li><li><p>设置中心设备,通过连接中心设备的方式来减少路线数量</p></li></ul><h4 id="运营商如何通过-IX-互相连接"><a href="#运营商如何通过-IX-互相连接" class="headerlink" title="运营商如何通过 IX 互相连接"></a>运营商如何通过 IX 互相连接</h4><ul><li>IX 的部署场所需要能够防御一定的自然灾害、保持继续工作</li><li>IX 所在的场所一般都装有自主发电设备<ul><li>这个要求不局限于IX,运营商NOC等也一样<br><img src="/images/HowNetworksWorks/126.png" alt></li></ul></li><li>IX 的核心是具有大量高速以太网端口的二层交换机<ul><li>原理和一般交换机相同</li></ul></li><li>IX 的交换机和一般的交换机在工作方式上没有区别,路由器发送网络包时,先通过 ARP 查询下一个路由器的 MAC 地址,然后将其写入 MAC 头部发送出去即可<ul><li>只要填写了正确的 MAC 地址,就可以向任何运营商的路由器发送包</li></ul></li></ul><h2 id="服务器端的局域网运作方式"><a href="#服务器端的局域网运作方式" class="headerlink" title="服务器端的局域网运作方式"></a>服务器端的局域网运作方式</h2><h3 id="Web-服务器的部署地点"><a href="#Web-服务器的部署地点" class="headerlink" title="Web 服务器的部署地点"></a>Web 服务器的部署地点</h3><p><img src="/images/HowNetworksWorks/127.png" alt></p><ul><li>a 的方式需要为客户端和服务器各自分配公有地址,然而目前公有地址不够用,这种方式已经不是主流了<ul><li>另外还有安全问题</li></ul></li><li>b 可以解决一定的安全问题</li><li>c 将服务器放在运营商那边,或者是租用运营商的服务器,利用可运营商的安全等等各自服务,相对更为可靠</li></ul><h3 id="防火墙的结构和原理"><a href="#防火墙的结构和原理" class="headerlink" title="防火墙的结构和原理"></a>防火墙的结构和原理</h3><ul><li>防火墙基本思路是只允许往特定服务器中的特定应用程序的包通过,屏蔽其他的包</li><li>防火墙可分为包过滤、应用层网关、电路层网关等</li></ul><h4 id="设置包过滤的规则"><a href="#设置包过滤的规则" class="headerlink" title="设置包过滤的规则"></a>设置包过滤的规则</h4><ul><li>网络包的头部包含了用于控制通信操作的控制信息,只要检查这些信息就可以获得很多有用的信息</li></ul><p><img src="/images/HowNetworksWorks/128.png" alt></p><ul><li>下图允许 Web 服务器从外网访问,禁止 Web 服务器访问互联网</li></ul><p><a href="/images/HowNetworksWorks/129.png"></a></p><ul><li>设置接受方和发送方的地址信息过滤网络包 </li><li>还可以限定某个应用程序的包通过,设置TCP或UDP头部的端口号 </li><li><p>设置TCP的控制位信息,阻断TCP建立连接</p></li><li><p>而UDP,没有连接操作,无法根据控制位来判断访问方向</p><ul><li>代表例子就是对DNS服务器的访问</li><li>这种情况只能二者择其一,要么冒风险允许该应用程序的所有包通过,要么牺牲便利性阻止该应用程序的所有包通过</li></ul></li></ul><p><a href="/images/HowNetworksWorks/130.png"></a></p><ul><li>实际上,在防火墙允许包通过之后,就没有什么特别的机制了<ul><li>因此包过滤并不是防火墙专用的一种特殊机制,而是应该看作在路由器的包转发功能基础上附加的一种功能</li><li>只不过当判断规则比较复杂时,通过路由器的命令难以维护这些规则,而且对阻止的包进行记录对于路由器来说负担也比较大,因此才出现了专用的硬件和软件</li><li>如果规则不复杂,也不需要记录日志,那么用内置包过滤功能的普通路由器来充当防火墙也是可以的</li></ul></li></ul><h3 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h3><ul><li>当访问量上升时,可以增加带宽来解决一定的问题</li><li>带宽高可用使网络速度变快,但是并不能解决所有问题</li><li><p>使用多台服务器来分担负载的方法更加有效,这种架构统称为分布式架构</p></li><li><p>分担负载的方法有几种,最简单的是用多台服务器,减少每台服务器的访问量</p><ul><li>要实现这种方法,必须需要一种机制将客户端发送的请求分配到每台服务器上</li><li>做法也有很多种,最简单是通过DNS服务器来分配<ul><li>访问服务器时,客户端需要先向 DNS 服务器查询服务器的 IP地址,如果在 DNS 服务器中填写多个名称相同的记录,则每次查询时DNS 服务器都会按顺序返回不同的 IP 地址<ul><li>对于域名 <a href="http://www.lab" target="_blank" rel="noopener">www.lab</a>. glasscom.com,如果我们给它分配如下 3 个 IP 地址<ul><li>192.0.2.60</li><li>192.0.2.70</li><li>192.0.2.80<ul><li>当第 1 次查询这个域名时,服务器会返回如下内容</li></ul></li><li>192.0.2.60 192.0.2.70 192.0.2.80<ul><li>当第 2 次查询这个域名时,服务器会返回如下内容</li></ul></li><li>192.0.2.70 192.0.2.80 192.0.2.60<ul><li>当第 3 次查询这个域名时,服务器会返回如下内容</li></ul></li><li>192.0.2.80 192.0.2.60 192.0.2.70<ul><li>第4次就回到第一次的结果,这种方式称为 轮询（round-robin）</li></ul></li></ul></li></ul></li></ul></li><li>这种方式是有缺点的,假如其中一台服务器故障,就无法跳过该服务器,依然指向该服务器;因为DNS服务器并不能确认Web服务器是否正常工作<br><a href="/images/HowNetworksWorks/131.png"></a></li></ul></li><li><p>为了可以跳过故障服务器,可用使用一种叫做负载均衡器的设备</p><ul><li>使用负载均衡器时,首先要用负载均衡器的 IP 地址代替 Web 服务器的实际地址注册到 DNS 服务器上<ul><li>假设有一个域名 <a href="http://www.lab.glasscom.com,我们将这个域名对应的" target="_blank" rel="noopener">www.lab.glasscom.com,我们将这个域名对应的</a> IP 地址设置为负载均衡器的 IP 地址并注册到 DNS 服务器上</li><li>于是,客户端会认为负载均衡器就是一台 Web 服务器,并向其发送请求</li><li>然后由负载均衡器来判断将请求转发给哪台 Web 服务器<br><a href="/images/HowNetworksWorks/132.png"></a></li></ul></li></ul></li><li><p>负载均衡器可以定期采集 Web 服务器的 CPU、内存使用率,并根据这些数据判断服务器的负载状况,也可以向 Web 服务器发送测试包,根据响应所需的时间来判断负载状况</p></li><li><p>当操作跨多个页面时,则不考虑 Web 服务器的负载,而是必须将请求发送到同一台 Web 服务器上</p><ul><li>要实现这一点,关键在于我们必须要判断一个操作是否跨了多个页面</li><li>HTTP 的基本工作方式是在发送请求消息之前先建立 TCP 连接,当服务器发送响应消息后断开连接,下次访问 Web 服务器的时候,再重新建立 TCP 连接 </li><li>因此,在 Web 服务器看来,每一次HTTP 访问都是相互独立的,无法判断是否和之前的请求相关</li><li>之所以会这样,是因为 Web 中使用的 HTTP 协议原本就是这样设计的<ul><li>Web 服务器最早并不是用来运行CGI 程序的,而是主要用来提供静态文件的,而静态文件不需要判断请求之间的相关性,因此最早设计 HTTP 规格的时候,就有意省略了请求之间相关性的判断</li></ul></li><li>如果要判断请求之间的相关性,就必须在 Web 服务器一端保存相应的信息,这会增加服务器的负担</li><li>于是,人们想出了一些方案来判断请求之间的相关性</li><li>可以在发送表单数据时在里面加上用来表示关联的信息,或者是对 HTTP 规格进行扩展,在 HTTP 头部字段中加上用来判断相关性的信息<ul><li>这种信息就是 Cookie </li></ul></li><li>这样,负载均衡器就可以通过这些信息来作出判断,将一系列相关的请求发送到同一台Web 服务器,对于不相关的请求则发送到负载较低的服务器了</li></ul></li></ul><h3 id="使用缓存服务器分担负载"><a href="#使用缓存服务器分担负载" class="headerlink" title="使用缓存服务器分担负载"></a>使用缓存服务器分担负载</h3><h4 id="缓存服务器基本思路"><a href="#缓存服务器基本思路" class="headerlink" title="缓存服务器基本思路"></a>缓存服务器基本思路</h4><ul><li><p>除了使用多台功能相同的 Web 服务器分担负载之外,还有另外一种方法,就是将整个系统按功能分成不同的服务器</p><ul><li>如 Web 服务器、数据库服务器</li><li>缓存服务器就是一种按功能来分担负载的方法</li></ul></li><li><p>缓存服务器是一台通过代理机制对数据进行缓存的服务器</p><ul><li>代理介于Web 服务器和客户端之间,具有对 Web 服务器访问进行中转的功能</li><li>当进行中转时,它可以将 Web 服务器返回的数据保存在磁盘中,并可以代替Web 服务器将磁盘中的数据返回给客户端</li><li>这种保存的数据称为缓存,缓存服务器指的也就是这样的功能</li></ul></li><li>Web 服务器需要执行检查网址和访问权限,以及在页面上填充数据等内部操作过程,因此将页面数据返回客户端所需的时间较长</li><li>相对地,缓存服务器只要将保存在磁盘上的数据读取出来发送给客户端就可以了,因此可以比 Web 服务器更快地返回数据<ul><li>其实就是缓存服务器把 Web 服务器的部分工作给分离出来了,减轻了 Web 服务器的工作量</li></ul></li><li>不过,如果在缓存了数据之后,Web 服务器更新了数据,那么缓存的数据就不能用了,因此缓存并不是永久可用的 <ul><li>此外,CGI 程序等产生的页面数据每次都不同,这些数据也无法缓存</li></ul></li><li>无论如何,在来自客户端的访问中,总有一部分访问可以无需经过 Web 服务器,而由缓存服务器直接处理。</li><li>即便只有这一部分操作通过缓存服务器提高了速度,整体性能也可以得到改善</li><li>此外,通过让缓存服务器处理一部分请求,也可以减轻 Web服务器的负担,从而缩短 Web 服务器的处理时间</li></ul><h4 id="缓存服务器通过更新实际管理内容"><a href="#缓存服务器通过更新实际管理内容" class="headerlink" title="缓存服务器通过更新实际管理内容"></a>缓存服务器通过更新实际管理内容</h4><p><a href="/images/HowNetworksWorks/133.png"></a></p><p><a href="/images/HowNetworksWorks/134.png"></a></p><ul><li>如果一台缓存服务器对应多台 Web 服务器,就需要根据请求信息的URI中的目录进行判断<ul><li>然后缓存服务器充当客户端的身份去向目标Web服务器发送请求信息</li><li>它会先创建套接字,然后连接到Web服务器的套接字,并发送请求</li><li>接着缓存服务器会在响应消息中加上 Via 头部字段,表示这个消息是经过缓存服务器中转的</li><li>最后缓存服务器充当了Web服务器的身份向客户端发送响应消息<ul><li>同时,缓存服务器会将响应消息保存在缓存中,并记录保存时间</li></ul></li></ul></li><li>在这个过程中充当了中间人的方式就是代理的基本原则</li><li>在中转消息的过程中,缓存服务器还会顺便将页面数据保存下来,随着缓存数据的积累,用户访问的数据命中缓存的几率也会提高</li></ul><p><a href="/images/HowNetworksWorks/135.png"></a></p><ul><li>如果缓存服务器中已有缓存信息的话<ul><li>缓存服务器会添加一个 If-Modified-Since 头部字段并将请求转发给 Web 服务器</li><li>询问 Web 服务器用户请求的数据是否已经发生变化<ul><li>这时, Web 服务器只要查询一下数据的最后更新时间就好了,比返回页面数据的负担要小一些;而且返回的响应消息也比较短,能相应地减少负担</li></ul></li><li>然后,Web 服务器会根据 If-Modified-Since 的值与服务器上的页面数据的最后更新时间进行比较</li><li>如果在指定时间内数据没有变化,就会返回一个像上图一样的表示没有变化的响应消息</li><li>接下来,返回消息到达缓存服务器,然后缓存服务器就会知道 Web 服务器上的数据和本地缓存中的数据是一样的,于是就会将缓存的数据返回给客户端</li></ul></li></ul><h4 id="正向代理"><a href="#正向代理" class="headerlink" title="正向代理"></a>正向代理</h4><ul><li>上面将的是在Web服务器一端部署一个代理,然后利用其缓存功能来改善服务器性能</li><li>还有另一种方法是在客户端一侧部署缓存服务器</li><li>实际上,缓存服务器使用的代理机制最早就是放在客户端一侧的,这才是代理的原型,称为正向代理（forward proxy）<ul><li>正向代理刚刚出现的时候,其目的之一就是缓存,这个目的和服务器端的缓存服务器相同</li><li>不过,当时的正向代理还有另外一个目的,那就是用来实现防火墙</li></ul></li></ul><p><a href="/images/HowNetworksWorks/136.png"></a></p><ul><li>代理在转发过程可以查看请求的内容,可以根据内容判断是否允许访问<ul><li>包过滤方式的防火墙只能根据IP地址和端口号判断,因此无法实现这一目标</li></ul></li></ul><p><a href="/images/HowNetworksWorks/137.png"></a></p><ul><li><p>在使用正向代理时,一般需要在浏览器的设置窗口中的“代理服务器”一栏中填写正向代理的 IP 地址,浏览器发送请求消息的过程也会发生相应的变化</p><ul><li>在没有设置正向代理的情况下,浏览器会根据网址栏中输入的http://… 字符串判断 Web 服务器的域名,并向其发送请求消息</li><li>当设置了正向代理时,浏览器会忽略网址栏的内容,直接将所有请求发送给正向代理</li><li>请求消息的内容也会有一些不同<ul><li>没有正向代理时,浏览器会从网址中提取出 Web 服务器域名后面的文件名或目录名,然后将其作为请求的URI 进行发送</li><li>而有正向代理时,浏览器会像图 5.9 这样,在请求的 URI字段中填写完整的 http://… 网址</li></ul></li></ul></li><li><p>使用正向代理时,URI 部分为http://… 这样的完整网址,因此可以根据这个网址来转发,不需要像服务器端的缓存服务器一样实现设置好转发目标 Web 服务器,而且可以发给任意Web 服务器;而服务器端的缓存服务器只能向事先设置好的目标进行转发。</p></li></ul><h4 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h4><ul><li>通过将请求消息中的 URI 中的目录名与 Web 服务器进行关联,使得代理能够转发一般的不包含完整网址的请求消息</li><li>前面所说的服务器端的缓存服务器采用的就是这种方式,这种方式称为反向代理</li></ul><h4 id="透明代理"><a href="#透明代理" class="headerlink" title="透明代理"></a>透明代理</h4><ul><li>前面说过缓存服务器对应多台Web服务器时,一种方式是根据请求信息的URI中的目录进行判断转发目标</li><li>另一种方式是查看请求信息的包头部,根据接受方的IP地址去访问目标,这种方式称为透明代理</li><li>这种方法也可以转发一般的请求消息,因此不需要像正向代理一样设置浏览器参数,也不需要在缓存服务器上设置转发目标,可以将请求转发给任意 Web 服务器</li><li><p>透明代理集合了正向代理和反向代理的优点,是一个非常方便的方式,但也需要注意一点,那就是如何才能让请求消息到达透明代理</p><ul><li>由于透明代理不需要设置在浏览器中,那么浏览器还是照常向 Web 服务器发送请求消息</li><li><p>反向代理采用的是通过 DNS 服务器解析引导的方法,但透明代理是不能采用这种方法的,否则透明代理本身就变成了访问目标,也就无法通过接收方 IP 地址判断转发目标了,这就失去了透明代理的意义</p></li><li><p>于是,我们必须将透明代理放在请求消息从浏览器传输到 Web 服务器的路径中,当消息经过时进行拦截</p></li><li>如果请求消息有多条路径可以到达 Web 服务器,那么就必须在这些路径上都放置透明代理,因此一般是将网络设计成只有一条路可以走的结构,然后在这一条路径上放置透明代理</li><li>连接互联网的接入网就是这样一个关口,因此可以在接入网的入口处放置反向代理</li></ul></li><li>使用透明代理时,用户不会察觉到代理的存在,也不会注意到 HTTP 消息是如何被转发的,因此大家更倾向于将透明代理说成是缓存 <ul><li>最近有很多场合中已经将透明代理直接叫作“缓存”而不是“代理”了,不过无论叫什么名字,其内部结构是相同的</li></ul></li></ul><h3 id="内容分发服务"><a href="#内容分发服务" class="headerlink" title="内容分发服务"></a>内容分发服务</h3><h4 id="利用内容分发服务分担负载"><a href="#利用内容分发服务分担负载" class="headerlink" title="利用内容分发服务分担负载"></a>利用内容分发服务分担负载</h4><p><a href="/images/HowNetworksWorks/138.png"></a></p><ul><li>将缓存服务器部署在距离用户很近的地方,同时Web 服务器运营者还可以控制这些服务器,但这种方式也有问题</li><li>对于在互联网上公开的服务器来说,任何地方的人都可以来访问它,因此如果真的要实现这个方式,必须在所有的运营商 POP 中都部署缓存服务器才行,这个数量太大了,非常不现实<ul><li>要解决这个问题也有一些办法<ul><li>首先,我们可以筛选出一些主要的运营商,这样可以减少缓存服务器的数量</li><li>尽管这样做可能会导致有些用户访问到缓存服务器还是要经过很长的距离,但总比直接访问 Web 服务器的路径要短多了,因此还是可以产生一定的效果</li></ul></li></ul></li><li>即便减少了数量,作为一个 Web 服务器运营者,如果自己和这些运营商签约并部署缓存服务器,无论是费用还是精力都是吃不消的</li><li><p>为了解决这个问题,一些专门从事相关服务的厂商出现了,他们来部署缓存服务器,并租借给 Web 服务器运营者</p><ul><li>这种服务称为内容分发服务 CDS (Content Delivery Service)</li><li>现在更常用的名字叫 CDN (Content Delivery Network / Content Distribution Network)</li></ul></li><li><p>提供 CDS 服务的厂商称为 CDSP（Content Delivery Service Provider）</p><ul><li>他们会与主要的供应商签约,并部署很多台缓存服务器 </li><li>另一方面,CDSP 会与 Web 服务器运营者签约,使得 CDSP 的缓存服务器配合 Web 服务器工作</li></ul></li><li>只要 Web 服务器与缓存服务器建立关联,那么当客户端访问 Web 服务器时,实际上就是在访问 CDSP 的缓存服务器了</li><li>缓存服务器可以缓存多个网站的数据,因此 CDSP 的缓存服务器就可以提供给多个 Web 服务器的运营者共享。<ul><li>这样一来,每个网站运营者的平均成本就降低了,从而减少了网站运营者的负担</li><li>而且,和运营商之间的签约工作也由 CDSP 统一负责,网站运营者也节省了精力</li></ul></li><li>总之,依然是采用了解耦的思想,把部分工作给分担出去了</li></ul><h4 id="寻找最近的缓存服务器"><a href="#寻找最近的缓存服务器" class="headerlink" title="寻找最近的缓存服务器"></a>寻找最近的缓存服务器</h4><p><a href="/images/HowNetworksWorks/139.png"></a></p><ul><li>如何从众多的缓存服务器中找到离客户端最近的一个,并让客户端去访问那台服务器</li><li><p>第一个方法是像负载均衡一样用 DNS 服务器来分配访问</p><ul><li><p>可以在 DNS 服务器返回 Web 服务器 IP 地址时,对返回的内容进行一些加工,使其能够返回距离客户端最近的缓存服务器的 IP 地址</p><p><a href="/images/HowNetworksWorks/140.png"></a></p></li><li><p>如果按照 DNS 服务器的一般工作方式来看,它只能以轮询方式按顺序返回 IP 地址,完全不考虑客户端与缓存服务器的远近,因此可能会返回离客户端较远的缓存服务器 IP 地址</p></li><li>如果要让用户访问最近的缓存服务器,则不应采用轮询方式,而是应该判断客户端与缓存服务器的距离,并返回距离客户端最近的缓存服务器IP 地址</li></ul></li></ul><p><a href="/images/HowNetworksWorks/141.png"></a></p><ul><li>首先需要事先从缓存服务器部署地点的路由器收集路由信息</li><li>接下来,DNS 服务器根据路由表查询从本机到 DNS 查询消息的发送方,也就是客户端 DNS 服务器的路由信息</li><li>例如,根据上图路由器 A的路由表,可以查出路由器 A 到客户端 DNS 服务器的路由。</li><li>通过互联网内部的路由表中的路由信息可以知道先通过运营商 X,然后通过运营商 Y,最后到达运营商 Z 这样的信息,通过这样的信息可以大致估算出距离</li><li>依次查询所有路由器的路由表之后,我们就可以通过比较找出哪一台路由器距离客户端 DNS 服务器最近<ul><li>提供路由表的路由器位于缓存服务器的位置,而客户端 DNS 服务器也应该和客户端在同一位置,这样就等于估算出了缓存服务器与客户端之间的距离,从而能够判断出哪台缓存服务器距离客户端最近了</li><li>实际上,客户端 DNS 服务器不一定和客户端在同一位置,因此可能无法得出准确的距离,但依然可以达到相当的精度</li></ul></li></ul><h4 id="重定向服务器分配访问目标"><a href="#重定向服务器分配访问目标" class="headerlink" title="重定向服务器分配访问目标"></a>重定向服务器分配访问目标</h4><p><a href="/images/HowNetworksWorks/142.png"></a></p><ul><li>另一个让客户端访问最近的缓存服务器的方法<ul><li>HTTP 规格中定义了很多头部字段,其中有一个叫作 Location 的字段</li><li>当 Web 服务器数据转移到其他服务器时可以使用这个字段,它的意思是“您要访问的数据在另一台服务器上,请访问那台服务器吧。”这种将客户端访问引导到另一台Web 服务器的操作称为重定向,通过这种方法也可以将访问目标分配到最近的缓存服务器<br><a href="/images/HowNetworksWorks/143.png"></a></li></ul></li><li>使用重定向告知客户端最近的缓存服务器时,首先需要将重定向服务器注册到 Web 服务器端的 DNS 服务器上<ul><li>这样一来,客户端会将 HTTP请求消息发送到重定向服务器上</li><li>重定向服务器和刚才一种方法中的 DNS服务器一样,收集了来自各个路由器的路由信息,并根据这些信息找到最近的缓存服务器,然后将缓存服务器的地址放到 Location 字段中返回响应</li></ul></li><li>这种方法的缺点在于增加了 HTTP 消息的交互次数,相应的开销也比较大,但它也有优点<ul><li>对 DNS 服务器进行扩展的方法是估算客户端 DNS 服务器到缓存服务器之间的距离,因此精度较差;相对而言,重定向的方法是根据客户端发送来的 HTTP 消息的发送方 IP 地址来估算距离的,因此精度较高</li></ul></li></ul><h4 id="缓存的更新方法会影响性能"><a href="#缓存的更新方法会影响性能" class="headerlink" title="缓存的更新方法会影响性能"></a>缓存的更新方法会影响性能</h4><ul><li>还有一个因素会影响缓存服务器的效率,那就是缓存内容的更新方法</li><li>缓存本来的思路是将曾经访问过的数据保存下来,然后当再次访问时拿出来用,以提高访问操作的效率</li><li>不过,这种方法对于第一次访问是无效的,而且后面的每次访问都需要向原始服务器查询数据有没有发生变化,如果遇到网络拥塞,就会使响应时间恶化</li><li>要改善这一点,有一种方法是让 Web 服务器在原始数据发生更新时,立即通知缓存服务器,使得缓存服务器上的数据一直保持最新状态,这样就不需要每次确认原始数据是否有变化了,而且从第一次访问就可以发挥缓存的效果<ul><li>内容分发服务采用的缓存服务器就具备这样的功能</li></ul></li><li>此外,除了事先编写好内容的静态页面之外,还有一些在收到请求后由 CGI 程序生成的动态页面,这种动态页面是不能保存在缓存服务器上的<ul><li>这种情况下,我们可以不保存整个页面,而是将应用程序生成的部分,也就是每次内容都会发生变化的动态部分,与内容不会发生变化的静态部分分开,只将静态部分保存在缓存中</li></ul></li></ul><h2 id="请求到达-Web-服务器-响应返回浏览器—短短几秒的“漫长旅途”迎来终点"><a href="#请求到达-Web-服务器-响应返回浏览器—短短几秒的“漫长旅途”迎来终点" class="headerlink" title="请求到达 Web 服务器,响应返回浏览器—短短几秒的“漫长旅途”迎来终点"></a>请求到达 Web 服务器,响应返回浏览器—短短几秒的“漫长旅途”迎来终点</h2><h3 id="服务器概览"><a href="#服务器概览" class="headerlink" title="服务器概览"></a>服务器概览</h3><ul><li>服务器的程序可以同时和多台客户端计算机进行通信</li><li>服务器需要同时和多个客户端通信,但一个程序来处理多个客户端的请求是很难的,因为服务器必须把握每一个客户端的操作状态<ul><li>一般的做法是,每有一个客户端连接进来,就启动一个新的服务器程序,确保服务器程序和客户端是一对一的状态</li></ul></li></ul><p><a href="/images/HowNetworksWorks/144.png"></a></p><ul><li>这样,在工作时就不必考虑其他客户端的连接情况,只要关心自己对应的客户端就可以了<ul><li>通过这样的方式,可以降低程序编写的难度。服务器操作系统具有多任务、多线程功能,可以同时运行多个程序,服务器程序的设计正是利用了这一功能</li><li>多任务和多线程的区别在于任务和线程的区别;在操作系统内部,任务是作为单独的程序来对待的,而线程则是一个程序中的一部分</li></ul></li></ul><p><a href="/images/HowNetworksWorks/145.png"></a></p><ul><li>客户端的数据收发需要经过下面 4 个阶段<ul><li>（1）创建套接字（创建套接字阶段）</li><li>（2）用管道连接服务器端的套接字（连接阶段）</li><li>（3）收发数据（收发阶段）</li><li>（4）断开管道并删除套接字（断开阶段）</li></ul></li><li><p>相对地,服务器是将阶段（2）改成了等待连接,具体如下</p><ul><li>（1）创建套接字（创建套接字阶段）</li><li>（2-1）将套接字设置为等待连接状态（等待连接阶段）</li><li>（2-2）接受连接（接受连接阶段）</li><li>（3）收发数据（收发阶段）</li><li>（4）断开管道并删除套接字（断开阶段）</li></ul></li><li><p>由于等待连接的模块在服务器程序启动时就已经在运行了,所以在刚启动时,应该还没有客户端的连接包到达</p><ul><li>如果包没有到达,就会转为等待包到达的状态,并在包到达的时候继续执行接受连接操作</li><li>一旦客户端的包到达,就会返回响应包并开始接受连接操作</li><li><p>协议栈会给等待连接的套接字复制一个副本,然后将连接对象等控制信息写入新的套接字中</p><p><a href="/images/HowNetworksWorks/146.png"></a></p></li></ul></li><li><p>在复制出一个新的套接字之后,原来那个处于等待连接状态的套接字会怎么样呢</p><ul><li>它还会以等待连接的状态继续存在,当再次调用 accept,客户端连接包到达时,它又可以再次执行接受连接操作</li><li>接受新的连接之后,和刚才一样,协议栈会为这个等待连接的套接字复制一个新的副本,然后让客户端连接到这个新的副本套接字上</li><li>像这样每次为新的连接创建新的套接字就是这一步操作的一个关键点<ul><li>如果不创建新副本,而是直接让客户端连接到等待连接的套接字上,那么就没有套接字在等待连接了,这时如果有其他客户端发起连接就会遇到问题</li><li>为了避免出现这样的情况,协议栈采用了这种创建套接字的新副本,并让客户端连接到这个新副本上的方法</li></ul></li></ul></li><li><p>创建新套接字时端口号也是一个关键点</p><ul><li>端口号是用来识别套接字的,因此我们以前说不同的套接字应该对应不同的端口号,但如果这样做,这里就会出现问题</li><li>因为在接受连接的时候,新创建的套接字副本就必须和原来的等待连接的套接字具有不同的端口号才行</li><li>这样一来,比如客户端本来想要连接 80 端口上的套接字,结果从另一个端口号返回了包,这样一来客户端就无法判断这个包到底是要连接的那个对象返回的,还是其他程序返回的</li><li>因此,新创建的套接字副本必须和原来的等待连接的套接字具有相同的端口号</li><li>但是这样一来又会引发另一个问题。</li><li>端口号是用来识别套接字的,如果一个端口号对应多个套接字,就无法通过端口号来定位到某一个套接字了</li><li>当客户端的包到达时,如果协议栈只看 TCP 头部中的接收方端口号,是无法判断这个包到底应该交给哪个套接字的</li></ul></li><li><p>这个问题可以用下面的方法来解决,即要确定某个套接字时,不仅使用服务器端套接字对应的端口号,还同时使用客户端的端口号再加上 IP 地址,总共使用下面 4 种信息来进行判断</p><ul><li>客户端 IP 地址</li><li>客户端端口号</li><li>服务器 IP 地址</li><li><p>服务器端口号</p><p><a href="/images/HowNetworksWorks/147.png"></a></p></li></ul></li><li><p>既然通过客户端 IP 地址、客户端端口号、服务器 IP 地址、服务器端口号这 4 种信息可以确定某个套接字,那么要指代某个套接字时用这 4 种信息就好了,为什么还要使用描述符呢</p><ul><li>原因是,在套接字刚刚创建好,还没有建立连接的状态下,这 4 种信息是不全的</li><li>此外,为了指代一个套接字,使用一种信息（描述符）比使用 4 种信息要简单</li><li><p>出于上面两个原因,应用程序和协议栈之间是使用描述符来指代套接字的</p><p><a href="/images/HowNetworksWorks/148.png"></a></p></li></ul></li></ul><h3 id="服务器的接收操作"><a href="#服务器的接收操作" class="headerlink" title="服务器的接收操作"></a>服务器的接收操作</h3><h4 id="网卡信号转换"><a href="#网卡信号转换" class="headerlink" title="网卡信号转换"></a>网卡信号转换</h4><p>  <a href="/images/HowNetworksWorks/149.png"></a></p><ul><li>客户端发送的网络包已经到达服务器</li><li><p>网卡接收到光信号或电信号,将其还原成数字信号</p><ul><li>局域网中传输的网络包信号是由 1 和 0 组成的数字信息与用来同步的时钟信号叠加而成的,因此只要从中分离出时钟信号,然后根据时钟信号进行同步,就可以读取并还原出 1 和 0 的数字信息了</li></ul><p><a href="/images/HowNetworksWorks/150.png"></a></p></li><li><p>接下来根据包末尾的帧校验序列 FCS 来校验错误</p><ul><li>根据 CRC-32 来计算接收到的数字信号和包末尾的 FCS 值比较</li><li>FCS 值是在发送时根据转换成电信号之前的数字信息进行计算得到的,因此如果根据信号还原出的数字信息与发送前的信息一致,则计算出的FCS 也应该与包末尾的 FCS 一致</li><li>如果两者不一致,则可能是因为噪声等影响导致信号失真,数据产生了错误,这时接收的包是无效的,因此需要丢弃</li></ul></li><li><p>当 FCS 一致,接下来就检查 MAC 头部中的 MAC 地址的接收方是不是自己</p></li><li>被还原后的数字信号被保存在网卡内部的缓冲区</li><li><p>以上的操作都是由网卡的 MAC 模块完成的<br><a href="/images/HowNetworksWorks/151.png"></a></p></li><li><p>在这个过程中,服务器的 CPU 并不是一直在监控网络包的到达,而是在执行其他的任务,因此 CPU 并不知道此时网络包已经到达了</p></li><li>但接下来的接收操作需要 CPU 来参与,因此网卡需要通过中断将网络包到达的事件通知给 CPU</li><li>接下来,CPU 就会暂停当前的工作,并切换到网卡的任务</li><li>然后,网卡驱动会开始运行,从网卡缓冲区中将接收到的包读取出来,根据 MAC 头部的以太类型字段判断协议的种类,并调用负责处理该协议的软件<ul><li>这里,以太类型的值应该是表示 IP 协议,因此会调用 TCP/IP 协议栈,并将包转交给它<br><a href="/images/HowNetworksWorks/152.png"></a></li></ul></li></ul><h4 id="IP-模块的接收操作"><a href="#IP-模块的接收操作" class="headerlink" title="IP 模块的接收操作"></a>IP 模块的接收操作</h4><ul><li>当网络包转交到协议栈时,IP 模块会首先开始工作,检查 IP 头部</li><li><p>IP 模块首先会检查 IP 头部的格式是否符合规范,然后检查接收方 IP 地址,看包是不是发给自己的</p><ul><li>当服务器启用类似路由器的包转发功能时,对于不是发给自己的包,会像路由器一样根据路由表对包进行转发 </li></ul></li><li><p>确认包是发给自己的之后,接下来需要检查包有没有被分片,检查 IP头部的内容就可以知道是否分片</p><ul><li>如果是分片的包,则将包暂时存放在内存中,等所有分片全部到达之后将分片组装起来还原成原始包</li><li>如果没有分片,则直接保留接收时的样子,不需要进行重组</li></ul></li><li><p>接下来需要检查 IP 头部的协议号字段,并将包转交给相应的模块</p><ul><li>如果协议号为 06（十六进制）,则将包转交给 TCP 模块</li><li>如果是 11（十六进制）,则转交给 UDP 模块</li></ul><p><a href="/images/HowNetworksWorks/153.png"></a></p></li></ul><h4 id="TCP-模块处理连接网络包"><a href="#TCP-模块处理连接网络包" class="headerlink" title="TCP 模块处理连接网络包"></a>TCP 模块处理连接网络包</h4><p><a href="/images/HowNetworksWorks/154.png"></a></p><ul><li>当 TCP 头部中的控制位 SYN 为 1 时,表示这是一个发起连接的包</li><li>这时,TCP 模块会执行接受连接的操作<ul><li>不过在此之前,需要先检查包的接收方端口号</li><li>并确认在该端口上有没有与接收方端口号相同且正在处于等待连接状态的套接字</li><li>如果指定端口号没有等待连接的套接字,则向客户端返回错误通知的包 </li></ul></li><li>如果存在等待连接的套接字,则为这个套接字复制一个新的副本并将发送方 IP 地址、端口号、序号初始值、窗口大小等必要的参数写入这个套接字中,同时分配用于发送缓冲区和接收缓冲区的内存空间</li><li><p>然后生成代表接收确认的 ACK 号,用于从服务器向客户端发送数据的序号初始值,表示接收缓冲区剩余容量的窗口大小,并用这些信息生成 TCP 头部,委托IP 模块发送给客户端</p></li><li><p>这个包到达客户端之后,客户端会返回表示接收确认的 ACK 号,当这个 ACK 号返回服务器后,连接操作就完成了</p></li><li>这时,服务器端的程序应该进入调用 accept 的暂停状态,当将新套接字的描述符转交给服务器程序之后,服务器程序就会恢复运行</li></ul><p><a href="/images/HowNetworksWorks/155.png"></a></p><h4 id="TCP-模块处理数据网络包"><a href="#TCP-模块处理数据网络包" class="headerlink" title="TCP 模块处理数据网络包"></a>TCP 模块处理数据网络包</h4><ul><li>在 TCP 处理连接包之后,进入到数据收发阶段</li><li>首先,TCP 模块会检查收到的包对应哪一个套接字<ul><li>在服务器端,可能有多个已连接的套接字对应同一个端口号,因此仅根据接收方端口号无法找到特定的套接字</li><li>这时我们需要根据 IP 头部中的发送方 IP 地址和接收方 IP 地址,以及 TCP 头部中的接收方端口号和发送方端口号共 4 种信息,找到上述 4 种信息全部匹配的套接字</li></ul></li><li>找到对应的套接字后,TCP 模块会对比该套接字中保存的数据收发状态和收到的包的 TCP 头部中的信息是否匹配,以确定数据收发操作是否正常</li><li>最后,TCP模块会从包中提出数据,并存放到接收缓冲区中,与上次收到的数据块连接起来。这样一来,数据就被还原成分包之前的状态了<ul><li>当收到的数据进入接收缓冲区后,TCP 模块就会生成确认应答的 TCP 头部,并根据接收包的序号和数据长度计算出 ACK 号,然后委托 IP 模块发送给客户端</li></ul></li></ul><p><a href="/images/HowNetworksWorks/156.png"></a></p><h4 id="TCP-模块的断开操作"><a href="#TCP-模块的断开操作" class="headerlink" title="TCP 模块的断开操作"></a>TCP 模块的断开操作</h4><ul><li>在 TCP 协议的规则中,断开操作可以由客户端或服务器任何一方发起,具体的顺序是由应用层协议决定的<ul><li>Web 中,这一顺序随 HTTP 协议版本不同而不同,在 HTTP1.0 中,是服务器先发起断开操作</li></ul></li><li>这时,服务器程序会调用 Socket 库的 close,TCP 模块会生成一个控制位 FIN 为 1 的 TCP 头部,并委托 IP 模块发送给客户端</li><li>当客户端收到这个包之后,会返回一个 ACK 号</li><li>接下来客户端调用 close,生成一个FIN 为 1 的 TCP 头部发给服务器</li><li>服务器再返回 ACK 号,这时断开操作就完成</li></ul><h3 id="Web-服务器程序解释请求消息并作出响应"><a href="#Web-服务器程序解释请求消息并作出响应" class="headerlink" title="Web 服务器程序解释请求消息并作出响应"></a>Web 服务器程序解释请求消息并作出响应</h3><h4 id="URI-转换和运行程序"><a href="#URI-转换和运行程序" class="headerlink" title="URI 转换和运行程序"></a>URI 转换和运行程序</h4><p><a href="/images/HowNetworksWorks/157.png"></a></p><ul><li>服务器接收到数据后,根据 URI 去读取内容并向客户端返回数据</li><li>不过 Web 服务器的目录并不是磁盘的实际目录,而是用的虚拟目录<ul><li>如果是实际目录的话,就会有安全隐患</li></ul></li><li>而 URI 中写的就是在这个虚拟目录结构下的路径名</li><li>因此,当读取文件时,需要先查询虚拟目录与实际目录的对应关系,并将 URI 转换成实际的文件名后,才能读取文件并返回数据</li></ul><p><a href="/images/HowNetworksWorks/158.png"></a></p><ul><li>运行 CGI 程序</li></ul><p><a href="/images/HowNetworksWorks/159.png"></a></p><p><a href="/images/HowNetworksWorks/160.png"></a></p><h4 id="Web-服务器的访问控制"><a href="#Web-服务器的访问控制" class="headerlink" title="Web 服务器的访问控制"></a>Web 服务器的访问控制</h4><ul><li><p>Web 服务器的基本工作方式就是根据请求消息的内容判断数据源,并从中获取数据返回给客户端,不过在执行这些操作之前,Web 服务器还可以检查事先设置的一些规则,并根据规则允许或禁止访问</p></li><li><p>Web 服务器的访问控制规则主要有以下 3 种</p><ul><li>（1） 客户端 IP 地址</li><li>（2） 客户端域名</li><li>（3） 用户名和密码</li></ul></li><li>根据客户端 IP 地址设置的规则,这个情况很简单,在调用accept 接受连接时,就已经知道客户端的 IP 地址了,只要检查其是否允许访问就可以了</li><li>当根据客户端域名设置规则时,需要先根据客户端 IP 地址查询客户端域名,这需要使用 DNS 服务器<ul><li>一般我们使用 DNS 服务器都是根据域名查询 IP 地址,其实根据 IP 地址反查域名也可以使用 DNS 服务器</li><li>具体来说,这个过程是这样的</li><li>收到客户端的请求消息后,Web 服务器会委托协议栈告知包的发送方 IP 地址,然后用这个 IP 地址生成查询消息并发送给最近的 DNS 服务器</li><li>接下来,DNS 服务器找出负责管辖该 IP 地址的 DNS 服务器,并将查询转发给它查询到相应的域名之后返回结果</li><li>然后 Web 服务器端的 DNS 服务器再将结果转发给 Web 服务器</li><li>这样一来,我们就可以根据发送方IP 地址查询到域名</li><li>接下来,为了保险起见,还需要用这个域名查询一下IP 地址,看看结果与发送方 IP 地址是否一致<ul><li>这是因为有一种在 DNS 服务器上注册假域名的攻击方式,因此我们需要进行双重检查</li></ul></li></ul></li></ul><p><a href="/images/HowNetworksWorks/161.png"></a></p><ul><li>根据用户名和密码设置规则</li></ul><p><a href="/images/HowNetworksWorks/162.png"></a></p><h3 id="浏览器接收响应消息并显示内容"><a href="#浏览器接收响应消息并显示内容" class="headerlink" title="浏览器接收响应消息并显示内容"></a>浏览器接收响应消息并显示内容</h3><ul><li>Web 服务器发送的响应消息会被分成多个包发送给客户端,然后客户端需要接收数据</li><li><p>首先,网卡将信号还原成数字信息,协议栈将拆分的网络包组装起来并取出响应消息,然后将消息转交给浏览器</p><ul><li>这个过程和服务器的接收操作相同</li></ul></li><li><p>要显示内容,首先需要判断响应消息中的数据属于哪种类型</p></li></ul><p><a href="/images/HowNetworksWorks/163.png"></a></p><ul><li>当数据类型为文本时,还需要判断编码方式,这时需要用 charset 附加表示文本编码方式的信息</li><li>除了通过 Content-Type 判断数据类型,还需要检查 Content-Encoding 头部字段<ul><li>如果消息中存放的内容是通过压缩或编码技术对原始数据进行转换得到的,那么 Content-Encoding 的值就表示具体的转换方式,通过这个字段的值,我们可以知道如何将消息中经过转换的数据还原成原始数据</li></ul></li></ul><h2 id="网络包的路途"><a href="#网络包的路途" class="headerlink" title="网络包的路途"></a>网络包的路途</h2><p><img src="/images/HowNetworksWorks/last.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Network </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL Crash Course / After reading</title>
      <link href="/archives/MySQLCrashCourse/"/>
      <url>/archives/MySQLCrashCourse/</url>
      
        <content type="html"><![CDATA[<h2 id="Remarks"><a href="#Remarks" class="headerlink" title="Remarks"></a><center>Remarks<center></center></center></h2><ol><li>columnName = cN</li><li>tableName = tN</li></ol><h2 id="检索数据"><a href="#检索数据" class="headerlink" title="检索数据"></a><center>检索数据</center></h2><h3 id="use-show"><a href="#use-show" class="headerlink" title="use / show"></a>use / show</h3><ul><li><code>use databaseName;</code></li><li><code>show databases;</code></li><li><code>show tables;</code></li><li><code>show columns from tN;</code></li></ul><h3 id="select-distinct"><a href="#select-distinct" class="headerlink" title="select / distinct"></a>select / distinct</h3><ul><li><code>select cN,cN2 from tN;</code></li><li><code>select * from tN;</code></li><li><code>select distinct cN from tN;</code></li></ul><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><ul><li><code>select cN from tN limit 3;</code>    返回3行</li><li><code>select cN from tN limit 3,4;</code>返回第3行后面的4行（第一个数为开始的位置，第二个为要检索的行数）</li><li><code>limit 3,4</code> 等同于 <code>limit 4 offset 3</code> 都是从第3行后面开始取4行</li></ul><h3 id="order"><a href="#order" class="headerlink" title="order"></a>order</h3><ul><li><code>select tNX.cN from databaseName.tNX;</code>   完全限定列名、表名</li><li><code>select cN from tN order by cN;</code>    按照指定列名排序</li><li><code>select cN1,cN2,cN3 from tN order by cN2,cN3;</code>   按指定多个列名的顺序排序（只有在指定的前面的列值相同情况下，再对后面的列值排序）<a id="more"></a></li></ul><h3 id="desc-asc"><a href="#desc-asc" class="headerlink" title="desc / asc"></a>desc / asc</h3><ul><li><code>select cN1,cN2 from tN order by cN2 desc;</code> 降序排列，默认情况是升序 asc</li><li><code>select cN1,cN2 from tN order by cN1 desc ,cN2;</code>   desc只对它前面的列名生效（先按照 cN1 降序，再按照 cN2 默认的升序）</li><li><code>select cN1,cN2 from tN order by cN2 desc limit 1;</code></li></ul><h2 id="过滤数据"><a href="#过滤数据" class="headerlink" title="过滤数据"></a><center>过滤数据</center></h2><h3 id="where"><a href="#where" class="headerlink" title="where"></a>where</h3><ul><li><code>select cN1,cN2 from tN where cN1 = 2;</code></li><li><code>select cN1,cN2 from tN where cN2 = &#39;value&#39;;</code></li></ul><p><img src="/images/MySQLCrashCourse/01.png" alt> </p><h3 id="between-is-null"><a href="#between-is-null" class="headerlink" title="between / is null"></a>between / is null</h3><ul><li><code>select cN1,cN2 from tN where cN1 between 3 and 10;</code></li><li><code>select cN1,cN2 from tN where cN2 is null;</code>    返回 cN2 为 空值 的行</li></ul><h3 id="and-or-运算符"><a href="#and-or-运算符" class="headerlink" title="and / or / ( ) / 运算符"></a>and / or / ( ) / 运算符</h3><ul><li><code>select cN1,cN2,cN3 from tN where cN1 = 2 and cN3 &lt;= 19;</code></li><li><code>select cN1,cN2,cN3 from tN where cN1 = 2 or cN3 &lt;= 19;</code></li><li><code>select cN1,cN2,cN3 from tN where cN1 = 2 or cN2 = &#39;value&#39; and cN3 &lt;= 19;</code> and的优先级高于or</li><li>这句就理解为 cN2 等于 value 且 cN3 小于（含）19 或者 cN1 = 2   </li><li><u>cN1 = 2 </u>   or  <u>cN2 = ‘value’ and cN3 &lt;= 19</u> </li><li><code>select cN1,cN2,cN3 from tN where (cN1 = 2 or cN2 = &#39;value&#39;) and cN3 &lt;= 19;</code>   用括号提高优先级</li></ul><h3 id="in"><a href="#in" class="headerlink" title="in"></a>in</h3><ul><li><code>select cN1,cN2 from tN where cN2 in (&#39;value&#39;,&#39;value2&#39;);</code></li><li><code>select cN1,cN2 from tN where cN1 in (2,4,5);</code></li><li><code>in (4,5)</code>等同于<code>cN1 = 4 or cN1 =5</code></li><li>优点：in 更直观方便，执行快，还可以包括 where 子句</li></ul><h3 id="not"><a href="#not" class="headerlink" title="not"></a>not</h3><ul><li><code>select cN1,cN2 from tN where cN1 not in (2,4,5);</code>     否定后面的条件</li></ul><h3 id="like-通配符"><a href="#like-通配符" class="headerlink" title="like / 通配符"></a>like / 通配符</h3><ul><li><code>select cN1,cN2 from tN where cN2 like &#39;val%&#39;;</code>    % 表示任何字符出现任意次数</li><li><code>select cN1,cN2 from tN where cN2 like &#39;%al%&#39;;</code>    % 无法匹配到 null</li><li><code>select cN1,cN2 from tN where cN2 like &#39;v%e&#39;;</code> </li><li><code>select cN1,cN2 from tN where cN2 like &#39;valu_&#39;;</code>  _ 只匹配一个字符</li><li>通配符处理更花时间，尽量用其他操作符，尽量不要把通配符用在搜索模式的开始处，影响效率</li></ul><h3 id="正则表达式-regexp"><a href="#正则表达式-regexp" class="headerlink" title="正则表达式 regexp"></a>正则表达式 regexp</h3><ul><li><code>select cN1,cN2 from tN where cN2 regexp &#39;value&#39;;</code>  regexp 后面跟的内容作为正则表达式</li><li><code>select cN1,cN2 from tN where cN1 regexp &#39;1&#39;;</code></li></ul><h3 id="like-和-regexp-的区别"><a href="#like-和-regexp-的区别" class="headerlink" title="like 和 regexp 的区别"></a>like 和 regexp 的区别</h3><ul><li><code>like &#39;value&#39;</code> 和 <code>regexp &#39;value&#39;</code> 返回内容一样</li><li><code>like &#39;alue&#39;</code> 和 <code>regexp &#39;alue&#39;</code>  like 没有返回内容， regexp 返回含有 value 值的行</li><li>like 匹配整个列，regexp 还对列值内进行匹配</li><li>这里没有列值为 alue 的行，所以 like 没有返回内容，而 regexp 对列值内匹配，所以有返回内容</li></ul><h3 id><a href="#" class="headerlink" title="|"></a>|</h3><ul><li><code>select cN1,cN2 from tN where cN2 regexp &#39;value1|value2&#39;;</code></li><li><code>select cN1,cN2 from tN where cN2 regexp &#39;value1|2&#39;;</code>  匹配含有 value1 或者 2 的值</li><li><code>select cN1,cN2 from tN where cN1 regexp &#39;1|2|3|4&#39;;</code></li></ul><h3 id="-1"><a href="#-1" class="headerlink" title="[ ] / [^ ]"></a>[ ] / [^ ]</h3><ul><li><code>select cN1,cN2 from tN where cN2 regexp &#39;value[123]&#39;;</code>    匹配特定字符，返回 value1,value2,value3</li><li>[]其实是另一种形式的 or ; [123]是[1|2|3]的缩写</li><li><code>select cN1,cN2 from tN where cN2 regexp &#39;value[^123]&#39;;</code>   否定[123],匹配这些字符以外的任意字符</li></ul><h3 id="0-9-a-z"><a href="#0-9-a-z" class="headerlink" title="[0-9] / [a-z]"></a>[0-9] / [a-z]</h3><ul><li><code>select cN1,cN2 from tN where cN2 regexp &#39;value[1-3]&#39;;</code> </li><li><code>value[1-3]</code>等同于<code>value[123]</code>    [a-z]还可以匹配人以字母</li></ul><h3 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符 \"></a>转义字符 \</h3><ul><li><code>select cN1,cN2 from tN where cN2 regexp &#39;.&#39;;</code> . 匹配任意字符</li><li><code>select cN1,cN2 from tN where cN2 regexp &#39;\\.&#39;;</code> 匹配 .</li><li><code>select cN1,cN2 from tN where cN2 regexp &#39;\\-&#39;;</code> 匹配 -</li><li>\\双反斜杠转义 ，用于匹配特殊字符</li></ul><p><img src="/images/MySQLCrashCourse/02.png" alt> </p><ul><li>多数正则表达式实现使用单个反斜杠转义特殊字符；但是MySQL使用两个反斜杠，MySQL自己解释一个，正则表达式库解释另外一个</li></ul><h3 id="预定义字符集"><a href="#预定义字符集" class="headerlink" title="预定义字符集"></a>预定义字符集</h3><ul><li><code>select cN1,cN2 from tN where cN2 regexp &#39;[:alnum:]&#39;;</code> 使用预定义字符集</li></ul><p><img src="/images/MySQLCrashCourse/03.png" alt> </p><h3 id="重复元字符"><a href="#重复元字符" class="headerlink" title="重复元字符"></a>重复元字符</h3><ul><li><code>select cN1,cN2 from tN where cN2 regexp &#39;valu?&#39;;</code> 匹配多个实例，匹配具体的字符次数</li></ul><p><img src="/images/MySQLCrashCourse/04.png" alt> </p><h3 id="定位符"><a href="#定位符" class="headerlink" title="定位符"></a>定位符</h3><ul><li><code>select cN1,cN2 from tN where cN2 regexp &#39;^[v123]&#39;;</code>   匹配特定位置的字符</li></ul><p><img src="/images/MySQLCrashCourse/05.png" alt> </p><ul><li>^ 在集合中 [] 表否定该集合，否则表示串的起点</li><li>正如前面所说 like 匹配整个串，regexp 匹配子串</li><li>利用 ^ 和 $ 就可使 regexp 起到 like 的作用</li><li><code>select cN1,cN2 from tN where cN2 rehexp &#39;^value$&#39;;</code>  等同于 <code>select cN1,cN2 from tN where cN2 like &#39;value&#39;;</code> </li></ul><h2 id="计算字段"><a href="#计算字段" class="headerlink" title="计算字段"></a><center>计算字段</center></h2><ul><li>直接从数据库中检索出转换、计算或格式化过的数据</li><li>计算字段是运行时在 select 语句内创建的</li></ul><h3 id="拼接字段"><a href="#拼接字段" class="headerlink" title="拼接字段"></a>拼接字段</h3><ul><li>把值联结到一起构成单个值</li><li><code>select Concat(cN1,cN2) from tN;</code> 返回结果为 cN1 和 cN2 的值构成的一个新值 </li><li><code>select Concat(cN1,RTrim(cN2)) from tN;</code>  RTrim()去掉值右边的所有空格</li><li><code>select Concat(cN1,LTrim(cN2)) from tN;</code>  RTrim()去掉值左边的所有空格</li><li><code>select Concat(cN1,Trim(cN2)) from tN;</code>  RTrim()去掉值左右两边的所有空格</li><li><code>select Concat(cN1,cN2) as NewcN from tN;</code> 形成的新值没有名称，需要赋予它一个字段名</li></ul><h3 id="算数计算"><a href="#算数计算" class="headerlink" title="算数计算"></a>算数计算</h3><ul><li><code>select cN1,cN2,cN3,cN1+cN3 as SumcN from tN;;</code> 同样可以用括号来提高优先级</li></ul><p><img src="/images/MySQLCrashCourse/06.png" alt> </p><h2 id="函数处理"><a href="#函数处理" class="headerlink" title="函数处理"></a><center>函数处理</center></h2><h3 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h3><ul><li><code>select cN1,Upper(cN2) from tN;</code> 大写转换</li></ul><p><img src="/images/MySQLCrashCourse/07.png" alt> </p><p><img src="/images/MySQLCrashCourse/08.png" alt> </p><p><img src="/images/MySQLCrashCourse/09.png" alt> </p><h3 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h3><p><img src="/images/MySQLCrashCourse/10.png" alt> </p><h3 id="数值"><a href="#数值" class="headerlink" title="数值"></a>数值</h3><p><img src="/images/MySQLCrashCourse/11.png" alt> </p><h3 id="聚集"><a href="#聚集" class="headerlink" title="聚集"></a>聚集</h3><ul><li><code>select cN1,AVG(cN2) from tN;</code> 平均值，AVG()函数忽略列值为 null 的行，同理 count(),max(),min(),sum()也是忽略 null 的行</li></ul><p><img src="/images/MySQLCrashCourse/12.png" alt> </p><ul><li><code>select count(*) from tN;</code>  行数目计数，无论是否 null 都会计数</li><li><code>select count(cN2) from tN;</code> 列值为 null 的行会被忽略 </li><li><code>select cN1,AVG(distinct cN2) from tN;</code> 忽略相同的列值</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">as</span> NewcN1,</span><br><span class="line">      <span class="keyword">min</span>(cN3) <span class="keyword">as</span> NewcN2,</span><br><span class="line">      <span class="keyword">max</span>(cN3) <span class="keyword">as</span> NewcN3,</span><br><span class="line">      <span class="keyword">avg</span>(cN3) <span class="keyword">as</span> NewcN4,</span><br><span class="line"><span class="keyword">from</span> tN;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a><center>分组</center></h2><h3 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,<span class="keyword">count</span>(*) <span class="keyword">as</span> NewcN </span><br><span class="line"><span class="keyword">from</span> tN </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cN1;</span><br></pre></td></tr></table></figure></div></li></ul><p><img src="/images/MySQLCrashCourse/13.png" alt> </p><h3 id="having"><a href="#having" class="headerlink" title="having"></a>having</h3><ul><li>where 过滤指定行并且没有分组的概念</li><li>where 过滤行，having 过滤分组</li><li>having 支持所有 where 操作符</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,<span class="keyword">count</span>(*) <span class="keyword">as</span> NewcN </span><br><span class="line"><span class="keyword">from</span> tN </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cN1</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(*) &gt;= <span class="number">2</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>也可以理解为 where 在 group by 前过滤，having 在 group by 后过滤</p></li></ul><h3 id="group-by-与-order-by"><a href="#group-by-与-order-by" class="headerlink" title="group by 与 order by"></a>group by 与 order by</h3><p><img src="/images/MySQLCrashCourse/14.png" alt> </p><ul><li>group by 以分组的顺序输出，但是有时候需要以不同于分组默认的顺序输出</li><li>这种情况就需要提供 order by 子句 ，以明确输出的顺序方式</li></ul><h3 id="select-子句顺序"><a href="#select-子句顺序" class="headerlink" title="select 子句顺序"></a>select 子句顺序</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line"><span class="keyword">where</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line"><span class="keyword">having</span> </span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line"><span class="keyword">limit</span></span><br></pre></td></tr></table></figure></div></li></ul><p><img src="/images/MySQLCrashCourse/15.png" alt> </p><p><img src="/images/MySQLCrashCourse/16.png" alt> </p><h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a><center>子查询</center></h2><ul><li>子查询总是从内向外处理</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,cN2</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> cN5 <span class="keyword">in</span> (<span class="keyword">select</span> cN5</span><br><span class="line">              <span class="keyword">from</span> tN2</span><br><span class="line">              <span class="keyword">where</span> cN7 <span class="keyword">in</span> (<span class="keyword">select</span> cN7</span><br><span class="line">                            <span class="keyword">from</span> tN3</span><br><span class="line">                            <span class="keyword">where</span> cN9 = <span class="string">'v'</span></span><br><span class="line">                            )</span><br><span class="line">              );</span><br></pre></td></tr></table></figure></div></li><li><p>作为计算字段使用子查询</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,</span><br><span class="line">       cN2,</span><br><span class="line">       (<span class="keyword">select</span> <span class="keyword">count</span>(*)</span><br><span class="line">        <span class="keyword">from</span> tN2</span><br><span class="line">        <span class="keyword">where</span> tN2.cN1 = tN.cN1) <span class="keyword">as</span> NewcN</span><br><span class="line"><span class="keyword">from</span> tN;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="联结表"><a href="#联结表" class="headerlink" title="联结表"></a><center>联结表</center></h2><ul><li>关系表：各表通过某些常用值互相关联；在A表中建立了B表中某些字段的列，把两个表联系起来</li><li>外键：某个表中的一列，它包含另外一个表的主键值，定义了两个表之间的关系</li></ul><h3 id="内部联结-inner-join"><a href="#内部联结-inner-join" class="headerlink" title="内部联结 inner join"></a>内部联结 inner join</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1,tN2</span><br><span class="line"><span class="keyword">where</span> tN1.cN1 = tN2.cN1</span><br></pre></td></tr></table></figure></div></li><li><p>以上的联结称为 等值联结，基于两个表之间的相等测试，也成为 内部联结</p></li><li>可以用以下更为标准的联结语法</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1 <span class="keyword">inner</span> <span class="keyword">join</span> tN2</span><br><span class="line"><span class="keyword">on</span> tN1.cN1 = tN2.cN1</span><br></pre></td></tr></table></figure></div></li><li><p>联结表的数目没有限制，但是这种处理非常消耗资源，联结的表越多，性能下降越厉害</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN2,cN3,cN4</span><br><span class="line"><span class="keyword">from</span> tN1,tN2,tN3,tN4</span><br><span class="line"><span class="keyword">where</span> tN1.cN1 = tN2.cN1</span><br><span class="line">  <span class="keyword">and</span> tN3.cN1 = tN1.cN1</span><br><span class="line">  <span class="keyword">and</span> tN4.cN1 = tN1.cN1</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="使用别名"><a href="#使用别名" class="headerlink" title="使用别名"></a>使用别名</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1 <span class="keyword">as</span> a,tN2 <span class="keyword">as</span> b</span><br><span class="line"><span class="keyword">where</span> a.cN1 = b.cN1</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="自联结"><a href="#自联结" class="headerlink" title="自联结"></a>自联结</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1</span><br><span class="line"><span class="keyword">where</span> cN1 = (<span class="keyword">select</span> cN1</span><br><span class="line">             <span class="keyword">from</span> tN1</span><br><span class="line">             <span class="keyword">where</span> cN2=<span class="string">'x'</span></span><br><span class="line">             );</span><br></pre></td></tr></table></figure></div></li><li><p>从同一个表从查询内容，上面用了子查询，分了两步进行操作</p></li><li>下面用联结的方式进行相同查询</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1 <span class="keyword">as</span> a , tN1 <span class="keyword">as</span> b</span><br><span class="line"><span class="keyword">where</span> a.cN1 = b.cN1</span><br><span class="line">  <span class="keyword">and</span> b.cN2 = <span class="string">'x'</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>因为对一个表自己进行联结，相当于每个字段出现了两次，所以要用别名把表的字段给区分开</p></li></ul><h3 id="自然联结"><a href="#自然联结" class="headerlink" title="自然联结"></a>自然联结</h3><ul><li>无论何时对表进行联结，都会出现至少一个列出现在不止一个表中。</li><li>自然联结可以排除多次出现，使每个列只返回一次</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.*,b.cN2,b.cN3</span><br><span class="line"><span class="keyword">from</span> tN1 <span class="keyword">as</span> a , tN2 <span class="keyword">as</span> b</span><br><span class="line"><span class="keyword">where</span> a.cN1 = b.cN1;</span><br></pre></td></tr></table></figure></div></li><li><p>对表 a 使用通配符全部检索列，对表 b 明确指出列</p></li></ul><h3 id="外部联结-left-right-outer-join"><a href="#外部联结-left-right-outer-join" class="headerlink" title="外部联结 left/right outer join"></a>外部联结 left/right outer join</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1 <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> tN2</span><br><span class="line"><span class="keyword">where</span> tN1.cN1 = tN2.cN1;</span><br></pre></td></tr></table></figure></div></li><li><p>内部联结是把满足条件的两个表的所有行组合起来，</p></li><li>外部联结主要区别在于（1）把满足条件的两个表的所有行组合起来（2）还要把未满足条件的 左/右 表的行也要附加组合进去</li><li><code>tN1 left outer join tN2;</code> 左外部联结</li><li><code>tN1 right outer join tN2;</code>    右外部联结</li><li><p>左/右 外部联结可以通过颠倒 from 中的表顺序转换，两种类型联结用哪种完全看方便而定</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN2,</span><br><span class="line">       cN3</span><br><span class="line"><span class="keyword">from</span> tN1 <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> tN2</span><br><span class="line"><span class="keyword">where</span> tN1.cN1 = tN2.cN1;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="组合查询"><a href="#组合查询" class="headerlink" title="组合查询"></a><center>组合查询</center></h2><h3 id="union"><a href="#union" class="headerlink" title="union"></a>union</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN2;</span><br></pre></td></tr></table></figure></div></li><li><p>union 组合的 select 语句出现的字段必须一致，顺序无所谓</p></li><li>union 组合查询出来的结果为各个查询语句按先后查询的顺序组合</li><li>union 的查询结果会自动去重，保留先查询出的行，去除后面查询出的重复的行</li></ul><h3 id="union-all"><a href="#union-all" class="headerlink" title="union all"></a>union all</h3><ul><li>如果想全部保留查询组合结果可使用 union all</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1</span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN2;</span><br></pre></td></tr></table></figure></div></li><li><p>union 几乎总是完成与多个 where 条件相同的工作</p></li><li>union all 可以完成匹配全部（包括重复行），而 where 就不行</li></ul><h3 id="对组合查询结果排序"><a href="#对组合查询结果排序" class="headerlink" title="对组合查询结果排序"></a>对组合查询结果排序</h3><ul><li>只能用一条 order by 子句，并且必须出现在最后一条 select 语句之后</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1</span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN2</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> cN1;</span><br></pre></td></tr></table></figure></div></li><li><p>order by 子句放在最后，是对组合查询的整个结果进行排序</p></li></ul><h2 id="全文本搜索"><a href="#全文本搜索" class="headerlink" title="全文本搜索"></a><center>全文本搜索</center></h2><h3 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h3><ul><li>一般在创建表的时候启用 全文本搜索</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tN</span><br><span class="line">(</span><br><span class="line">  <span class="keyword">id</span>          <span class="built_in">int</span>       <span class="keyword">not</span> <span class="literal">null</span> auto_increment,</span><br><span class="line">  title       <span class="built_in">char</span>(<span class="number">10</span>)  <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">  note_text   <span class="built_in">text</span>      <span class="literal">null</span>,</span><br><span class="line">  primary <span class="keyword">key</span>(<span class="keyword">id</span>),</span><br><span class="line">  fulltext(note_text)  </span><br><span class="line">)<span class="keyword">engine</span>=MyISAM;</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ul><li>Match()指定被搜索的列，Against()指定要使用的搜索表达式</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> note_text</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">Match</span>(note_text) Against(<span class="string">'value'</span>);</span><br></pre></td></tr></table></figure></div></li><li><p>查询结果为 note_text 列中带有 value 值的行</p></li><li>全文本搜索不区分大小写</li></ul><hr><ul><li>下面的 like 子句也可查询同样的结果</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> note_text</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> note_text <span class="keyword">like</span> <span class="string">'%value%'</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>全文本搜索返回的结果行顺序和 like 子句返回的行顺序稍有区别</p></li><li>全文本搜索返回的结果按照 词的出现的次序等级 对每个结果行进行排序（比如：value 出现在第一个词比出现在第三个词的等级高） ；具有较高等级的行先出现，排在前面</li><li>等级由MySQL根据行中词的数目、唯一词的数目、整个索引中词的总数以及包含该词的行的数目计算出来</li><li>like 子句以不是特别有用的顺序返回数据</li></ul><hr><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> note_text</span><br><span class="line">       <span class="keyword">Match</span>(note_text) Against(<span class="string">'value'</span>) <span class="keyword">as</span> <span class="keyword">rank</span></span><br><span class="line"><span class="keyword">from</span> tN；</span><br></pre></td></tr></table></figure></div></li><li><p>如果在 select 子句中使用 Match() 和 Against(),则会返回一个计算列</p></li><li>计算列的值就是词的等级值，不包含检索值的等级值为 0</li><li>这些值帮助全文本搜索如何排除行（等级为0的行），如何排序结果（按等级降序排列）</li><li>由于数据是索引的，全文本搜索速度还比较快</li></ul><h3 id="查询扩展"><a href="#查询扩展" class="headerlink" title="查询扩展"></a>查询扩展</h3><ul><li><code>with query expansion</code>  用来放宽返回文本的搜索结果的范围</li><li>比如想查询包含 value 和其他包含相关信息的行，即使其它行中不包含 value </li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> note_text</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">Match</span>(note_text) Against(<span class="string">'value'</span> <span class="keyword">with</span> <span class="keyword">query</span> expansion);</span><br></pre></td></tr></table></figure></div></li><li><p>查询扩展的执行顺序：</p><ol><li>先执行基本全文本搜索，找出与条件匹配的所有行</li><li>其次，MySQL检查这些匹配行并选择与条件词相关的有用词</li><li>最后，MySQL再次执行全文本搜索，这次不仅使用原来的条件，还附带了相关有用词的条件</li></ol></li><li>利用查询扩展，能够尽可能的查询出相关结果，即使它们不是很精确</li></ul><h3 id="布尔文本搜索"><a href="#布尔文本搜索" class="headerlink" title="布尔文本搜索"></a>布尔文本搜索</h3><ul><li><code>in boolean mode</code></li></ul><p><img src="/images/MySQLCrashCourse/17.png" alt> </p><ul><li>没有指定操作符，搜索结果匹配 value 或 key 中至少一个词的行</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> note_text</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">Match</span>(note_text) Against(<span class="string">'value key'</span> <span class="keyword">in</span> <span class="built_in">boolean</span> <span class="keyword">mode</span>);</span><br></pre></td></tr></table></figure></div></li><li><p>搜索结果匹配 value key 短语的行</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> note_text</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">Match</span>(note_text) Against(<span class="string">'"value key"'</span> <span class="keyword">in</span> <span class="built_in">boolean</span> <span class="keyword">mode</span>);</span><br></pre></td></tr></table></figure></div></li><li><p>搜索结果匹配包含 value 排除 key 的行</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> note_text</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">Match</span>(note_text) Against(<span class="string">'"+value -key"'</span> <span class="keyword">in</span> <span class="built_in">boolean</span> <span class="keyword">mode</span>);</span><br></pre></td></tr></table></figure></div></li><li><p>在布尔方式中，不按等级值降序返回的行</p></li></ul><p><img src="/images/MySQLCrashCourse/18.png" alt> </p><p><img src="/images/MySQLCrashCourse/19.png" alt> </p><h2 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a><center>插入数据</center></h2><h3 id="insert-into"><a href="#insert-into" class="headerlink" title="insert into"></a>insert into</h3><ul><li><code>insert into tN values(&#39;key&#39;,&#39;value&#39;,&#39;null&#39;);</code> </li><li>每个列字段必须提供值，没有值可提供 null 值 （假设该列允许为空值）</li><li>上面的写法简单，但并不安全，极度依赖表字段的次序</li><li>应该用以下的标准写法</li><li><code>insert into tN(cN2,cN1，cN3) values(&#39;value&#39;,&#39;key&#39;,&#39;x&#39;);</code> </li><li>这种写法不依赖表字段次序，按照自定的列字段次序填充即可</li></ul><h3 id="insert-low-priority-into"><a href="#insert-low-priority-into" class="headerlink" title="insert low_priority into"></a>insert low_priority into</h3><ul><li>降低 insert 语句优先级，因为 insert 操作可以很耗时，而且它可能降低等待处理的 select 语句的性能</li><li><code>insert low_priority into tN(cN2,cN1，cN3) values(&#39;value&#39;,&#39;key&#39;,&#39;x&#39;);</code> </li><li>同样使用于 update 和 delete 语句</li></ul><h3 id="插入多行"><a href="#插入多行" class="headerlink" title="插入多行"></a>插入多行</h3><ul><li>使用多条 insert 语句，最后一次提交即可</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tN(cN2,cN1，cN3) <span class="keyword">values</span>(<span class="string">'value'</span>,<span class="string">'key'</span>,<span class="string">'x'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tN(cN2,cN1，cN3) <span class="keyword">values</span>(<span class="string">'value1'</span>,<span class="string">'key1'</span>,<span class="string">'x1'</span>);</span><br></pre></td></tr></table></figure></div></li><li><p>如果插入同一个表，并且结构相同，也可以用以下方式</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tN(cN2,cN1，cN3) </span><br><span class="line"><span class="keyword">values</span>(<span class="string">'value'</span>,<span class="string">'key'</span>,<span class="string">'x'</span>)</span><br><span class="line">      (<span class="string">'value1'</span>,<span class="string">'key1'</span>,<span class="string">'x1'</span>)</span><br><span class="line">      (<span class="string">'value2'</span>,<span class="string">'key2'</span>,<span class="string">'x2'</span>);</span><br></pre></td></tr></table></figure></div></li><li><p>MySQL用单条 insert 语句处理多个插入 比 使用多条 insert 语句快</p></li></ul><h3 id="插入检索出的数据-insert-select"><a href="#插入检索出的数据-insert-select" class="headerlink" title="插入检索出的数据 insert select"></a>插入检索出的数据 insert select</h3><ul><li>可以从其他表导入数据</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tN(cN2,cN1，cN3) </span><br><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN2;</span><br></pre></td></tr></table></figure></div></li><li><p>select 语句的每个列对应插入 insert 语句的每个列中</p></li><li>还可以添加 where 子句等条件</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tN(cN2,cN1，cN3) </span><br><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN2</span><br><span class="line"><span class="keyword">where</span> cN1 &gt; <span class="number">2</span>;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="更新-删除-数据"><a href="#更新-删除-数据" class="headerlink" title="更新/删除 数据"></a><center>更新/删除 数据</center></h2><h3 id="update-set"><a href="#update-set" class="headerlink" title="update set"></a>update set</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> tN</span><br><span class="line"><span class="keyword">set</span> cN2 = <span class="string">'value'</span></span><br><span class="line"><span class="keyword">where</span> cN1 = <span class="number">1</span>;</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> tN</span><br><span class="line"><span class="keyword">set</span> cN2 = <span class="string">'value'</span>,</span><br><span class="line"><span class="keyword">set</span> cN3 = <span class="string">'key'</span></span><br><span class="line"><span class="keyword">where</span> cN1 = <span class="number">1</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>删除列值，可以把它设为 null （假设该列允许为空值）</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> tN</span><br><span class="line"><span class="keyword">set</span> cN2 = <span class="string">'null'</span></span><br><span class="line"><span class="keyword">where</span> cN1 = <span class="number">1</span>;</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h3><ul><li><code>delete from tN where cN1 = 1;</code> 删除行</li><li><code>delete from tN</code> 删除表所有内容/删除表中所有行</li></ul><h2 id="操纵表"><a href="#操纵表" class="headerlink" title="操纵表"></a><center>操纵表</center></h2><h3 id="create-table"><a href="#create-table" class="headerlink" title="create table"></a>create table</h3><ul><li>建立新表，指定的表名必须不存在，否则需要先手工删除已存在同名的表</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tN(</span><br><span class="line">  cN1 <span class="built_in">int</span>       <span class="keyword">not</span> <span class="literal">null</span> auto_increment,</span><br><span class="line">  cN2 <span class="built_in">char</span>(<span class="number">10</span>)  <span class="keyword">not</span> <span class="literal">null</span> ,</span><br><span class="line">  cN3 <span class="built_in">char</span>(<span class="number">19</span>)  <span class="literal">null</span>,</span><br><span class="line">  primary <span class="keyword">key</span> (cN1)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></div></li><li><p>如果仅想在一个表不存在时创建它，可以在表名后给出 <code>if not exists</code></p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tN <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exists</span>(</span><br><span class="line">  cN1 <span class="built_in">int</span>       <span class="keyword">not</span> <span class="literal">null</span> auto_increment,</span><br><span class="line">  cN2 <span class="built_in">char</span>(<span class="number">10</span>)  <span class="keyword">not</span> <span class="literal">null</span> ,</span><br><span class="line">  cN3 <span class="built_in">char</span>(<span class="number">19</span>)  <span class="literal">null</span>,</span><br><span class="line">  cN4 <span class="built_in">int</span>       <span class="literal">null</span> <span class="keyword">default</span> <span class="number">20</span></span><br><span class="line">  primary <span class="keyword">key</span> (cN1)</span><br><span class="line">)<span class="keyword">ENGINE</span> = <span class="keyword">InnoDB</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>MySQL 语句中忽略空格</p></li></ul><p><img src="/images/MySQLCrashCourse/20.png" alt> </p><ul><li><code>select last_insert_id()</code> 这个函数可以获取最后插入行的自增id值 </li></ul><h3 id="引擎类型"><a href="#引擎类型" class="headerlink" title="引擎类型"></a>引擎类型</h3><ul><li>MySQL 有具体管理和处理数据的内部引擎</li><li>当使用<code>create table</code>时，该引擎具体创建表；当使用<code>select</code>等语句时，处理数据库操作请求</li><li>一般在 <code>ENGINE =</code>中表明使用的引擎类型</li><li>InnoDB是一个可靠的事务处理引擎，它不支持全文本搜索</li><li>MyISAM是一个性能极高的引擎，它支持全文本搜索，但不支持事务处理</li><li>MEMORY在功能上等同于MyISAM,但由于数据存储在内存中，速度很快（特别适合于临时表）</li><li>引擎类型可以混用，在不同的表选用适合的引擎</li><li>外键不能跨引擎</li></ul><h3 id="alter-table"><a href="#alter-table" class="headerlink" title="alter table"></a>alter table</h3><ul><li>增加列</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tN</span><br><span class="line"><span class="keyword">add</span> cN5 <span class="built_in">int</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>删除列</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tN</span><br><span class="line"><span class="keyword">drop</span> cN5 <span class="built_in">int</span>;</span><br></pre></td></tr></table></figure></div></li><li><p><code>alter table</code> 常用来定义外键</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tN</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> fk_tN_tN1  </span><br><span class="line"><span class="keyword">foreign</span> <span class="keyword">key</span> (cN9) <span class="keyword">references</span> tN1 (cN9)</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="drop-table"><a href="#drop-table" class="headerlink" title="drop table"></a>drop table</h3><ul><li><code>drop table tN</code> 删除表</li></ul><h3 id="rename-table"><a href="#rename-table" class="headerlink" title="rename table"></a>rename table</h3><ul><li><code>rename table tN to NewtN</code>  重命名表</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">rename</span> <span class="keyword">table</span> tN1 <span class="keyword">to</span> NewtN1,</span><br><span class="line">             tN2 <span class="keyword">to</span> NewtN2,</span><br><span class="line">             tN3 <span class="keyword">to</span> NewtN3;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a><center>视图</center></h2><ul><li>视图是虚拟的表，视图只包含使用时动态检索数据的查询</li><li>视图本身不包含数据，它们返回的数据是从其他表中检索出来的</li><li>视图相当于把 select 语句给封装起来，简化数据处理以及重新格式化基础数据或保护基础数据</li></ul><p><img src="/images/MySQLCrashCourse/21.png" alt> </p><ul><li>视图不能被索引，也不能有关联的触发器或默认值</li><li>视图可以和表一起使用</li></ul><h3 id="简化复杂联结"><a href="#简化复杂联结" class="headerlink" title="简化复杂联结"></a>简化复杂联结</h3><ul><li>视图的最常见应用之一是隐藏复杂的SQL</li><li>就是把复杂的查询结果作为视图，然后提供给之后的查询使用，提高便利和复用性</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> viewName <span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> cN1,cN2,cN3</span><br><span class="line"><span class="keyword">from</span> tN1,tN2,tN3</span><br><span class="line"><span class="keyword">where</span> tN1.cN1 = tN2.cN1</span><br><span class="line">  <span class="keyword">and</span> tn3.cN1 = tN2.cN1;</span><br></pre></td></tr></table></figure></div></li><li><p>有了上面的视图创建之后，下面就可以很方便的利用已经创建好的视图，简化SQL</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,cN2</span><br><span class="line"><span class="keyword">form</span> viewName</span><br><span class="line"><span class="keyword">where</span> cN1 = <span class="number">2</span>;</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="重新格式化已检索的数据"><a href="#重新格式化已检索的数据" class="headerlink" title="重新格式化已检索的数据"></a>重新格式化已检索的数据</h3><ul><li>视图另一常见的用途是重新格式化检索出的数据</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">Concat</span>(<span class="keyword">RTrim</span>(cN1),<span class="string">'('</span>,<span class="keyword">RTrim</span>(cN2),<span class="string">')'</span>) <span class="keyword">as</span> NewcN</span><br><span class="line"><span class="keyword">from</span> tN2</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> cN1;</span><br></pre></td></tr></table></figure></div></li><li><p>如果经常会用到以上的格式的查询结果时，可以把这个结果创建成视图，就不必每次都执行联结</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> viewName <span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">Concat</span>(<span class="keyword">RTrim</span>(cN1),<span class="string">'('</span>,<span class="keyword">RTrim</span>(cN2),<span class="string">')'</span>) <span class="keyword">as</span> NewcN</span><br><span class="line"><span class="keyword">from</span> tN2</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> cN1;</span><br></pre></td></tr></table></figure></div></li><li><p>然后就可以很方便的利用它了</p></li><li><code>select * from viewName</code> 返回和上面一样的结果</li></ul><h3 id="过滤数据-1"><a href="#过滤数据-1" class="headerlink" title="过滤数据"></a>过滤数据</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> viewName <span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> cN1,cN2</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> cN2 <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>上面的可以理解为把 <code>select cN1,cN2 from tN</code>创建成视图 viewName</p></li><li>然后在 viewName 视图中使用 where 子句过滤</li><li>视图在处理 where 子句时，会把 where 子句添加到内部语句<code>select cN1,cN2 from tN</code>中，形成<code>select cN1,cN2 from tN where cN2 is not null;</code>进行查询，以便正确的过滤数据</li></ul><h3 id="计算字段-1"><a href="#计算字段-1" class="headerlink" title="计算字段"></a>计算字段</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cN1,cN2,cN3,cN1*cN3 <span class="keyword">as</span> NewcN</span><br><span class="line"><span class="keyword">from</span> tN</span><br><span class="line"><span class="keyword">where</span> cN2 = <span class="string">'value'</span>;</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> viewName <span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> cN1,cN2,cN3,cN1*cN3 <span class="keyword">as</span> NewcN</span><br><span class="line"><span class="keyword">from</span> tN;</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * </span><br><span class="line"><span class="keyword">from</span> viewName  </span><br><span class="line"><span class="keyword">where</span> cN2 = <span class="string">'value'</span>;</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="更新视图"><a href="#更新视图" class="headerlink" title="更新视图"></a>更新视图</h3><ul><li>视图没有数据，对视图进行增加或删除行，实际上是对其表的增加或删除行</li><li>通常，视图是可以更新的（insert/update/delete）,但是，并非所有视图都可以更新</li><li>也就是说，如果MySQL不能正确地确定被更新的基数据，则不允许更新</li><li>如果视图定义中有以下操作，则不能进行视图的更新<ol><li>分组 group by /having</li><li>联结</li><li>子查询</li><li>并</li><li>聚集函数</li><li>distinct</li><li>导出（计算）列</li></ol></li><li>换句话说，多数视图都是不可更新的</li><li>一般来说，应该将视图用于检索，而不用于更新</li></ul><h2 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a><center>存储过程</center></h2><ul><li>存储过程简单来说，就是为以后的使用而保存的一条或多条MySQL语句的集合</li><li>为什么要使用存储过程<ol><li>把处理封装在容易使用的单元中，简化复杂操作</li><li>开发人员都一起用一套存储过程，保证了数据的完整性</li><li>简化对变动的管理，只需要修改存储过程的代码即可</li><li>提高性能，使用存储过程比使用单独的SQL语句要快</li><li>存在一些只能使用在单个请求中的MySQL元素和特性，存储过程可以使用它们来编写功能更强更灵活的代码</li></ol></li></ul><h3 id="执行存储过程"><a href="#执行存储过程" class="headerlink" title="执行存储过程"></a>执行存储过程</h3><ul><li>MySQL称存储过程的执行为调用，因此执行存储过程的语句为 call</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> productpricing(@pricelow,</span><br><span class="line">                    @pricehigh,</span><br><span class="line">                    @priceaverage);</span><br></pre></td></tr></table></figure></div></li><li><p>执行名为 productpricing 的存储过程，返回最低、最高、平均价格</p></li><li>存储过程的结果可以显示，也可以不显示</li></ul><h3 id="创建存储过程"><a href="#创建存储过程" class="headerlink" title="创建存储过程"></a>创建存储过程</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> productpricing()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> avh(prod_price) <span class="keyword">as</span> priceaverage</span><br><span class="line">  <span class="keyword">from</span> products;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><p><code>create procedure</code> 创建存储过程</p></li><li><code>create procedure productpricing()</code> 如果存储过程接受参数，可以在（）中列举</li><li>begin 和 end 用来限定存储过程体</li><li>过程体本身就是 SQL 语句</li></ul><p><img src="/images/MySQLCrashCourse/22.png" alt> </p><p><img src="/images/MySQLCrashCourse/23.png" alt> </p><ul><li><code>call productpricing();</code>  执行刚才创建的存储过程并返回结果</li><li>存储过程实际上是一直函数，所以存储过程名后需要有（）</li></ul><h3 id="删除存储过程"><a href="#删除存储过程" class="headerlink" title="删除存储过程"></a>删除存储过程</h3><ul><li><code>drop procedure productpricing</code> 删除存储过程，存储过程名后面不带（）</li><li>如果指定的存储过程不存在，则产生错误提示</li><li><code>drop procedure is exist productpricing</code> 仅当存储过程存在的时候删除，不存在的时候删除也不会产生错误提示</li></ul><h3 id="使用参数"><a href="#使用参数" class="headerlink" title="使用参数"></a>使用参数</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> productpricing(</span><br><span class="line">  <span class="keyword">out</span> pl <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>),</span><br><span class="line">  <span class="keyword">out</span> ph <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>),</span><br><span class="line">  <span class="keyword">out</span> pa <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">min</span>(prod_price)</span><br><span class="line">  <span class="keyword">into</span> pl</span><br><span class="line">  <span class="keyword">from</span> products;</span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">max</span>(prod_price)</span><br><span class="line">  <span class="keyword">into</span> ph</span><br><span class="line">  <span class="keyword">from</span> products;</span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">avg</span>(prod_price)</span><br><span class="line">  <span class="keyword">into</span> pa</span><br><span class="line">  <span class="keyword">from</span> products;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>pl 最低价，ph 最高价，pa 平均价</p></li><li>out 关键字：从存储过程传出一个值给调用者</li><li>into 关键字：指定保存的变量</li><li>这里的整体意思是，把查询（select）的结果保存（into）到变量（pl/ph/pa）中，然后返回给调用者</li><li>此外、in 关键字：传递给存储过程；inout 关键字：对存储过程的传入和传出</li><li>以下调用该存储过程，传递对应数目的参数</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> productpricing(@pricelow,</span><br><span class="line">                    @pricehigh,</span><br><span class="line">                    @priceaverage);</span><br></pre></td></tr></table></figure></div></li><li><p>检索返回的值</p></li><li><code>select @pricelow,@pricehigh,@priceaverage;</code></li></ul><hr><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> ordertotal(</span><br><span class="line">  <span class="keyword">in</span> onmuber <span class="built_in">int</span>,</span><br><span class="line">  <span class="keyword">out</span> ototal <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">sum</span>(item_price*quantity)</span><br><span class="line">    <span class="keyword">from</span> orderitems</span><br><span class="line">    <span class="keyword">where</span> order_num = onumber</span><br><span class="line">    <span class="keyword">into</span> ototal;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><p><code>call ordertotal(20005,@total);</code></p></li><li><code>select @total;</code></li><li>想得到另外的结果，需要再次调用存储过程</li><li><code>call ordertotal(20009,@total);</code></li><li><code>select @total;</code></li></ul><h3 id="智能存储过程"><a href="#智能存储过程" class="headerlink" title="智能存储过程"></a>智能存储过程</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Name: ordertotal</span></span><br><span class="line"><span class="comment">-- Parameters: onumber = order number</span></span><br><span class="line"><span class="comment">--             taxable = 0 if not taxable, 1 if taxable</span></span><br><span class="line">               ototal = order total variable</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> ordertotal(</span><br><span class="line">  <span class="keyword">in</span> onumber <span class="built_in">int</span> ,</span><br><span class="line">  <span class="keyword">in</span> taxable <span class="built_in">boolean</span> ,</span><br><span class="line">  <span class="keyword">out</span> ototal <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>)</span><br><span class="line">) <span class="keyword">comment</span> <span class="string">'Obtain order total, optiona11y adding tax'</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">-- Declare variable for total</span></span><br><span class="line">  <span class="comment">-- Declare tax percentage</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">declare</span> total <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">  <span class="keyword">declare</span> taxrate <span class="built_in">int</span> <span class="keyword">default</span> <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">-- Get the order total</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">Sum</span>(item_ price*quantity)</span><br><span class="line">  <span class="keyword">from</span> orderitems</span><br><span class="line">  <span class="keyword">where</span> order_ <span class="keyword">num</span> = onumber</span><br><span class="line">  <span class="keyword">into</span> total;</span><br><span class="line"></span><br><span class="line">  <span class="comment">-- Is this taxable?</span></span><br><span class="line">  <span class="comment">-- Yes, so add taxrate to the total</span></span><br><span class="line"></span><br><span class="line">  if taxable then</span><br><span class="line">     <span class="keyword">select</span> total+(total/<span class="number">100</span>*taxrate) <span class="keyword">into</span> total;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">-- And finally,save to out variable</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">select</span> total <span class="keyword">into</span> ototal;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>注释（–）</p></li><li>declare 定义了局部变量</li><li>if , elseif , else 判断</li></ul><p><img src="/images/MySQLCrashCourse/24.png" alt> </p><ul><li>测试执行以上的存储过程</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> ordertotal(<span class="number">20005</span>,<span class="number">0</span>,@total);</span><br><span class="line"><span class="keyword">select</span> @total;</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> ordertotal(<span class="number">20005</span>,<span class="number">1</span>,@total);</span><br><span class="line"><span class="keyword">select</span> @total;</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="检查存储过程"><a href="#检查存储过程" class="headerlink" title="检查存储过程"></a>检查存储过程</h3><ul><li><code>show create procedure ordertotal;</code></li><li><code>show procedure status;</code></li></ul><p><img src="/images/MySQLCrashCourse/25.png" alt> </p><h2 id="游标"><a href="#游标" class="headerlink" title="游标"></a><center>游标</center></h2><ul><li>游标是一个存储在 MySQL 服务器上的数据库查询，他不是一条 select 语句，而是被该语句检索出来的结果集</li><li>游标主要用于交互式应用，其中用户需要滚动屏幕上的数据，并对数据进行浏览或做出更改</li><li>MySQL 游标只能用于存储过程</li></ul><h3 id="使用准则"><a href="#使用准则" class="headerlink" title="使用准则"></a>使用准则</h3><ul><li>在能够使用前，必须声明它</li><li>一旦声明后，必须打开游标以供使用</li><li>对于填有数据的游标，根据需要取出各行</li><li>在结束游标使用时，必须关闭游标</li></ul><h3 id="创建游标"><a href="#创建游标" class="headerlink" title="创建游标"></a>创建游标</h3><ul><li>游标用 declare 语句创建</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> processorders()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">declare</span> ordernumbers <span class="keyword">cursor</span></span><br><span class="line">    <span class="keyword">for</span></span><br><span class="line">    <span class="keyword">select</span> order_num <span class="keyword">from</span> orders;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>存储过程处理完成后，游标就消失（因为它局限于存储过程）</p></li></ul><h3 id="打开-关闭-游标"><a href="#打开-关闭-游标" class="headerlink" title="打开/关闭 游标"></a>打开/关闭 游标</h3><ul><li><code>open ordernumbers;</code>  打开游标</li><li>处理 open 语句时执行查询，存储检索出的数据以供浏览和滚动</li><li><code>close ordernumbers;</code> 关闭游标</li><li>close 释放游标使用的所有内部内存和资源，因此在每个游标不再需要时都应该关闭</li><li>声明过的游标不需要再次声明，用 open 语句打开它就可以了</li></ul><p><img src="/images/MySQLCrashCourse/26.png" alt></p><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> processorders()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">declare</span> ordernumbers <span class="keyword">cursor</span></span><br><span class="line">    <span class="keyword">for</span></span><br><span class="line">    <span class="keyword">select</span> order_num <span class="keyword">from</span> orders;</span><br><span class="line">    open ordernumbers;</span><br><span class="line">    close ordernumbers;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>打开/关闭 游标的操作需要在存储过程中使用，相当于把检索出的数据用游标定位再做一次检索</p></li><li>主要操作还是通过 call 存储过程来体现</li></ul><h3 id="使用游标数据"><a href="#使用游标数据" class="headerlink" title="使用游标数据"></a>使用游标数据</h3><ul><li>fetch 关键字：指定检索什么数据（所需的列），检索出来的数据存储在什么地方；他还向前移动游标中的内部行指针，使下一条 fetch 语句检索下一行（不重复读取同一行）</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> processorders()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">declare</span> o <span class="built_in">int</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">declare</span> ordernumbers <span class="keyword">cursor</span></span><br><span class="line">  <span class="keyword">for</span></span><br><span class="line">  <span class="keyword">select</span> order_num <span class="keyword">from</span> orders;</span><br><span class="line"></span><br><span class="line">  open ordernumbers;</span><br><span class="line">  fetch ordernumbers into o;</span><br><span class="line">  close ordernumbers;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>fetch 检索了当前行 order_num 列（自动从第一行开始）到一个名为 o 的局部变量中</p></li></ul><hr><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> processorders()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">declare</span> done <span class="built_in">boolean</span> <span class="keyword">default</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">declare</span> o <span class="built_in">int</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">declare</span> ordernumbers <span class="keyword">cursor</span></span><br><span class="line">  <span class="keyword">for</span></span><br><span class="line">  <span class="keyword">select</span> order_num <span class="keyword">from</span> orders;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">declare</span> continue <span class="keyword">handler</span> <span class="keyword">for</span> <span class="keyword">sqlstate</span> <span class="string">'02000'</span> <span class="keyword">set</span> done=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  open ordernumbers;</span><br><span class="line">  repeat</span><br><span class="line">    fetch ordernumbers into o;</span><br><span class="line">  until done <span class="keyword">end</span> <span class="keyword">repeat</span>;</span><br><span class="line">  close ordernumbers;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><p><code>repeat</code> 和 <code>until done end repeat;</code>之间为循环体，执行到 done 为真</p></li><li><code>declare continue handler for sqlstate &#39;02000&#39; set done=1;</code> continu handler 指出当 sqlstate ‘02000’ 出现时，设置 done 为 1 </li><li>sqlstate ‘02000’是一个未找到条件，当REPEAT由于没有更多的行供循环而不能继续时，出现这个条件</li></ul><p><img src="/images/MySQLCrashCourse/27.png" alt> </p><h3 id="完整实例"><a href="#完整实例" class="headerlink" title="完整实例"></a>完整实例</h3><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> ordertotal(</span><br><span class="line">  <span class="keyword">in</span> onumber <span class="built_in">int</span> ,</span><br><span class="line">  <span class="keyword">in</span> taxable <span class="built_in">boolean</span> ,</span><br><span class="line">  <span class="keyword">out</span> ototal <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>)</span><br><span class="line">) <span class="keyword">comment</span> <span class="string">'Obtain order total, optiona11y adding tax'</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">declare</span> total <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">  <span class="keyword">declare</span> taxrate <span class="built_in">int</span> <span class="keyword">default</span> <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">Sum</span>(item_ price*quantity)</span><br><span class="line">  <span class="keyword">from</span> orderitems</span><br><span class="line">  <span class="keyword">where</span> order_ <span class="keyword">num</span> = onumber</span><br><span class="line">  <span class="keyword">into</span> total;</span><br><span class="line"></span><br><span class="line">  if taxable then</span><br><span class="line">     <span class="keyword">select</span> total+(total/<span class="number">100</span>*taxrate) <span class="keyword">into</span> total;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">select</span> total <span class="keyword">into</span> ototal;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> processorders()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">declare</span> done <span class="built_in">boolean</span> <span class="keyword">default</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">declare</span> o <span class="built_in">int</span>;</span><br><span class="line">  <span class="keyword">declare</span> t <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">declare</span> ordernumbers <span class="keyword">cursor</span></span><br><span class="line">  <span class="keyword">for</span></span><br><span class="line">  <span class="keyword">select</span> order_num <span class="keyword">from</span> orders;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">declare</span> continue <span class="keyword">handler</span> <span class="keyword">for</span> <span class="keyword">sqlstate</span> <span class="string">'02000'</span> <span class="keyword">set</span> done=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exists</span> ordertotals(order_num <span class="built_in">int</span>,total <span class="built_in">decimal</span>(<span class="number">8</span>,<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">  open ordernumbers;</span><br><span class="line">  repeat</span><br><span class="line">    fetch ordernumbers into o;</span><br><span class="line">    <span class="keyword">call</span> ordertotal(o,<span class="number">1</span>,t);</span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> ordertotals(order_num,total)</span><br><span class="line">    <span class="keyword">values</span>(o,t);</span><br><span class="line">  until done <span class="keyword">end</span> <span class="keyword">repeat</span>;</span><br><span class="line">  close ordernumbers;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a><center>触发器</center></h2><ul><li>触发器：在事件发生的时候自动执行；在某个表发生更改时自动处理</li><li>触发器响应的语句：（1）delete（2）insert（3）update</li></ul><h3 id="创建触发器"><a href="#创建触发器" class="headerlink" title="创建触发器"></a>创建触发器</h3><ul><li>创建触发器的准则<ol><li>唯一的触发器名 </li><li>触发器关联的表</li><li>触发器应该响应的活动（delete/insert/update）</li><li>触发器何时执行（处理之前还是之后）</li></ol></li><li><code>create trigger</code> 创建触发器</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> newproduct <span class="keyword">after</span> <span class="keyword">insert</span> <span class="keyword">on</span> products</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span> <span class="keyword">select</span> <span class="string">'product added'</span></span><br></pre></td></tr></table></figure></div></li><li><p>创建名为 newproduct 的触发器</p></li><li>after insert 在 insert 语句执行后执行</li><li>on products 对于这个表进行响应</li><li>for each row 代码对每个插入行执行</li><li>‘product added’ 对每个插入的行显示一次</li><li>整个流程为：对 products 表每使用 insert 语句添加一行或多行，会看到对每个成功的插入，都会显示 product added 消息</li></ul><p><img src="/images/MySQLCrashCourse/28.png" alt> </p><ul><li>触发器安每个表每个事件每次地定义</li><li>每个表每个事件每次只允许一个触发器</li><li>因此，每个表最多支持6个触发器（每条insert、update、delete的之前和之后）</li><li>单一触发器不能与多个事件或多个表关联</li></ul><p><img src="/images/MySQLCrashCourse/29.png" alt> </p><h3 id="删除触发器"><a href="#删除触发器" class="headerlink" title="删除触发器"></a>删除触发器</h3><ul><li><code>drop trigger newproduct</code> 删除触发器</li><li>触发器不能更新或覆盖；修改一个触发器，必须先删除它，然后再重新创建</li></ul><h3 id="使用触发器"><a href="#使用触发器" class="headerlink" title="使用触发器"></a>使用触发器</h3><h4 id="insert-触发器"><a href="#insert-触发器" class="headerlink" title="insert 触发器"></a>insert 触发器</h4><ol><li>在 insert 触发器代码内，可以引用一个名为 new 的虚拟表，访问被插入的行</li><li>在 before insert 触发器中，new 中的值也可以被更新（允许更改被插入的值）</li><li>对于 auto_increment 列，new 在 insert 执行之前包含0，在 insert 执行之后包含新的自动生成值</li></ol><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> neworder <span class="keyword">after</span> <span class="keyword">insert</span> <span class="keyword">on</span> orders</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span> <span class="keyword">select</span> new.order_num;</span><br></pre></td></tr></table></figure></div></li><li><p>order_num 是 orders 中的自增字段</p></li><li>每次执行插入操作时，都会引用名为 new 的虚拟表，然后把 orders 中获得的 order_num 值填充到新的虚拟表中</li><li>order_num 是 orders 中的自增字段 ，因此该触发器必须 after insert , 因为 before insert 的话，order_num 还没生成</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> orders(order_date,cust_id)</span><br><span class="line"><span class="keyword">values</span>(<span class="keyword">now</span>(),<span class="number">10001</span>);</span><br></pre></td></tr></table></figure></div></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">|order_num|</span><br><span class="line">|—————————|              </span><br><span class="line">|  20001  |</span><br></pre></td></tr></table></figure></div></li></ul><p><img src="/images/MySQLCrashCourse/30.png" alt></p><h4 id="delete-触发器"><a href="#delete-触发器" class="headerlink" title="delete 触发器"></a>delete 触发器</h4><ol><li>在 delete 触发器代码内，可以引用一个名为 old 的虚拟表，访问被删除的行</li><li>old 中的值全都是只读的，不能更新</li></ol><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> deleteorder <span class="keyword">before</span> <span class="keyword">delete</span> <span class="keyword">on</span> orders</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> archive_orders(order_num,order_date,cust_id)</span><br><span class="line">  <span class="keyword">values</span>(old.order_num,old.order_date,old.cust_id)</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></div></li></ul><p><img src="/images/MySQLCrashCourse/31.png" alt></p><h4 id="update-触发器"><a href="#update-触发器" class="headerlink" title="update 触发器"></a>update 触发器</h4><ul><li>在 update 触发器代码中，可以引用一个名为 old 的虚拟表访问以前（update语句前）的值，引用一个名为 new 的虚拟表访问新更新的值</li><li>在 before update 触发器中，new 中的值可能也被更新（允许更改将要用于 update 语句中的值）</li><li>old 中的值全都是只读的，不能更新</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> updatevendor <span class="keyword">before</span> <span class="keyword">update</span> <span class="keyword">on</span> vendors</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span> <span class="keyword">set</span> new.vend_state = <span class="keyword">upper</span>(new.vend_state);</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a><center>事务</center></h2><h3 id="事务处理"><a href="#事务处理" class="headerlink" title="事务处理"></a>事务处理</h3><ul><li>并非所有引擎都支持事务处理</li><li>MyISAM 和 InnoDB 是两种最常用的引擎，前者不支持明确的事务处理管理，而后者支持</li><li>事务处理：可以用来维护数据库的完整性，保证成批的 MySQL 操作要么完全执行，要么完全不执行</li></ul><ol><li>事务（transaction）指一组SQL语句</li><li>回退（rollback）指撤销指定SQL语句的过程</li><li>提交（commit）指将未存储的SQL语句结果写入数据库表</li><li>保留点（savepoint）指事务处理中设置的临时占位符（place- holder），可以对它发布回退（与回退整个事务处理不同）</li></ol><h3 id="控制事务处理"><a href="#控制事务处理" class="headerlink" title="控制事务处理"></a>控制事务处理</h3><ul><li>管理事务处理的关键在于将SQL语句组分解为逻辑块，并明确规定数据何时应该回退，何时不应该回退</li><li><code>start transaction</code> 标识事务的开始</li></ul><h4 id="回退-rollback"><a href="#回退-rollback" class="headerlink" title="回退 rollback"></a>回退 rollback</h4><ul><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> ordertotals;</span><br><span class="line"><span class="keyword">start</span> <span class="keyword">transaction</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> ordertotals;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> ordertotals;</span><br><span class="line"><span class="keyword">rollback</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> ordertotals;</span><br></pre></td></tr></table></figure></div></li><li><p>rollback 语句回退 start transaction 之后的所有语句</p></li><li>整个流程为：（1）查看表内容不为空（2）标识事务开始（3）删除表内容（4）查看表内容为空（5）回退（6）查看表内容不为空</li><li>rollback 只能在一个事务处理内使用（在执行一条 start transaction 命令之后）</li></ul><p><img src="/images/MySQLCrashCourse/32.png" alt></p><h4 id="提交-commit"><a href="#提交-commit" class="headerlink" title="提交 commit"></a>提交 commit</h4><ul><li>一般的 MySQL 语句都是直接针对数据库表执行和编写的；这就是所谓的隐含提交（implicit commit），即提交（写或保存）操作是自动进行的</li><li>但是，在事务处理块中，提交不会隐含地提交</li><li>为进行明确的提交，使用 commit 语句</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">start</span> <span class="keyword">transaction</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> orderitems <span class="keyword">where</span> order_num = <span class="number">20010</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> orders <span class="keyword">where</span> order_num =<span class="number">20010</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure></div></li></ul><p><img src="/images/MySQLCrashCourse/33.png" alt></p><h4 id="保留点-savepoint"><a href="#保留点-savepoint" class="headerlink" title="保留点 savepoint"></a>保留点 savepoint</h4><ul><li>复杂一点的事务处理可能需要部分提交或回退</li><li>这个时候就需要在事务处理中合适的位置放置占位符，如果需要回退，就可以回退到占位符的位置，这些占位符就称为 保留点</li><li><code>savepoint delete1;</code> 创建保留点</li><li><code>rollback to delete1;</code> 回退到保留点</li></ul><p><img src="/images/MySQLCrashCourse/34.png" alt></p><p><img src="/images/MySQLCrashCourse/35.png" alt></p><h4 id="更改默认的提交行为"><a href="#更改默认的提交行为" class="headerlink" title="更改默认的提交行为"></a>更改默认的提交行为</h4><ul><li>默认的 MySQL 行为是自动提交所有更改；换句话说，任何时候你执行一条 MySQL 语句，该语句实际上都是针对表执行的，而且所做的更改立即生效</li><li><code>set autocommit = 0;</code>  为了让 MySQL 不自动提交更改 ，设置 autocommit 为0（假）</li></ul><p><img src="/images/MySQLCrashCourse/36.png" alt></p><h2 id="全球化和本地化"><a href="#全球化和本地化" class="headerlink" title="全球化和本地化"></a><center>全球化和本地化</center></h2><ul><li>数据库表用来存储和检索数据</li><li>不同的语言和字符集需要以不同的方式存储和检索</li><li>字符集：字母和符号的集合</li><li>编码：某个字符集成员的内部表示</li><li>校对：规定字符如何比较的指令</li></ul><p><img src="/images/MySQLCrashCourse/37.png" alt></p><ul><li><code>show character set;</code> 显示所有可用的字符集以及每个字符集的描述和默认校对</li><li><code>show collation;</code> 显示所有可用的校对，以及它们适用的字符集；有的字符集具有不止一次的校对</li></ul><hr><ul><li><code>show variables like &#39;character%&#39;;</code> 指定默认的字符集和校对</li><li><code>show variables like &#39;collation%&#39;;</code> </li><li>给表指定字符集和校对顺序</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> mytable</span><br><span class="line">(</span><br><span class="line">  columnn1 <span class="built_in">int</span>,</span><br><span class="line">  columnn2 <span class="built_in">varchar</span>(<span class="number">10</span>)</span><br><span class="line">) <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> hebrew</span><br><span class="line">  <span class="keyword">collate</span> hebrew_general_ci;</span><br></pre></td></tr></table></figure></div></li><li><p>给列指定字符集和校对顺序</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> mytable</span><br><span class="line">(</span><br><span class="line">  columnn1 <span class="built_in">int</span>,</span><br><span class="line">  columnn2 <span class="built_in">varchar</span>(<span class="number">10</span>)</span><br><span class="line">  columnn3 <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="built_in">character</span> <span class="keyword">set</span> latinl <span class="keyword">collate</span> latin1_general_ci  </span><br><span class="line">) <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> hebrew</span><br><span class="line">  <span class="keyword">collate</span> hebrew_general_ci;</span><br></pre></td></tr></table></figure></div></li><li><p>指定备用的顺序校对</p></li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> customers</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> lastname,firstname <span class="keyword">collate</span> latin1_general_cs;</span><br></pre></td></tr></table></figure></div></li></ul><p><img src="/images/MySQLCrashCourse/38.png" alt></p><ol><li>如果指定 character set 和 collate 两者，则使用这些值</li><li>如果只指定 character set ，则使用此字符集及其默认的校对</li><li>如果既不指定 character set ，也不指定 collate ，则使用数据库默认</li></ol><p><img src="/images/MySQLCrashCourse/39.png" alt></p><ul><li>如果绝对需要，串可以在字符集之间进行转换；使用 cast() 或 convert() 函数</li></ul><h2 id="安全管理"><a href="#安全管理" class="headerlink" title="安全管理"></a><center>安全管理</center></h2><ul><li>MySQL 用户账号和信息存在名为 mysql 的数据库中</li><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> mysql;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">user</span> <span class="keyword">from</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="用户设置"><a href="#用户设置" class="headerlink" title="用户设置"></a>用户设置</h3><p><img src="/images/MySQLCrashCourse/40.png" alt></p><ul><li><code>create user oreki identified by &#39;p@$$wOrd&#39;</code> 创建用户名和密码</li></ul><p><img src="/images/MySQLCrashCourse/41.png" alt></p><p><img src="/images/MySQLCrashCourse/42.png" alt></p><p><img src="/images/MySQLCrashCourse/43.png" alt></p><ul><li><code>rename user oreki to elias</code>  重命名一个用户账号</li><li><code>drop user elias</code> 删除一个用户账号</li></ul><p><img src="/images/MySQLCrashCourse/44.png" alt></p><ul><li><code>set password for elias = password(&#39;n3wp@$$wOrd&#39;)</code>  修改用户的密码</li><li><code>set password = password(&#39;n3wp@$$wOrd&#39;)</code>  不指定用户名时，更改当前登录用户的密码</li></ul><h3 id="权限设置"><a href="#权限设置" class="headerlink" title="权限设置"></a>权限设置</h3><ul><li>在创建用户账号后，必须接着分配访问权限</li><li>新创建的用户账号没有访问权限</li><li>它们能登录MySQL，但不能看到数据，不能执行任何数据库操作</li><li><code>show grants for elias</code> 查看用户账号的权限</li><li>grant 语句需要给出的信息： （1）要授予的权限（2）被授予访问权限的数据库或表（3）用户名</li><li><code>grant select on crashcourse.* to elias;</code> 允许用户 elias 在 crashcourse 数据库的所有表上使用 select ; 只授予 select 访问权限，具有 只读 访问权限</li><li>grant 的反操作为 revoke ,撤销特定的权限</li><li><code>revoke select on crashcourse.* from elias</code></li></ul><p><img src="/images/MySQLCrashCourse/45.png" alt></p><p><img src="/images/MySQLCrashCourse/46.png" alt></p><p><img src="/images/MySQLCrashCourse/47.png" alt></p><p><img src="/images/MySQLCrashCourse/48.png" alt></p><p><img src="/images/MySQLCrashCourse/49.png" alt></p><h2 id="数据库维护"><a href="#数据库维护" class="headerlink" title="数据库维护"></a><center>数据库维护</center></h2><ul><li><code>analyze table tN</code>  检查表键是否正确</li><li><code>check table tN</code> </li><li><code>flush tables</code>  刷新表</li><li><code>flush logs</code>  刷新日志</li></ul><p><img src="/images/MySQLCrashCourse/50.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Head First Java / After reading</title>
      <link href="/archives/HeadFirstJava/"/>
      <url>/archives/HeadFirstJava/</url>
      
        <content type="html"><![CDATA[<h2 id="Dog-d-new-Dog"><a href="#Dog-d-new-Dog" class="headerlink" title="Dog d =new Dog();"></a><center>Dog d =new Dog();</center></h2><ul><li>在 d 中保存的是存取Dog()对象的方法，存储了指向Dog()对象的地址，存储了引用Dog对象的值。<br>对象并没有放进变量中。</li></ul><p><img src="/images/HeadFirstJava/01.png" alt><br><a id="more"></a></p><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a><center>继承</center></h2><ul><li><p>is a 单方向判断</p></li><li><p>可以用 子类 is a 父类，来判断是否符合继承关系</p></li><li><p>super.xx(); 调用父类的方法</p></li></ul><p><img src="/images/HeadFirstJava/06.png" alt> </p><ul><li>JVM从最后的子类开始读取方法，层层向上读取</li></ul><h2 id="存取权限"><a href="#存取权限" class="headerlink" title="存取权限"></a><center>存取权限</center></h2><ul><li><p>private &lt; default &lt; protected &lt; public</p></li><li><p>public 的成员会被继承；private 的成员不会被继承</p></li><li><p>继承下来的方法可以被覆盖，但是成员变量无法被覆盖</p></li></ul><h2 id="抽象与接口"><a href="#抽象与接口" class="headerlink" title="抽象与接口"></a><center>抽象与接口</center></h2><ul><li><p>抽象类必须要被继承，抽象方法必须要被覆盖</p></li><li><p>如果声明出抽象方法，那必须将类也标记为抽象</p></li><li><p>有抽象方法的类一定是抽象类</p></li><li><p>抽象方法必须被其中的子类，或最后的子类实现</p></li><li><p>ArrayList 用到的是 Object 类型 ，所以ArrayList通用</p></li><li><p>ArrayList<int> 是限制它的类型，这样 ArrayList只能保存int类型对象</int></p></li><li><p>没有直接继承过其他类的类是隐含的继承对象。所有类都继承于 Object 类</p></li></ul><p><img src="/images/HeadFirstJava/04.png" alt> </p><ul><li>Object 类主要目的：（1）作为多态让方法可以应对多种类型的机制 （2）提供Java在执行期的所有对象都有需要的基础方法</li></ul><p><img src="/images/HeadFirstJava/02.png" alt> </p><ul><li>编译器只管引用的类型，而不管对象的类型；Animal a =new Dog(); 只根据引用类型 Animal 来判断有哪些方法可以调用</li></ul><p><img src="/images/HeadFirstJava/03.png" alt> </p><p><img src="/images/HeadFirstJava/05.png" alt> </p><h2 id="堆栈与对象"><a href="#堆栈与对象" class="headerlink" title="堆栈与对象"></a><center>堆栈与对象</center></h2><ul><li><p>JVM启动，从底层操作系统取得一块内存；在此内存执行Java程序</p></li><li><p>在这内存中有两种区域：（1）对象的生存空间堆 （2）方法调用和变量的生存空间栈</p></li></ul><p><img src="/images/HeadFirstJava/07.png" alt> </p><ul><li>变量在哪个空间要看它属于哪种变量：（1）实例变量（2）局部变量[栈变量]</li></ul><p><img src="/images/HeadFirstJava/08.png" alt> </p><ul><li>调用方法压栈</li></ul><p><img src="/images/HeadFirstJava/09.png" alt> </p><ul><li>局部变量在所属的方法中，所以在栈上；对象始终都是在堆上的</li></ul><p><img src="/images/HeadFirstJava/10.png" alt> </p><ul><li>实例变量在所属的对象里面，所以在堆上</li></ul><p><img src="/images/HeadFirstJava/11.png" alt> </p><ul><li><p>如果实例变量是个对像的引用，则引用和对象也都是在堆上</p></li><li><p>实例变量默认值：0/0.0/false,引用默认值 null</p></li></ul><h2 id="构造函数链"><a href="#构造函数链" class="headerlink" title="构造函数链"></a><center>构造函数链</center></h2><p><img src="/images/HeadFirstJava/12.png" alt> </p><ul><li>创建子类对象时，父类对象的构造函数也会被层层执行</li></ul><p><img src="/images/HeadFirstJava/13.png" alt> </p><ul><li>执行方法，先压栈，压栈完毕后才逐个从栈顶开始执行</li></ul><p><img src="/images/HeadFirstJava/14.png" alt> </p><ul><li>调用父类构造函数的方法 super()</li></ul><p><img src="/images/HeadFirstJava/15.png" alt> </p><ul><li>对 super() 的调用必须是构造函数的第一个语句</li></ul><p><img src="/images/HeadFirstJava/16.png" alt> </p><ul><li>给父类构造函数传参 super(xxx)</li></ul><p><img src="/images/HeadFirstJava/17.png" alt> </p><ul><li>从一个构造函数中调用另外一个构造函数 this()</li></ul><p><img src="/images/HeadFirstJava/18.png" alt> </p><h2 id="对象与垃圾回收器"><a href="#对象与垃圾回收器" class="headerlink" title="对象与垃圾回收器"></a><center>对象与垃圾回收器</center></h2><ul><li>对象的生命周期取决于引用它的变量的生命周期</li></ul><p><img src="/images/HeadFirstJava/19.png" alt> </p><p><img src="/images/HeadFirstJava/20.png" alt> </p><ul><li><p>对象被垃圾收集器回收</p><p>  （1）对象所处的方法执行完毕，方法弹出栈，因此里面的对象引用也消亡，所以对象没了引用，等待回收</p><p>  <img src="/images/HeadFirstJava/21.png" alt> </p><p>  （2）对象引用被赋予新的对象，旧的对象失去了引用，等待回收</p><p>  <img src="/images/HeadFirstJava/22.png" alt> </p><p>  （3）对象引用被赋予null,旧的对象同样失去了引用，等待回收</p></li></ul><p><img src="/images/HeadFirstJava/23.png" alt> </p><h2 id="静态"><a href="#静态" class="headerlink" title="静态"></a><center>静态</center></h2><ul><li><p>静态方法内没有变量，不依靠变量做出行为；可以直接通过类型方法调用</p></li><li><p>非静态方法需要先实例化，再依靠引用变量来调用</p></li></ul><p><img src="/images/HeadFirstJava/24.png" alt> </p><p><img src="/images/HeadFirstJava/25.png" alt> </p><ul><li>静态方法内无法调用非静态变量</li></ul><p><img src="/images/HeadFirstJava/26.png" alt> </p><ul><li>静态方法内无法调用非静态方法</li></ul><p><img src="/images/HeadFirstJava/27.png" alt> </p><ul><li>静态变量只会再第一次载入时进行初始化，并被同一个类的所有实例共享</li></ul><p><img src="/images/HeadFirstJava/28.png" alt> </p><ul><li><p>实例变量：每个实例共享一个</p></li><li><p>静态变量：每个类共享一个</p></li><li><p>静态变量在所属的类的对象创建之前就完成初始化</p></li></ul><p><img src="/images/HeadFirstJava/29.png" alt> </p><ul><li>同时标记静态 static 和 final 的变量是常数，一般命名都是全大写字母</li></ul><p><img src="/images/HeadFirstJava/30.png" alt> </p><ul><li>final 可以用来固定值不变，方法不能被覆盖，类不能被继承</li></ul><p><img src="/images/HeadFirstJava/31.png" alt> </p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How Program Works / After reading</title>
      <link href="/archives/HowProgramWorks/"/>
      <url>/archives/HowProgramWorks/</url>
      
        <content type="html"><![CDATA[<h2 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a><center>CPU</center></h2><ul><li>CPU(Central Processing Unit)[寄存器、控制器、运算器、时钟]</li></ul><p><img src="/images/HowProgramWorks/01.png" alt> </p><ul><li><p>寄存器：暂存指令、数据</p></li><li><p>控制器：把内存上的指令、数据读入寄存器，并根据结果控制计算机</p></li><li><p>运算器：运算从内存读入寄存器的数据</p></li><li><p>时钟：发起计时</p></li><li><p>程序运行的过程:程序启动后,时钟开始计时,控制器从内存中读取指令和数据,运算器计算数据,控制器根据结果控制计算器</p><a id="more"></a><p><img src="/images/HowProgramWorks/02.png" alt> </p></li><li><p>程序把寄存器作为对象来描述</p></li><li>汇编：将汇编语言转成机器语言;反汇编则反之</li><li>数据分为“用于运算的数据”和“表示内存地址的数据”</li><li>累加寄存器存放“用于运算的数据”</li><li>基址寄存器、变址寄存器存放“表示内存地址的数据”</li></ul><p><img src="/images/HowProgramWorks/03.png" alt> </p><ul><li>程序计数器、累加寄存器、标志寄存器、指令寄存器和栈寄存器都只有一个，其他寄存器一般有多个</li><li>CPU是寄存器的集合体</li></ul><p><img src="/images/HowProgramWorks/04.png" alt> </p><ul><li>程序的流程由标志寄存器控制，标志寄存器保存当前流程执行的结果，然后选择路径（跳转指令）</li></ul><p><img src="/images/HowProgramWorks/05.png" alt> </p><p><img src="/images/HowProgramWorks/06.png" alt> </p><p><img src="/images/HowProgramWorks/07.png" alt> </p><ul><li>函数调用（call指令）；return指令讲先前保存到栈中的地址设定到程序计数器中（这样函数就能返回开始调用时的位置）</li></ul><p><img src="/images/HowProgramWorks/08.png" alt> </p><ul><li>通过基址寄存器和变址寄存器来划分内存上的特定区域</li></ul><p><img src="/images/HowProgramWorks/09.png" alt> </p><ul><li>机器语言指令主要类型:数据传送、运算、跳转、call/return</li></ul><h2 id="二进制表示数据"><a href="#二进制表示数据" class="headerlink" title="二进制表示数据"></a><center>二进制表示数据</center></h2><ul><li>8位=1字节</li><li>集成电路（IC）所有引脚，只有直流电压0V或5V两个状态；所以IC一个引脚只能表示两个状态，决定了计算机数据只能采用二进制01来处理。</li><li>最小单位（bit）相当于二进制中的一位；bit（binary digit）</li></ul><p><img src="/images/HowProgramWorks/10.png" alt> </p><ul><li>二进制的位数一般是8的倍数，8位二进制数=1个字节</li><li>字节是最基本的信息计量单位，位是最小单位，字节是基本单位</li><li>内存和磁盘都使用字节单位来存储和读写数据，使用位单位则无法读写数据。因此，字节是信息的基本单位</li><li>二进制 → 十进制</li></ul><p><img src="/images/HowProgramWorks/11.png" alt> </p><ul><li>移位运算：&lt;&lt; 左移低位补0 ；</li></ul><p><img src="/images/HowProgramWorks/12.png" alt> </p><ul><li>移位操作使最高位或最低位溢出的数字，直接丢弃</li></ul><p><img src="/images/HowProgramWorks/13.png" alt> </p><ul><li>移位运算：&gt;&gt; 右移（逻辑、算数）[右移要区分逻辑位移和算术位移]</li><li>二进制表示负数：最高位为符号位；0正1负</li><li>1 二进制为 00000001 ；-1 二进制为 1111111</li><li>表示负数要用“二进制的补数”，补数：用正数来表示负数[比如：1-1 可以换种形式 1+（-1）]</li><li>获得补数：将二进制数位的数值全部取反，再加1</li></ul><p><img src="/images/HowProgramWorks/14.png" alt> </p><ul><li>溢出的位，计算机直接忽略掉</li></ul><p><img src="/images/HowProgramWorks/15.png" alt> </p><p><img src="/images/HowProgramWorks/16.png" alt> </p><ul><li>0 划分为正数 ，所以负数要比正数多一个；各种数据类型都是负数多一个(比如 short -32768~32767)</li><li>逻辑右移：当二进制数的值表示图形模式的时候，移位后需要在最高位补0</li><li>算数右移：当二进制数作为带符号的数值进行运算的时候，移位后要在最高位填充移位前符号位的值（0或1）</li></ul><p><img src="/images/HowProgramWorks/17.png" alt></p><ul><li>符号扩充：保持值不变的前提下将其转换成 16 位和 32 位的二进制数</li></ul><p><img src="/images/HowProgramWorks/18.png" alt></p><ul><li>非：0变1，1变9，取反</li><li>与：两个都为1，结果为1，其他情况为0</li><li>或：只要有1，结果就为1</li><li>异或：两个数不同，结果为1，其他0</li><li>0 false ; 1 true</li></ul><h2 id="小数运算出错的原因"><a href="#小数运算出错的原因" class="headerlink" title="小数运算出错的原因"></a><center>小数运算出错的原因</center></h2><ul><li>0.1累加100次不等于10，结果为10.000002</li><li>原因是有一些十进制的小数无法转换成二进制数（和0.3333···的三倍无法得出1是一个道理）</li><li>原因：（1）采用浮点数来处理小数；（2）位溢出</li></ul><p><img src="/images/HowProgramWorks/19.png" alt></p><ul><li>计算机无法直接处理循环小数</li><li>双精度浮点数类型64位，单精度浮点数类型用32位</li></ul><p><img src="/images/HowProgramWorks/20.png" alt></p><ul><li>回避策略：（1）无视，微小误差可以忽略；（2）把小数转成整数计算 </li></ul><h2 id="内存"><a href="#内存" class="headerlink" title="内存"></a><center>内存</center></h2><ul><li>内存是 名为 内存集成电路 的电子元件</li></ul><p><img src="/images/HowProgramWorks/21.png" alt></p><ul><li>1K = 1024</li><li>+5V直流电压表示1，0V表示0</li><li>D0~D7共八个，表示一次可以输入输出8位（1字节）数据</li><li>A0~A9共十个，表示可以指定0000000000～1111111111（1024）地址</li><li>可以得出这个内存集成电路（IC）可以存储1024个1字节的数据，所以该内存IC的容量为1KB</li><li>现实中我们的内存IC会有更多的信号引脚，这样就能在一个内存IC中存储更多数据</li><li>内存IC的物理读写机制</li></ul><p><img src="/images/HowProgramWorks/22.png" alt></p><ul><li>内存逻辑模型</li></ul><p><img src="/images/HowProgramWorks/23.png" alt></p><ul><li>变量占用内存大小</li></ul><p><img src="/images/HowProgramWorks/24.png" alt></p><ul><li>指针</li></ul><p><img src="/images/HowProgramWorks/25.png" alt></p><ul><li>数组占用内存大小</li></ul><p><img src="/images/HowProgramWorks/26.png" alt></p><h2 id="磁盘"><a href="#磁盘" class="headerlink" title="磁盘"></a><center>磁盘</center></h2><ul><li>存储程序方式：程序保存在存储设备（磁盘、内存）中，通过有序地被读取出来实现运行</li></ul><p><img src="/images/HowProgramWorks/27.png" alt></p><ul><li>磁盘缓存，把已经在磁盘读取过的数据保存到内存，下次读取同样的数据就会从内存读取</li></ul><p><img src="/images/HowProgramWorks/28.png" alt></p><ul><li>把低素设备的数据保存在高速设备中，需要时可以直接从告诉设备中读取</li><li>Web浏览器也用到了此缓存方式，把从网络获取的数据暂时保存在磁盘中，需要时再读取</li><li>磁盘缓存：把内存的一部分当作磁盘使用（实际用的是内存）</li><li>虚拟内存：把磁盘的一部分当作内存使用（实际用的是磁盘）</li><li>CPU只能执行加载到内存中的程序</li><li>虚拟内存虽说把磁盘当内存使用，但是实际正在运行的程序，这个时间点是必须存在于内存中的</li><li>所以为了实现虚拟内存，需要把 磁盘的虚拟内存里的内容 与 实际内存里的内容 进行置换</li><li>虚拟内存的方法：（1）分页式[Windows]（2）分段式</li><li>分页式，把运行的程序按照一定大小的页(windows一般情况为 4KB )进行分割；以页为单位再磁盘和内存中置换，从磁盘读入内存（Page In）,反之（Page Out）</li></ul><p><img src="/images/HowProgramWorks/29.png" alt></p><ul><li>虚拟内存可以避免因内存不足导致的应用无法启动问题，从根本上解决还是要增加内存容量</li><li>exe (executable)可执行，DLL （Dynamic Link Library）动态链接库</li></ul><h2 id="压缩数据"><a href="#压缩数据" class="headerlink" title="压缩数据"></a><center>压缩数据</center></h2><ul><li>文件是字节数据的集合，在任何情况下，文件的字节数据都是连续的</li></ul><p><img src="/images/HowProgramWorks/30.png" alt></p><ul><li>RLE算法（Run Length Encoding） [ 数据 X 重复次数 ]</li></ul><p><img src="/images/HowProgramWorks/31.png" alt></p><ul><li>哈夫曼算法 “出现频率高的字符用尽量少的位数编码来表示”</li><li>能够还原到压缩前状态的压缩成为可逆压缩，反之，非可逆压缩</li></ul><p><img src="/images/HowProgramWorks/32.png" alt></p><h2 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a><center>运行环境</center></h2><ul><li>运行环境 = 操作系统 + 硬件</li><li>CPU只能解释其自身固有的机器语言</li><li>不同的CPU能解释的机器语言的种类不同，例如：x86、MIPS、SPARC、PowerPC</li><li>转换成 机器语言的程序 称为 本地代码</li><li>文本文件（源代码）在任何环境都能显示和编辑</li><li>源代码 → 编译 → 本地代码（本机CPU可解释的机器语言）</li></ul><p><img src="/images/HowProgramWorks/33.png" alt></p><ul><li>MS-DOS（Microsoft Disk Operating System） → Windows</li><li>Windows 克服了大多数的硬件差异问题</li></ul><p><img src="/images/HowProgramWorks/34.png" alt></p><p><img src="/images/HowProgramWorks/35.png" alt></p><ul><li><p>应用软件必须根据操作系统类型来开发，因为操作系统类型不同，应用程序向操作系统传递指令的途径（API [Application Programming interface]）不同</p></li><li><p>移植：根据不同的运行环境来重新调整程序</p></li><li>Java → 编译 → 字节码 → 运行 → Java虚拟机 → 转换 → 本地代码</li></ul><p><img src="/images/HowProgramWorks/36.png" alt></p><ul><li>从操作系统方面来看，Java虚拟机是一个应用</li><li>从Java应用方面来看，Java虚拟机是运行环境</li><li>不同的Java虚拟机之间无法完整互换</li><li>Java程序运行速度慢，因为Java虚拟机每次运行都需要把字节码转换成本地代码</li><li>BIOS (Basic Input/Output System) , 启动 “引导程序”</li><li>引导程序 把在硬盘等记录的操作系统加载到内存中运行</li></ul><h2 id="编译过程"><a href="#编译过程" class="headerlink" title="编译过程"></a><center>编译过程</center></h2><p><img src="/images/HowProgramWorks/37.png" alt></p><ul><li>Windows中exe文件的程序内容，使用的就是本地代码</li></ul><p><img src="/images/HowProgramWorks/38.png" alt></p><ul><li>Dump：把文件的内容，每个字节用2位十六进制数来表示</li></ul><p><img src="/images/HowProgramWorks/39.png" alt></p><ul><li>编译器：将高级语言写的源代码转换成本地代码的程序</li><li>每个高级语言都有它专用的编译器，C语言 —— C编译器</li><li>CPU类型不同，本地代码的类型也不同；因此，编译器和 编程语言种类、CPU类型相关</li><li>例如：Pentium等x86系统CPU用的C编译器，和PowerPC的CPU用的C编译器是不同的</li></ul><p><img src="/images/HowProgramWorks/40.png" alt></p><ul><li>交叉编译器：生成和运行环境中的CPU不同的CPU所使用的本地代码；也就是说可以生成不同于本机CPU类型的本地代码</li></ul><p><img src="/images/HowProgramWorks/41.png" alt></p><ul><li>本地代码是无法直接运行的，需要得到可运行的exe文件，所以编译后还需要进行“链接”处理</li><li>把多个目标文件（.obj）结合，生成1个exe文件的处理就是链接</li><li>运行链接的程序 就称为 链接器</li><li>库文件:把多个目标文件集成到一个文件</li></ul><p><img src="/images/HowProgramWorks/42.png" alt></p><ul><li>内存泄漏：如果没有在程序中释放堆的内存空间，该内存空间会一直残留</li><li><p>内存泄漏如果一直存在，就有可能会造成内存不足从而导致宕机</p></li><li><p>编译器：在运行前对源代码进行解释处理</p></li><li>解释器：在运行时对源代码内容一行一行的进行解释处理</li><li>分割编译：将整个程序分成多个源代码来编写，然后分别进行编译，最后链接成一个exe文件</li></ul><h2 id="操作系统与应用"><a href="#操作系统与应用" class="headerlink" title="操作系统与应用"></a><center>操作系统与应用</center></h2><ul><li>仅具有加载和运行功能的监控程序，是操作系统的原型</li></ul><p><img src="/images/HowProgramWorks/43.png" alt></p><ul><li>随着时代发展，渐渐的把同样处理的程序集成到监控程序中</li></ul><p><img src="/images/HowProgramWorks/44.png" alt></p><ul><li>操作系统可以说是多个程序的集合体 </li></ul><p><img src="/images/HowProgramWorks/45.png" alt></p><ul><li>各种应用只是在利用操作系统的功能而已</li><li>在操作系统诞生后，就不需要再编写直接控制硬件的程序了</li><li>这样制作软件应用逐渐与硬件分离，也就解耦了；无需再考虑硬件问题，硬件问题交给操作系统去处理</li></ul><p><img src="/images/HowProgramWorks/46.png" alt></p><ul><li>高级语言不依赖特定的操作系统，使用独自的函数名，然后在编译时将其转换成相应操作系统的系统调用</li></ul><p><img src="/images/HowProgramWorks/47.png" alt></p><ul><li>操作系统和高级语言能够使硬件抽象化</li><li>文件是操作系统对磁盘媒介空间的抽象化</li></ul><p><img src="/images/HowProgramWorks/48.png" alt></p><ul><li>时钟分割：短时间间隔内，多个程序切换运行的方式；Windsows通过这种方式实现多任务功能</li></ul><p><img src="/images/HowProgramWorks/49.png" alt></p><ul><li>中间件：处于操作系统和应用的中间</li><li>系统软件：操作系统和中间件合合在一起</li></ul><p><img src="/images/HowProgramWorks/50.png" alt></p><h2 id="汇编"><a href="#汇编" class="headerlink" title="汇编"></a><center>汇编</center></h2><ul><li>汇编语言的源文件 .asm （assembler）</li><li>汇编语言：使用助记符的编程语言</li><li>汇编语言源代码 → 用汇编器转换 → 本地代码</li><li>在将源代码转换成本地代码这个功能上，汇编器和编译器是同样的</li><li>汇编语言的编写的源代码，和本地代码一一对应</li></ul><p><img src="/images/HowProgramWorks/51.png" alt></p><ul><li>C语言源代码 → 编译 → 本地代码 → 反汇编 → 汇编源代码</li><li>可以通过以上反汇编的方式，分析其代码内容；一般的逆向工程</li><li>汇编语言的源代码：由 （1）转换成本地代码的指令（2）针对汇编器的伪指令 构成</li><li>伪指令负责把程序的构造和汇编的方法指示给汇编器；伪指令本身是无法汇编转换成本地代码的</li></ul><p><img src="/images/HowProgramWorks/52.png" alt></p><p><img src="/images/HowProgramWorks/53.png" alt></p><ul><li>由伪指令 segment 和 ends 围起来的部分，是给构成程序的命令和数据的集合体加上一个名字而得到的，称为 段定义</li><li>在程序中，段定义指的是命令和数据等程序的集合体的意思</li><li>段定义是一个连续的内存空间</li><li>一个程序由多个段定义构成</li><li>源代码的开始位置，定义了 3 个名称分别为 _TEXT、_DATA、_BSS的段定义</li><li>_TEXT 是指令的段定义</li><li>_DATA 是被初始化（有初始值）的数据的段定义</li><li>_BSS 是尚未初始化的数据的段定义</li><li>group这一伪指令，表示的是把_BSS 和 _DATA 这两个段定义汇总为名为 DGROUP 的组</li><li>group 指的是将源代码中不同的段定义在本地代码程序中整合为一个</li><li>围起 _AddNum 和 _MyFun 的 _TEXT segment 和 _TEXT ends，表示 _AddNum 和 _MyFunc 是属于 _TEXT 这一段定义的</li><li>_AddNum proc 和 _AddNum endp 围起来的部分，以及 _MyFunc proc 和 MyFunc endp 围 起来的部分，分别表示 AddNum 函数和 MyFunc 函数的范围</li><li>伪指令 proc 和 endp 围起来的部分，表示的是 过程（procedure）的范围；在汇编语言中，这种相当于 C 语言的函数的形式称为过程</li><li>末尾的 end 伪指令，表示的是源代码的结束</li><li>在汇编语言中，一行表示对CPU的一个指令</li><li>汇编语言指令的语法结构是操作码 + 操作数 （也存在只有操作码没有操作数的指令）</li><li>操作码表示的是指令动作，操作数表示的是指令对象</li><li>能够使用何种形式的操作码，是由 CPU 的种类决定的</li><li>32 位 x86 系列 CPU 用的操作码</li></ul><p><img src="/images/HowProgramWorks/54.png" alt></p><ul><li>本地代码加载到内存后才能运行；内存中存储着构成本地代码的指令和数据</li><li>CPU从内存中把指令和数据读出，然后由存储在CPU内部的寄存器来处理</li></ul><p><img src="/images/HowProgramWorks/55.png" alt></p><ul><li>寄存器不仅有存储指令和数据的功能，也有运算的功能</li></ul><p><img src="/images/HowProgramWorks/56.png" alt></p><ul><li>LIFO （Last In First Out）; push 入栈 ， pop 出栈</li></ul><p><img src="/images/HowProgramWorks/57.png" alt></p><h2 id="硬件控制"><a href="#硬件控制" class="headerlink" title="硬件控制"></a><center>硬件控制</center></h2><ul><li>应用通过系统调用间接控制硬件</li></ul><p><img src="/images/HowProgramWorks/58.png" alt></p><ul><li>计算机主机中附带了用来连接外部设备的连接器，各个连接器内部都有用来交换主机和外设之间电流特性的IC,这些IC（集成电路）统称为 I/O 控制器</li><li>由于电压不同，数字信号和模拟信号的电流特征不同，主机和外设无法直接连接，I/O 控制器就是用来解决此类问题的</li><li>I/O 控制器中有用于临时保存输入输出数据的内存，这个内存就是 端口 ，也称为 寄存器</li><li>I/O 寄存器主要是用来临时存储数据的，CPU内部的寄存器是用来进行运算处理的</li><li>各端口之间通过 端口号 区分，也称为 I/O 地址</li></ul><p><img src="/images/HowProgramWorks/59.png" alt></p><ul><li>IRQ(Interrupt Request) 中断请求</li><li>IRQ 是用来暂停当前正在运行的程序，并跳转到其他程序运行的必要机制，该机制称为中断处理</li></ul><p><img src="/images/HowProgramWorks/60.png" alt></p><p><img src="/images/HowProgramWorks/61.png" alt></p><ul><li>DMA(Direct Memory Access):在不通过CPU的情况下，外围设备直接和主内存进行数据传送</li></ul><p><img src="/images/HowProgramWorks/62.png" alt></p><ul><li>VRAM(Video RAM):显示器中呈现的内容信息一直存储在某内存中</li></ul><p><img src="/images/HowProgramWorks/63.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> OS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Preliminary use Mongodb</title>
      <link href="/archives/PreliminaryUseMongodb/"/>
      <url>/archives/PreliminaryUseMongodb/</url>
      
        <content type="html"><![CDATA[<h3 id="安装启动"><a href="#安装启动" class="headerlink" title="安装启动"></a><center>安装启动</center></h3><ul><li><code>docker pull mongo</code></li><li><code>docker run -d -p 127.0.0.1:27017:27017 --name mymongo mongo</code></li><li><code>docker exec -it mymongo mongo</code></li></ul><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a><center>数据库</center></h3><ul><li><code>show dbs</code></li><li><code>use elias</code> 建立数据库 elias</li><li><code>db</code> 当前所在数据库</li><li><code>db.dropDatabase()</code></li></ul><a id="more"></a><h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a><center>集合</center></h3><ul><li><p><code>db.createCollection(&quot;post&quot;)</code> 建集合(表) post 👉<a href="https://www.runoob.com/mongodb/mongodb-databases-documents-collections.html" target="_blank" rel="noopener">MongoDB 概念解析</a></p></li><li><p><code>show collections</code></p></li><li><code>db.[collectionsName].drop()</code></li></ul><h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a><center>文档</center></h3><h4 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h4><ul><li><code>db.[collectionsName].insertOne()</code></li><li><code>db.[collectionsName].insert({key:&quot;value&quot;})</code></li><li>也可以把数据先赋给变量 , 再插入变量  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">document=(&#123;tiltle:&quot;20191220&quot;,by:&apos;elias&apos;,tag:&apos;note&apos;&#125;)</span><br><span class="line">db.[collectionsName].insert(document)</span><br></pre></td></tr></table></figure></div></li></ul><h4 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h4><ul><li><p><code>db.[collectionName].updateOne({key:&quot;value&quot;} , {$set:{key:&quot;Newvalue&quot;} )</code> 符合 key=value 的文档的 key 的 value 修改为 Newvalue ; $set 如果该文档没有该域(字段) , 则会追加上去</p></li><li><p><code>db.[collectionName].updateOne({key:&quot;value&quot;} , {$set:{key:&quot;Newvalue&quot;} , {multi:true})</code> 修改多条符合条件的值</p></li><li><p><code>db.[collectionName].updateOne({key:&quot;value&quot;} , {$unset:{key:&quot;Newvalue&quot;} )</code>  删除符合 key=value 的文档的 key 域(字段)</p></li><li><p><code>db.[collectionName].updateMany()</code></p></li><li><p><code>db.[collectionName].update( {key:&quot;value&quot;},{$inc: {key2:2}} )</code> 符合 key=value 的文档的 key2 的 value 加 2</p></li><li><p><code>db.[collectionName].update( {key:&quot;value&quot;},{$mul: {key2:2}} )</code> 符合 key=value 的文档的 key2 的 value 乘 2</p></li><li><p><code>db.[collectionName].update( {key:&quot;value&quot;},{$rename: {key2:key3}} )</code> 符合 key=value 的文档的 key2 改名为 key3</p></li><li><p><code>db.[collectionName].updateOne({key:&quot;value&quot;} ,{key:&quot;value&quot;,key2:&quot;value2&quot;,...} , {upsert:true})</code> 有符合条件文档的就更新 , 没有则插入该文档</p></li></ul><h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><ul><li><code>db.[collectionName].deleteOne()</code></li><li><code>db.[collectionName].deleteMany()</code></li></ul><h4 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h4><ul><li><code>db.[collectionsName].find()</code> 查看文档</li><li><code>db.[collectionsName].find().pretty()</code> </li><li><code>db.[collectionsName].find()</code></li><li><code>db.[collectionsName].findOne()</code></li><li><code>db.[collectionsName].find({},{_id:0})</code> 0 查询结果不包含id , 1 反之</li><li><code>db.[collectionsName].find({key:&quot;value&quot;})</code></li><li><code>db.[collectionsName].find({key:{$gte:3}})</code> 大于等于3 <strong>$gte</strong></li><li><code>db.[collectionsName].find({key:{$gt:3}})</code> 大于 <strong>$gt</strong></li><li><code>db.[collectionsName].find({key:{$lte:3}})</code> 小于等于 <strong>$lte</strong></li><li><code>db.[collectionsName].find({key:{$lt:3}})</code> 小于 <strong>$lt</strong></li><li><code>db.[collectionsName].find({key:{$regex:&quot; &quot;}})</code> 正则表达式</li><li><code>db.[collectionsName].find({key:/ /})</code></li><li><p><code>db.[collectionsName].find({key:{$regex:&quot; &quot;},key2:{$gt:3},...,...})</code> 复合条件,筛选同时符合条件的数据</p></li><li><p><code>db.[collectionsName].find({ $or: [{key:/ /},{key2:{$gt:3}}] })</code>  筛选符合 key 或者 key2 的数据</p></li><li><p><code>db.[collectionsName].find({key:{$in : [..,..,..]}})</code> 和 select in 一样</p></li><li><code>db.[collectionsName].distinct(&quot;key&quot;)</code> 取出键所含的内容</li><li><code>db.[collectionsName].find({...}).sort({key:1})</code> 1 升序 , -1 降序</li><li><code>db.[collectionsName].find({...}).limit(3)</code> 提取前三条文档</li><li><code>db.[collectionsName].find({...}).skip(3)</code> 跳过三条文档</li></ul><h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a><center>索引</center></h3><ul><li><code>db.[collectionsName].getIndexes()</code> 默认索引</li><li><code>db.[collectionsName].createIndex({key:1})</code> 以 key 升序建立索引 ; -1 降序</li><li><code>db.[collectionsName].dropIndex({key:1})</code> 删除索引</li><li><code>db.[collectionsName].createIndex({key:1},{unique:true})</code> 升序唯一索引 , 之后新建文档的 key 的 value 不能与前面的重复</li></ul><h3 id="参考内容"><a href="#参考内容" class="headerlink" title="参考内容"></a>参考内容</h3><ul><li><a href="https://hub.docker.com/_/mongo/?tab=description" target="_blank" rel="noopener">mongo - Docker Hub</a></li><li><a href="https://docs.mongodb.com/manual/reference/command/" target="_blank" rel="noopener">Database Commands - MongoDB Manual</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Mongodb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker Note</title>
      <link href="/archives/DockerNote/"/>
      <url>/archives/DockerNote/</url>
      
        <content type="html"><![CDATA[<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a><center>常用命令</center></h3><ul><li><code>docker version</code></li><li><code>systemctl start docker</code></li></ul><h4 id="镜像"><a href="#镜像" class="headerlink" title="镜像"></a>镜像</h4><ul><li><code>docker image ls</code></li><li><code>docker image rm [imageName]</code></li><li><code>docker image pull [imageName]</code></li><li><code>docker inspect [imageName]</code> 获取元数据</li></ul><h4 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h4><ul><li><code>docker container run [imageName]</code></li><li><code>docker container run -it [imageName] bash</code></li><li><code>docker container kill [containerID]</code> id不用填完整 , 能够唯一定位到即可</li><li><code>docker container ls</code></li><li><code>docker container ls --all</code></li><li><code>docker container rm [containerID]</code></li><li><code>docker container stop [containerID]</code>  //container 可省略</li><li><code>docker container start [containerID]</code></li><li><code>docker container logs [containerID]</code></li><li><code>docker container exec -it [containerID] /bin/bash</code></li><li><code>docker container inspect [containerID/Name]</code></li></ul><a id="more"></a><h3 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a><center>Dockerfile</center></h3><h4 id="dockerignore"><a href="#dockerignore" class="headerlink" title=".dockerignore"></a>.dockerignore</h4><p>忽略内容 , 和 git 的 .gitignore 一个意思<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node_modules</span><br><span class="line">npm-debug.log</span><br></pre></td></tr></table></figure></div></p><h4 id="Dockerfile-1"><a href="#Dockerfile-1" class="headerlink" title="Dockerfile"></a>Dockerfile</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FROM node:8.4</span><br><span class="line">COPY . /app</span><br><span class="line">WORKDIR /app</span><br><span class="line">RUN npm install --registry=https://registry.npm.taobao.org</span><br><span class="line">EXPOSE 3000</span><br></pre></td></tr></table></figure></div><ul><li>FROM node:8.4：该 image 文件继承官方的 node image，冒号表示标签，这里标签是8.4，即8.4版本的 node</li><li>COPY . /app：将当前目录下的所有文件（除了.dockerignore排除的路径），都拷贝进入 image 文件的/app目录</li><li>WORKDIR /app：指定接下来的工作路径为/app</li><li>RUN npm install：在/app目录下，运行npm install命令安装依赖。注意，安装后所有的依赖，都将打包进入 image 文件</li><li>EXPOSE 3000：将容器 3000 端口暴露出来， 允许外部连接这个端口</li><li>👉<a href="https://yeasy.gitbooks.io/docker_practice/content/image/build.html" target="_blank" rel="noopener">镜像构建上下文</a></li></ul><h4 id="创建-image-镜像"><a href="#创建-image-镜像" class="headerlink" title="创建 image 镜像"></a>创建 image 镜像</h4><ul><li><code>docker image build -t [name] .</code></li><li><code>docker image build -t [name]:0.0.1 .</code></li><li><code>.</code> 表示<strong>上下文路径</strong></li><li><code>-t</code> 指定名称</li></ul><h4 id="生成容器"><a href="#生成容器" class="headerlink" title="生成容器"></a>生成容器</h4><ul><li><code>docker container run -p 2222:3333 -it [name] /bin/bash</code></li><li><code>docker container run -p 2222:3333 -it [name]:0.0.1 /bin/bash</code></li><li><code>-p</code> 映射端口 , 本机:容器 { <strong>127.0.0.1:2222:3333</strong> / <strong>[ip]:2222:3333</strong> / <strong>[不填]2222:3333</strong> 默认为 <strong>0.0.0.0:2222:3333</strong> } </li><li><code>-it</code> 容器的 Shell 映射到当前的 Shell，在本机窗口输入的命令，就会传入容器</li><li><code>/bin/bash</code> 启动容器内 bash</li></ul><h3 id="Docker-Compose"><a href="#Docker-Compose" class="headerlink" title="Docker Compose"></a><center>Docker Compose</center></h3><ul><li><code>docker-compose --version</code></li><li><p>docker-compose.yml</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql:</span><br><span class="line">    image: mysql:5.7</span><br><span class="line">    environment:</span><br><span class="line">    - MYSQL_ROOT_PASSWORD=123456</span><br><span class="line">    - MYSQL_DATABASE=wordpress</span><br><span class="line">web:</span><br><span class="line">    image: wordpress</span><br><span class="line">    links:</span><br><span class="line">    - mysql</span><br><span class="line">    environment:</span><br><span class="line">    - WORDPRESS_DB_PASSWORD=123456</span><br><span class="line">    ports:</span><br><span class="line">    - &quot;127.0.0.3:8080:80&quot;</span><br><span class="line">    working_dir: /var/www/html</span><br><span class="line">    volumes:</span><br><span class="line">    - wordpress:/var/www/html</span><br></pre></td></tr></table></figure></div></li><li><p><code>docker-compose up</code></p></li><li><code>docker-compose stop</code></li><li><code>docker-compose rm</code></li></ul><h3 id="修改镜像源"><a href="#修改镜像源" class="headerlink" title="修改镜像源"></a><center>修改镜像源</center></h3><ul><li><p>在阿里云找到镜像加速器</p><p>  <img src="/images/DockerNote/01.png" alt></p></li><li><p>在服务器 <code>/etc/docker</code> 下 , 新建 daemon.json , 添加镜像地址</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"registry-mirrors"</span>: [<span class="string">"https://0f2b6859.mirror.aliyuncs.com"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>  <img src="/images/DockerNote/02.png" alt></p></li></ul><h3 id="参考内容"><a href="#参考内容" class="headerlink" title="参考内容"></a>参考内容</h3><ul><li><a href="https://docs.docker.com/get-started/part2/" target="_blank" rel="noopener">Docker (https://docs.docker.com/get-started/part2/)</a></li><li><a href="https://yeasy.gitbooks.io/docker_practice/content/" target="_blank" rel="noopener">Docker — 从入门到实践 (https://yeasy.gitbooks.io/docker_practice/content/)</a></li><li><a href="https://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html" target="_blank" rel="noopener">Docker 入门教程 (https://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html)</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>What is JS? ES? TS?</title>
      <link href="/archives/SortOutJSESTS/"/>
      <url>/archives/SortOutJSESTS/</url>
      
        <content type="html"><![CDATA[<h3 id="一图理清浏览器脚本语言"><a href="#一图理清浏览器脚本语言" class="headerlink" title="一图理清浏览器脚本语言"></a><center>一图理清浏览器脚本语言</center></h3><p><img src="/images/SortOutJSESTS/01.png" alt></p><ul><li><p>简而言之 , 就是 js 设计之处有很多缺陷,然后为了弥补缺陷不断的更新 ES 标准 , js 不断的实现新标准修复缺陷 , 这样下去越来越麻烦 , 其他开发者看不下去了就直接按照 ES 标准实现自己的编译器和语言 , 最后转成 js </p></li><li><p>按照这样发展下去 , js 有发展成浏览器的汇编趋势</p></li><li><p>现有新的技术不转成 js , 自己去兼容浏览器打破 js 垄断浏览器。例如: Dart</p></li></ul><a id="more"></a><h3 id="参考内容"><a href="#参考内容" class="headerlink" title="参考内容"></a>参考内容</h3><ul><li><a href="https://www.zhihu.com/question/361303428" target="_blank" rel="noopener">es,js,ts三者有什么关系？</a></li><li><a href="https://www.jianshu.com/p/1cd0b2cb3ec4" target="_blank" rel="noopener">JavaScript的历史</a></li><li><a href="http://javascript.ruanyifeng.com/introduction/history.html" target="_blank" rel="noopener">JavaScript语言的历史</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> ECMAScript </tag>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Thinking Shift</title>
      <link href="/archives/ThinkingShift/"/>
      <url>/archives/ThinkingShift/</url>
      
        <content type="html"><![CDATA[<h3 id="一次编程思想的转变"><a href="#一次编程思想的转变" class="headerlink" title="一次编程思想的转变"></a><center>一次编程思想的转变</center></h3><p>⭐<strong>不能局限于细节 , 还要纵观整体</strong>⭐</p><ul><li><p>昨天发现一个很不错的 js 库 👉<a href="http://www.goat1000.com/tagcanvas.php" target="_blank" rel="noopener">tagcanvas</a></p></li><li><p>所以今天就打算整合到 hexo 博客中,首先是看了 Next 主题的代码格式 , 按照规范写好了对应的文件 , 并且 tagcanvas 也成功显示在页面了</p></li><li><p>但是数据还是固定的 , 需要把 hexo 的 tag 数据引过来输入到 tagcanvas 中</p></li><li><p>通过反复阅读源码 , 先是确定了原始 tagcloud 的位置在 <code>/next/layout/page.swig</code> </p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tag-cloud-tags"</span>&gt;</span></span><br><span class="line">    &#123;&#123; tagcloud(&#123;min_font: 15, max_font: 30, amount: 999, color: true, start_color: '#827878', end_color: '#000000'&#125;) &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><p>调试后确定了 tagcloud 是个方法 , 然后查找资料定位到了 <code>/node_modules/hexo/lib/plugins/helper/tagcloud.js</code></p></li><li><p>大概阅读 tagcloud.js 一遍后 , 可见 tagcloud 通过一定的算法处理后会输出 tag标签 <code>&lt;li/&gt;</code></p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tags.forEach(<span class="function"><span class="params">tag</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> ratio = length ? sizes.indexOf(tag.length) / length : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> size = min + ((max - min) * ratio);</span><br><span class="line">    <span class="keyword">let</span> style = <span class="string">`font-size: <span class="subst">$&#123;<span class="built_in">parseFloat</span>(size.toFixed(<span class="number">2</span>))&#125;</span><span class="subst">$&#123;unit&#125;</span>;`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (color) &#123;</span><br><span class="line">    <span class="keyword">const</span> midColor = startColor.mix(endColor, ratio);</span><br><span class="line">    style += <span class="string">` color: <span class="subst">$&#123;midColor.toString()&#125;</span>`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    result.push(</span><br><span class="line">    <span class="string">`&lt;a href="<span class="subst">$&#123;self.url_for(tag.path)&#125;</span>" style="<span class="subst">$&#123;style&#125;</span>"&gt;<span class="subst">$&#123;transform ? transform(tag.name) : tag.name&#125;</span>&lt;/a&gt;`</span></span><br><span class="line">    );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div></li></ul><a id="more"></a><ul><li><p>到此我的想法是 <strong>首先 tagcanvas 需要接受 url 参数 和 text 参数 , 应该修改一下 tagcloud.js 源码 , 让它输出想要的参数</strong></p></li><li><p>想了之后 , 如果这样做 , 之后会不会对其他地方产生影响 , 再加上修改此处的成本也不低 , 之后尝试问题的话维护成本也不低</p></li><li><p>然后想到了一种办法 <strong>不修改 tagcloud.js 源码 , 转为操作 DOM 在页面直接获取已经生成好的数据 , 然后传给 tagcanvas</strong></p></li><li><p>一波操作后 , 又遇到了一些问题 , 又想了想 , 这样操作 DOM 的话 ; 要是 hexo 的生命周期和我写在文件里的 DOM 操作的生命周期不一致的话也会出现问题 ; </p></li><li><p>想了想 , hexo 是把代码打包编译成静态文件的 , 那么我写在文件里的 DOM 操作在编译的时候并没有对应的节点 , 对应的节点应该是编译完成后才产生的 , 这样一来这个办法就行不通了</p></li><li><p>最后想了想 , <strong>其实前面早就有结果了 , 只是思维没有转过来</strong></p></li></ul><hr><ul><li><p>前面的 <strong>tagcloud 通过一定的算法处理后会输出 tag标签 <code>&lt;li/&gt;</code></strong> , 其实这里就可以直接利用 <code>&lt;li/&gt;</code> , <strong>把输出的一群 <code>&lt;li/&gt;</code> 当作个对象去思考</strong> </p></li><li><p>tagcloud 输出的 <code>&lt;li/&gt;</code> 是符合了 tagcanvas 输入规范的 ; tagcloud 输出的 <code>&lt;li/&gt;</code> 已经具备了 url 参数和 text 参数 , 这样的话 tagcanvas 也能正确处理</p></li><li><p>最后把 <code>/next/layout/page.swig</code> 中输出标签的代码迁移到 tagcanvas 页面对应的地方即可</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; tagcloud(&#123;<span class="attr">min_font</span>: <span class="number">15</span>, <span class="attr">max_font</span>: <span class="number">30</span>, <span class="attr">amount</span>: <span class="number">999</span>, <span class="attr">color</span>: <span class="literal">true</span>, <span class="attr">start_color</span>: <span class="string">'#827878'</span>, <span class="attr">end_color</span>: <span class="string">'#000000'</span>&#125;) &#125;&#125;</span><br></pre></td></tr></table></figure></div></li></ul><p>还有个类似的库也值得去尝试一下 👉<a href="https://www.jasondavies.com" target="_blank" rel="noopener">jasondavies</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS3 Knowledge Point</title>
      <link href="/archives/CSS3KnowledegePoint/"/>
      <url>/archives/CSS3KnowledegePoint/</url>
      
        <content type="html"><![CDATA[<h3 id="属性是否可继承"><a href="#属性是否可继承" class="headerlink" title="属性是否可继承"></a><center>属性是否可继承</center></h3><h4 id="测试能否继承"><a href="#测试能否继承" class="headerlink" title="测试能否继承"></a>测试能否继承</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-cmn-Hans"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Elias<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">body &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-tag">red</span>; <span class="comment">/* 可继承 */</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 3<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">green</span>; <span class="comment">/* 不可继承 */</span></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>CSS3注意点<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello Elias<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><img src="/images/CSS3/01.png" alt></p><p>可观察到 <code>&lt;h1/&gt;</code>和<code>&lt;p/&gt;</code> 继承了 body 的 color 属性 , 而没有继承 border 属性</p><p>了解哪些属性可以被继承 👉<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Reference" target="_blank" rel="noopener">MDN web docs</a></p><h4 id="强制继承"><a href="#强制继承" class="headerlink" title="强制继承"></a>强制继承</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-cmn-Hans"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Elias<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">body &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-tag">red</span>; <span class="comment">/* 可继承 */</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 3<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">green</span>; <span class="comment">/* 不可继承 */</span></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">h1&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border</span><span class="selector-pseudo">:inherit</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>CSS3注意点<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello Elias<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>设置属性值为 inherit , 可强制继承父级对应属性</p><p><img src="/images/CSS3/02.png" alt></p><h3 id="垂直对齐"><a href="#垂直对齐" class="headerlink" title="垂直对齐"></a><center>垂直对齐</center></h3><p><img src="/images/CSS3/03.png" alt></p><p><img src="/images/CSS3/04.png" alt></p><p>👉<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/vertical-align" target="_blank" rel="noopener">详细参考</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Switch to ES6</title>
      <link href="/archives/SwitchToES6/"/>
      <url>/archives/SwitchToES6/</url>
      
        <content type="html"><![CDATA[<h3 id="Let"><a href="#Let" class="headerlink" title="Let"></a><center>Let</center></h3><h4 id="变量i的作用域"><a href="#变量i的作用域" class="headerlink" title="变量i的作用域"></a>变量i的作用域</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i); <span class="comment">//变量i未找到</span></span><br></pre></td></tr></table></figure></div><h4 id="重复定义"><a href="#重复定义" class="headerlink" title="重复定义"></a>重复定义</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">switch</span> (i) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">let</span> value = <span class="string">"hello"</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">let</span> value = <span class="string">"world"</span>; <span class="comment">//重复定义错误</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><a id="more"></a><h3 id="const-定义常量"><a href="#const-定义常量" class="headerlink" title="const 定义常量"></a><center>const 定义常量</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br><span class="line"><span class="comment">//data = 100; //执行错误 , 不能给常量赋予新值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> list = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>]; <span class="comment">//定义了list常量是数组</span></span><br><span class="line"><span class="built_in">console</span>.log(list);</span><br><span class="line"></span><br><span class="line">list[<span class="number">0</span>] = <span class="number">100</span>;          <span class="comment">//数组内值可以变</span></span><br><span class="line"><span class="built_in">console</span>.log(list);</span><br><span class="line"></span><br><span class="line"><span class="comment">//list = [1,2,3]; //错误 , 常量list数组不能重新赋值</span></span><br></pre></td></tr></table></figure></div><p>定义常量为数组时 , 常量数组内部值可以改变 , 但是常量不能重新赋值</p><h3 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a><center>进制转换</center></h3><ul><li>0b:二进制</li><li>0o:八进制</li><li>0x:十六进制<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">0b10</span>); <span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0o10</span>); <span class="comment">//8</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0x10</span>); <span class="comment">//16</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0b11</span> === <span class="number">3</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0o10</span> === <span class="number">8</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0x10</span> === <span class="number">16</span>);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num.toString(<span class="number">8</span>)); <span class="comment">//8进制转换</span></span><br><span class="line"><span class="built_in">console</span>.log(num.toString(<span class="number">2</span>)); <span class="comment">//2进制转换</span></span><br><span class="line"><span class="built_in">console</span>.log(num.toString(<span class="number">16</span>));<span class="comment">//16进制转换</span></span><br><span class="line"><span class="built_in">console</span>.log(num.toString(<span class="number">5</span>)); <span class="comment">//5进制转换</span></span><br></pre></td></tr></table></figure></div></li></ul><h3 id="字符串解析"><a href="#字符串解析" class="headerlink" title="字符串解析"></a><center>字符串解析</center></h3><h4 id="嵌入字符串"><a href="#嵌入字符串" class="headerlink" title="嵌入字符串"></a>嵌入字符串</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">"Elias"</span></span><br><span class="line"><span class="keyword">let</span> mystr1 = <span class="string">"你好，$&#123;name&#125;!"</span></span><br><span class="line"><span class="keyword">let</span> mystr2 = <span class="string">`你好，<span class="subst">$&#123;name&#125;</span>！再见。`</span>  <span class="comment">//注意这里是反单引号</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(mystr1)     <span class="comment">//你好，$&#123;name&#125;!</span></span><br><span class="line"><span class="built_in">console</span>.log(mystr2)     <span class="comment">//你好，Elias！再见。</span></span><br></pre></td></tr></table></figure></div><h4 id="字符串模板"><a href="#字符串模板" class="headerlink" title="字符串模板"></a>字符串模板</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">"Elias"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagged</span>(<span class="params">formats, ...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(formats)</span><br><span class="line">    <span class="built_in">console</span>.log(args)</span><br><span class="line">&#125;</span><br><span class="line">tagged<span class="string">`你好，<span class="subst">$&#123;name&#125;</span>！再见。`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">[ '你好，', '！再见。' ]</span></span><br><span class="line"><span class="comment">[ 'Elias' ]</span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure></div><p>按 <code>${ }</code> 模板分割字符串输出形成</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name1 = <span class="string">"Elias"</span></span><br><span class="line"><span class="keyword">let</span> name2 = <span class="string">"Mark"</span></span><br><span class="line"><span class="keyword">let</span> name3 = <span class="string">"Mier"</span></span><br><span class="line"><span class="keyword">let</span> name4 = <span class="string">"Tres"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagged</span>(<span class="params">formats, ...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(formats)</span><br><span class="line">    <span class="built_in">console</span>.log(args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tagged<span class="string">`<span class="subst">$&#123;name1&#125;</span>你好，<span class="subst">$&#123;name2&#125;</span>！<span class="subst">$&#123;name3&#125;</span>再见。<span class="subst">$&#123;name4&#125;</span>`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">[ '', '你好，', '！', '再见。', '' ]</span></span><br><span class="line"><span class="comment">[ 'Elias', 'Mark', 'Mier', 'Tres' ]</span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure></div><p>当字符串模板出现在首位或末位时, 非模板数组输出空值在首位或末位</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name1 = <span class="string">"Elias"</span></span><br><span class="line"><span class="keyword">let</span> name2 = <span class="string">"Mark"</span></span><br><span class="line"><span class="keyword">let</span> name3 = <span class="string">"Mier"</span></span><br><span class="line"><span class="keyword">let</span> name4 = <span class="string">"Tres"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tagged</span>(<span class="params">formats, args</span>)</span>&#123; <span class="comment">//去掉 ...扩展运算符</span></span><br><span class="line">    <span class="built_in">console</span>.log(formats)</span><br><span class="line">    <span class="built_in">console</span>.log(args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tagged<span class="string">`<span class="subst">$&#123;name2&#125;</span>你好，<span class="subst">$&#123;name1&#125;</span>！<span class="subst">$&#123;name3&#125;</span>再见。<span class="subst">$&#123;name4&#125;</span>`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">[ '', '你好，', '！', '再见。', '' ]</span></span><br><span class="line"><span class="comment">Mark</span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure></div><p>详细可查 👉<a href="http://es6.ruanyifeng.com/#docs/array" target="_blank" rel="noopener">ECMAScript</a></p><h4 id="模板和表示形式"><a href="#模板和表示形式" class="headerlink" title="模板和表示形式"></a>模板和表示形式</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">"Elias"</span></span><br><span class="line"><span class="keyword">let</span> address = <span class="string">"网吧"</span></span><br><span class="line"><span class="keyword">let</span> fmtstr = markdown<span class="string">`你好，<span class="subst">$&#123;name&#125;</span>！</span></span><br><span class="line"><span class="string">晚上一起去<span class="subst">$&#123;address&#125;</span>玩吗？</span></span><br><span class="line"><span class="string">等你的回信。`</span></span><br><span class="line"><span class="built_in">console</span>.log(fmtstr)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">markdown</span>(<span class="params">formats, ...args</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(formats)</span><br><span class="line">  <span class="built_in">console</span>.log(args)</span><br><span class="line">  <span class="keyword">var</span> result = <span class="string">"# 信息标题\n"</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; formats.length; i++)</span><br><span class="line"><span class="comment">//   console.log(args[i] || '')</span></span><br><span class="line">    result += formats[i] + <span class="string">"**"</span> + (args[i] || <span class="string">''</span>) + <span class="string">"**"</span>;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">[ '你好，', '！\n晚上一起去', '玩吗？\n等你的回信。' ]</span></span><br><span class="line"><span class="comment">[ 'Elias', '网吧' ]</span></span><br><span class="line"><span class="comment"># 信息标题</span></span><br><span class="line"><span class="comment">你好，**Elias**！</span></span><br><span class="line"><span class="comment">晚上一起去**网吧**玩吗？</span></span><br><span class="line"><span class="comment">等你的回信。****</span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure></div><p>把模板和表示形式分离</p><h3 id="Symbol类型"><a href="#Symbol类型" class="headerlink" title="Symbol类型"></a><center>Symbol类型</center></h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="built_in">String</span>(<span class="string">"helloWorld"</span>);</span><br><span class="line"><span class="keyword">let</span> str2 = <span class="built_in">String</span>(<span class="string">"helloWorld"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str1 == str2);  <span class="comment">//结果：true</span></span><br><span class="line"><span class="built_in">console</span>.log(str1 === str2); <span class="comment">//结果：true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(<span class="string">"mySymbol"</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>(<span class="string">"mySymbol"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s1);     <span class="comment">//结果：symbol</span></span><br><span class="line"><span class="built_in">console</span>.log(s1.toString()); <span class="comment">//结果：Symbol(mySymbol)</span></span><br><span class="line"><span class="built_in">console</span>.log(s1 == s2);      <span class="comment">//结果：false</span></span><br><span class="line"><span class="built_in">console</span>.log(s1 === s2);     <span class="comment">//结果：false</span></span><br></pre></td></tr></table></figure></div><p>对于 <code>s1 == s2</code> : Symbol类型会分配一个内部哈希值 , 所以在比较的时候是用哈希值作比较 ,而不是用赋予的 value 值作比较 , 所以不相等</p><h4 id="作为常量"><a href="#作为常量" class="headerlink" title="作为常量"></a>作为常量</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Java = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">const</span> Ruby = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">const</span> Perl = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">const</span> Php  = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">const</span> VB   = <span class="built_in">Symbol</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lang = Php;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (lang === Java) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Java的未来在哪里？'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (lang === Ruby) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'再学个Ruby on Rails吧。'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (lang === Php) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'再学个Ruby on Rails吧。'</span>); <span class="comment">//输出这个</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>这样就可以直接根据常量名判断了</p><h4 id="作为属性"><a href="#作为属性" class="headerlink" title="作为属性"></a>作为属性</h4><p>首先理解下面这个<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>(<span class="string">"mySymbol"</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">String</span>(<span class="string">"mySymbol"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">obj[s1] = <span class="string">"hello"</span>;</span><br><span class="line">obj[s2] = <span class="string">"world"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj[s1]);</span><br><span class="line"><span class="built_in">console</span>.log(obj[s2]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">&#123; mySymbol: 'world' &#125;</span></span><br><span class="line"><span class="comment">world</span></span><br><span class="line"><span class="comment">world</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div></p><ul><li>首先 s1 、s2 的值都为 mySymbol</li><li>然后给对象 obj 的 s1 键（mySymbol）赋 hello 值 </li><li>然后给对象 obj 的 s2 键（mySymbol）赋 world 值 , 由于是同一个键就把上面的覆盖了</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(<span class="string">"mySymbol"</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>(<span class="string">"mySymbol"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">obj[s1] = <span class="string">"hello"</span>;</span><br><span class="line">obj[s2] = <span class="string">"world"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj[s1]);</span><br><span class="line"><span class="built_in">console</span>.log(obj[s2]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">&#123; [Symbol(mySymbol)]: 'hello', [Symbol(mySymbol)]: 'world' &#125;</span></span><br><span class="line"><span class="comment">hello</span></span><br><span class="line"><span class="comment">world</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><p>接着这里就好理解了</p><h4 id="半隐藏属性"><a href="#半隐藏属性" class="headerlink" title="半隐藏属性"></a>半隐藏属性</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MYKEY = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(key,name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>[MYKEY] = key;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    checkKEY(key)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>[MYKEY] === key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> User(<span class="number">123</span>, <span class="string">'Curry'</span>, <span class="number">29</span>);</span><br><span class="line"><span class="built_in">console</span>.log(user.name, user.age, user[MYKEY]); <span class="comment">//Curry 29 123</span></span><br><span class="line"><span class="built_in">console</span>.log(user.checkKEY(<span class="number">123</span>));   <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(user.checkKEY(<span class="number">456</span>));   <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(user));    <span class="comment">//[ 'name', 'age' ]    这里用Object.key列出user对象的所有属性</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(user)); <span class="comment">//&#123;"name":"Curry","age":29&#125;   用JSON字符串化</span></span><br></pre></td></tr></table></figure></div><h3 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a><center>解构赋值</center></h3><h4 id="数组赋值"><a href="#数组赋值" class="headerlink" title="数组赋值"></a>数组赋值</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c); <span class="comment">//10 20 30</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x, y, ...other] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x, y, other); <span class="comment">//1 2 [ 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure></div><h4 id="对象赋值"><a href="#对象赋值" class="headerlink" title="对象赋值"></a>对象赋值</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;name, age&#125; = &#123; <span class="attr">age</span>: <span class="number">20</span> , <span class="attr">name</span>: <span class="string">'Elias'</span>&#125;; </span><br><span class="line"><span class="built_in">console</span>.log(name, age); <span class="comment">//Elias 20</span></span><br></pre></td></tr></table></figure></div><h4 id="函数赋值"><a href="#函数赋值" class="headerlink" title="函数赋值"></a>函数赋值</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">10</span>, <span class="number">20</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> [num1, num2] = func1();</span><br><span class="line"><span class="built_in">console</span>.log(num1, num2); <span class="comment">//10 20</span></span><br></pre></td></tr></table></figure></div><h4 id="函数参数名指定"><a href="#函数参数名指定" class="headerlink" title="函数参数名指定"></a>函数参数名指定</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func2</span>(<span class="params">&#123;x=<span class="number">1</span>, y=<span class="number">2</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(func2(&#123;&#125;));           <span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(func2(&#123;<span class="attr">x</span>:<span class="number">10</span>&#125;));       <span class="comment">//12</span></span><br><span class="line"><span class="built_in">console</span>.log(func2(&#123;<span class="attr">y</span>:<span class="number">10</span>&#125;));       <span class="comment">//11</span></span><br><span class="line"><span class="built_in">console</span>.log(func2(&#123;<span class="attr">x</span>:<span class="number">10</span>, <span class="attr">y</span>:<span class="number">20</span>&#125;)); <span class="comment">//30</span></span><br></pre></td></tr></table></figure></div><h3 id="数组循环-for…of"><a href="#数组循环-for…of" class="headerlink" title="数组循环 for…of"></a><center>数组循环 for…of</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.Len = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> val <span class="keyword">of</span> list)</span><br><span class="line">    <span class="built_in">console</span>.log(val);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> val <span class="keyword">in</span> list)</span><br><span class="line">    <span class="built_in">console</span>.log(val, list[val]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">20</span></span><br><span class="line"><span class="comment">30</span></span><br><span class="line"><span class="comment">0 10</span></span><br><span class="line"><span class="comment">1 20</span></span><br><span class="line"><span class="comment">2 30</span></span><br><span class="line"><span class="comment">Len function()&#123;&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><ul><li>for…of 只关心 list 内的值</li><li>for…in 关心 lis t所有的属性,可根据 <code>Array.prototype.Len = function(){}</code> 得出结论</li><li>前者把 list 当作数组 , 后者把 list 当作变量</li></ul><h3 id="函数默认值"><a href="#函数默认值" class="headerlink" title="函数默认值"></a><center>函数默认值</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayhello</span>(<span class="params">name = <span class="string">"Curry"</span></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">sayhello(); <span class="comment">//Hello Curry</span></span><br><span class="line">sayhello(<span class="string">"Elias"</span>); <span class="comment">//Hello Elias</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数值计算</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a=<span class="number">1</span>, b=a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(add());  <span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">10</span>));  <span class="comment">//20</span></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">10</span>, <span class="number">20</span>));  <span class="comment">//30</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//必须指定参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">required</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"参数未制定"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayBye</span>(<span class="params">name=required(</span>))</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;name&#125;</span> bye!`</span>);</span><br><span class="line">&#125;</span><br><span class="line">sayBye(<span class="string">'Elias'</span>);  </span><br><span class="line">sayBye();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">Elias bye!</span></span><br><span class="line"><span class="comment">C:\Users\OrekiYuta\Desktop\test.js:18</span></span><br><span class="line"><span class="comment">    throw new Error("参数未制定");</span></span><br><span class="line"><span class="comment">    ^</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Error: 参数未制定</span></span><br><span class="line"><span class="comment">    at requir1ed (C:\Users\OrekiYuta\Desktop\test.js:18:11)</span></span><br><span class="line"><span class="comment">    at sayBye (C:\Users\OrekiYuta\Desktop\test.js:20:22)</span></span><br><span class="line"><span class="comment">    at Object.&lt;anonymous&gt; (C:\Users\OrekiYuta\Desktop\test.js:24:1)</span></span><br><span class="line"><span class="comment">    at Module._compile (internal/modules/cjs/loader.js:776:30)</span></span><br><span class="line"><span class="comment">    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)</span></span><br><span class="line"><span class="comment">    at Module.load (internal/modules/cjs/loader.js:653:32)</span></span><br><span class="line"><span class="comment">    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)</span></span><br><span class="line"><span class="comment">    at Function.Module._load (internal/modules/cjs/loader.js:585:3)</span></span><br><span class="line"><span class="comment">    at Function.Module.runMain (internal/modules/cjs/loader.js:829:12)</span></span><br><span class="line"><span class="comment">    at startup (internal/bootstrap/node.js:283:19)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><h3 id="可变长参数"><a href="#可变长参数" class="headerlink" title="可变长参数"></a><center>可变长参数</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span>;</span><br><span class="line">    args.forEach(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">        result += val;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>));  <span class="comment">//6</span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>));  <span class="comment">//55</span></span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">args.forEach(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">        result += val;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//相当于</span></span><br><span class="line">args.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">        result += val;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></div><h3 id="箭头函数-gt"><a href="#箭头函数-gt" class="headerlink" title=" 箭头函数 =&gt; "></a><center> 箭头函数 =&gt; </center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">let</span> newlist = list.map(<span class="function"><span class="keyword">function</span>(<span class="params">value, index</span>)</span>&#123; <span class="comment">//value 数组值 , index //索引下标</span></span><br><span class="line">    <span class="keyword">return</span> value * value;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(newlist);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="comment">//(1)</span></span><br><span class="line">newlist = list.map(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value * value;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(newlist);</span><br><span class="line"></span><br><span class="line"><span class="comment">//(2)</span></span><br><span class="line">newlist = list.map(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value * value;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(newlist);</span><br></pre></td></tr></table></figure></div><p>let 写不写都可以</p><h3 id="基本对象定义"><a href="#基本对象定义" class="headerlink" title="基本对象定义"></a><center>基本对象定义</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> title = <span class="string">"ES6从入门到外出"</span>;</span><br><span class="line"><span class="keyword">let</span> price = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">let</span> publish = <span class="string">"Elias出版社"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> book = &#123;</span><br><span class="line">    title, price, publish,</span><br><span class="line">    toString()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`&lt;&lt;<span class="subst">$&#123;<span class="keyword">this</span>.title&#125;</span>&gt;&gt; is <span class="subst">$&#123;price&#125;</span>元。`</span>); <span class="comment">//this 加不加都可以</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">book[<span class="string">'lang'</span>] = <span class="string">"简体中文"</span>; <span class="comment">//给book对象添加了成员变量</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(book);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123; title: 'ES6从入门到外出',</span></span><br><span class="line"><span class="comment">  price: 25,</span></span><br><span class="line"><span class="comment">  publish: 'Elias出版社',</span></span><br><span class="line"><span class="comment">  toString: [Function: toString],</span></span><br><span class="line"><span class="comment">  lang: '简体中文' &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">book.toString();</span><br><span class="line"><span class="comment">//&lt;&lt;ES6从入门到外出&gt;&gt; is 25元。</span></span><br></pre></td></tr></table></figure></div><h3 id="类定义-class"><a href="#类定义-class" class="headerlink" title="类定义 class"></a><center>类定义 class</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="comment">//关键字 constructor 构造器</span></span><br><span class="line">    <span class="keyword">constructor</span>(name, sex) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name; <span class="comment">//这里隐式定义了变量 name , sex</span></span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">    show()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>的性别是<span class="subst">$&#123;<span class="keyword">this</span>.sex&#125;</span>。`</span>); <span class="comment">//这里必须 this , 否则找不到该变量</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">static</span> info()&#123;  <span class="comment">//static 方法 , 不用实例化就可以引用</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"这是一个球员类，您可以使用它建立自己的球员。"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Curryplayer = <span class="keyword">new</span> Player(<span class="string">"库里"</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Curryplayer.name, Curryplayer.sex); <span class="comment">//库里 男</span></span><br><span class="line">Curryplayer.show();<span class="comment">//库里的性别是男。</span></span><br><span class="line">Player.info();<span class="comment">//这是一个球员类，您可以使用它建立自己的球员。</span></span><br></pre></td></tr></table></figure></div><h3 id="getting-setting-定义"><a href="#getting-setting-定义" class="headerlink" title="getting / setting 定义"></a><center>getting / setting 定义</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name, sex) &#123; </span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> age()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.Age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> age(val)&#123;</span><br><span class="line">        <span class="keyword">this</span>.Age = val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Curryplayer = <span class="keyword">new</span> Player(<span class="string">"库里"</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Curryplayer);</span><br><span class="line">Curryplayer.Age = <span class="number">28</span>;  <span class="comment">//设置值,调用了set</span></span><br><span class="line"><span class="built_in">console</span>.log(Curryplayer);</span><br><span class="line"><span class="built_in">console</span>.log(Curryplayer.Age); <span class="comment">//取值,调用了get</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">Player &#123; name: '库里', sex: '男' &#125;</span></span><br><span class="line"><span class="comment">Player &#123; name: '库里', sex: '男', Age: 28 &#125;</span></span><br><span class="line"><span class="comment">28</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><h3 id="类继承"><a href="#类继承" class="headerlink" title="类继承"></a><center>类继承</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(brand)&#123;</span><br><span class="line">        <span class="keyword">this</span>.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line">    show()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`本台车的品牌是<span class="subst">$&#123;<span class="keyword">this</span>.brand&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lexus</span> <span class="keyword">extends</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(brand, lineup) &#123;</span><br><span class="line">        <span class="keyword">super</span>(brand); <span class="comment">//调用父类构造器 , 初始化brand属性</span></span><br><span class="line">        <span class="keyword">this</span>.lineup = lineup;</span><br><span class="line">    &#125;</span><br><span class="line">    getPrice()&#123;</span><br><span class="line">        <span class="keyword">switch</span>(<span class="keyword">this</span>.lineup)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"RX"</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">60</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"NX"</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"未知车类别"</span>);  <span class="comment">//抛出异常</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mycar = <span class="keyword">new</span> Lexus(<span class="string">"Lexus"</span>, <span class="string">"RX"</span>);</span><br><span class="line">mycar.show();  <span class="comment">//调用父类方法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"价格是："</span>, mycar.getPrice(), <span class="string">"万"</span>); <span class="comment">//调用自己的方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">本台车的品牌是Lexus</span></span><br><span class="line"><span class="comment">价格是： 60 万</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><h3 id="循环对象"><a href="#循环对象" class="headerlink" title="循环对象"></a><center>循环对象</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list  = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</span><br><span class="line"><span class="keyword">let</span> mystr = <span class="string">'你好啊'</span>;</span><br><span class="line"><span class="keyword">let</span> mymap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">mymap.set(<span class="string">'JS'</span>, <span class="string">'Javascript'</span>);</span><br><span class="line">mymap.set(<span class="string">'PL'</span>, <span class="string">'Perl'</span>);</span><br><span class="line">mymap.set(<span class="string">'PY'</span>, <span class="string">'Python'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> val <span class="keyword">of</span> list)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">20</span></span><br><span class="line"><span class="comment">30 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> val <span class="keyword">of</span> mystr)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">你</span></span><br><span class="line"><span class="comment">好</span></span><br><span class="line"><span class="comment">啊</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key,value] <span class="keyword">of</span> mymap)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">JS Javascript</span></span><br><span class="line"><span class="comment">PL Perl</span></span><br><span class="line"><span class="comment">PY Python</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> it = mymap.values();  <span class="comment">//it 迭代器</span></span><br><span class="line"><span class="keyword">let</span> tmp;    </span><br><span class="line"><span class="keyword">while</span>(tmp = it.next())&#123;   <span class="comment">//next() : 取mymap对象下一个值 , 如果有下一个值就取出 , 没有就退出</span></span><br><span class="line">    <span class="keyword">if</span> (tmp.done) <span class="keyword">break</span>;   <span class="comment">// done : 表明是否最后一个 , false:还有下一个值继续执行 , true , 遍历完成</span></span><br><span class="line">    <span class="built_in">console</span>.log(tmp.done)</span><br><span class="line">    <span class="built_in">console</span>.log(tmp.value);</span><br><span class="line">    <span class="built_in">console</span>.log(tmp)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"----------"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(tmp)</span><br><span class="line"><span class="built_in">console</span>.log(tmp.done)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">false</span></span><br><span class="line"><span class="comment">Javascript</span></span><br><span class="line"><span class="comment">&#123; value: 'Javascript', done: false &#125;</span></span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"><span class="comment">false</span></span><br><span class="line"><span class="comment">Perl</span></span><br><span class="line"><span class="comment">&#123; value: 'Perl', done: false &#125;</span></span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"><span class="comment">false</span></span><br><span class="line"><span class="comment">Python</span></span><br><span class="line"><span class="comment">&#123; value: 'Python', done: false &#125;</span></span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"><span class="comment">&#123; value: undefined, done: true &#125;</span></span><br><span class="line"><span class="comment">true </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><h3 id="实现可迭代对象"><a href="#实现可迭代对象" class="headerlink" title="实现可迭代对象"></a><center>实现可迭代对象</center></h3><p>普通的数组内的值可以用 for..of 循环出来 , 因为是在数组内部实现了迭代器 , 因为这些在底层就已经定义好了的。平时使用起来没感觉到而已。</p><p>但是我们自己定义的对象是没有这种功能的,平常实例化的时候多数只是传递一个参数,但是当我们给对象传递了一个数组的时候呢,如何取去操作多个对象呢。</p><p>这里就需要在我们自己定义的类里面去实现迭代器接口</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line"><span class="keyword">constructor</span>(list)&#123;</span><br><span class="line"><span class="keyword">this</span>.list = list;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="built_in">Symbol</span>.iterator]()&#123;   <span class="comment">//[Symbol.iterator]()&#123;&#125;</span></span><br><span class="line"><span class="keyword">let</span> current = <span class="number">0</span>;    <span class="comment">//索引</span></span><br><span class="line"><span class="keyword">let</span> that = <span class="keyword">this</span>;     <span class="comment">//this 在不同作用域的里代表的内容不一样 ; this在这里是指整个类对象;所以这个过程是把整个Player对象赋给that</span></span><br><span class="line"><span class="keyword">return</span> &#123;             <span class="comment">//因为在后面this的内容会发现变化,所以先把this转移到that中</span></span><br><span class="line">next()&#123;         <span class="comment">//接口里的一个方法,这里是实现next接口</span></span><br><span class="line">                <span class="keyword">return</span> current &lt; that.list.length ? &#123;<span class="attr">value</span>:that.list[current++], <span class="attr">done</span>:<span class="literal">false</span>&#125; : &#123;<span class="attr">done</span>:<span class="literal">true</span>&#125;;</span><br><span class="line">                <span class="comment">//当前索引小于传进来的数组的长度就把当前这个值赋给value</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> player = <span class="keyword">new</span> Player([<span class="string">'Curry'</span>, <span class="string">'Harden'</span>, <span class="string">'LeBron'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(player)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> tmp <span class="keyword">of</span> player)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(tmp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">Player &#123; list: [ 'Curry', 'Harden', 'LeBron' ] &#125;</span></span><br><span class="line"><span class="comment">Curry</span></span><br><span class="line"><span class="comment">Harden</span></span><br><span class="line"><span class="comment">LeBron</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><p>因为在Player类里面实现了迭代器接口,所以我们才能用 for…of 遍历</p><p><code>Player { list: [ &#39;Curry&#39;, &#39;Harden&#39;, &#39;LeBron&#39; ] }</code> Player 对象里是个键值对<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改一下构造器,观察结果</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line"><span class="keyword">constructor</span>(AAA)&#123;</span><br><span class="line"><span class="keyword">this</span>.BBBlist = AAA;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="built_in">Symbol</span>.iterator]()&#123;   </span><br><span class="line"><span class="keyword">let</span> current = <span class="number">0</span>;    </span><br><span class="line"><span class="keyword">let</span> that = <span class="keyword">this</span>;    </span><br><span class="line"><span class="keyword">return</span> &#123;            </span><br><span class="line">next()&#123;         </span><br><span class="line">                <span class="keyword">return</span> current &lt; that.BBBlist.length ? &#123;<span class="attr">value</span>:that.BBBlist[current++], <span class="attr">done</span>:<span class="literal">false</span>&#125; : &#123;<span class="attr">done</span>:<span class="literal">true</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">Player &#123; BBBlist: [ 'Curry', 'Harden', 'LeBron' ] &#125;</span></span><br><span class="line"><span class="comment">Curry</span></span><br><span class="line"><span class="comment">Harden</span></span><br><span class="line"><span class="comment">LeBron</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改参数,观察结果</span></span><br><span class="line"><span class="keyword">let</span> player = <span class="keyword">new</span> Player(<span class="string">'Curry'</span>);</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">Player &#123; BBBlist: 'Curry' &#125;</span></span><br><span class="line"><span class="comment">C</span></span><br><span class="line"><span class="comment">u</span></span><br><span class="line"><span class="comment">r</span></span><br><span class="line"><span class="comment">r</span></span><br><span class="line"><span class="comment">y</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> player = <span class="keyword">new</span> Player();</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">Player &#123; BBBlist: undefined &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><h3 id="简单迭代器"><a href="#简单迭代器" class="headerlink" title="简单迭代器"></a><center>简单迭代器</center></h3><ul><li>function* {  } : 迭代生成器</li><li>yield : 迭代返回</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">myGenerator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">yield</span> <span class="string">'一'</span>;</span><br><span class="line"><span class="keyword">yield</span> <span class="string">'条'</span>;</span><br><span class="line"><span class="keyword">yield</span> <span class="string">'大'</span>;</span><br><span class="line"><span class="keyword">yield</span> <span class="string">'河'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> val <span class="keyword">of</span> myGenerator())&#123;  <span class="comment">//注意这里是 myGenerator() </span></span><br><span class="line"><span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">一</span></span><br><span class="line"><span class="comment">条</span></span><br><span class="line"><span class="comment">大</span></span><br><span class="line"><span class="comment">河</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里可以用在读取数据库结果集时</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">countdown</span>(<span class="params">begin</span>)</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(begin &gt; <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">yield</span> begin--; <span class="comment">//先返回再自减</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> tmp <span class="keyword">of</span> countdown(<span class="number">5</span>))&#123;</span><br><span class="line"><span class="built_in">console</span>.log(tmp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><p>yield 就类似方法里的 return , return 一般都是只有一个 , 而 yield 能有多个 , 并且每次能返回不同的内容</p><p>👉<a href="https://zhuanlan.zhihu.com/p/36699390" target="_blank" rel="noopener">理解 ES6 Generator 函数 – yield</a></p><h3 id="实现可迭代对象-yield"><a href="#实现可迭代对象-yield" class="headerlink" title="实现可迭代对象 - yield"></a><center>实现可迭代对象 - yield</center></h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span> </span>&#123;</span><br><span class="line"><span class="keyword">constructor</span>(list)&#123;</span><br><span class="line"><span class="keyword">this</span>.list = list;</span><br><span class="line"><span class="keyword">this</span>[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">let</span> current = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line"><span class="keyword">while</span>(current &lt; that.list.length)&#123;</span><br><span class="line"><span class="keyword">yield</span> that.list[current++];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mylist = <span class="keyword">new</span> MyList([<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">400</span>, <span class="number">500</span>]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> val <span class="keyword">of</span> mylist)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      
        <tags>
            
            <tag> ECMAScript </tag>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nice to use Vue.js</title>
      <link href="/archives/NiceToUseVue/"/>
      <url>/archives/NiceToUseVue/</url>
      
        <content type="html"><![CDATA[<h2 id="Start"><a href="#Start" class="headerlink" title="Start"></a><center>Start</center></h2><h3 id="Vue-cli-版本-2x"><a href="#Vue-cli-版本-2x" class="headerlink" title="Vue-cli 版本 (2x)"></a>Vue-cli 版本 (2x)</h3><p><strong>下文基于2x版本 , 版本跟进需要查看官方文档 👉<a href="https://cli.vuejs.org/zh/" target="_blank" rel="noopener">Vue CLI</a></strong></p><p>先查看一下 Vue-cli 项目构建工具版本信息并安装 Vue-cli </p><ul><li><code>npm show vue-cli</code>  查看 Vue-cli 的版本信息</li><li><code>npm install -g vue-cli@2.9.6</code> 选择最新版本</li><li><code>vue -V</code> 版本确认</li><li><code>vue -h</code> 查看帮助</li></ul><h3 id="Vue-cli-模板"><a href="#Vue-cli-模板" class="headerlink" title="Vue-cli 模板"></a>Vue-cli 模板</h3><p>由于用 Vue-cli 工具初始化项目是基于某些模板下初始化的 , 所以先查看下官方推荐的模板 👉<a href="https://github.com/vuejs-templates" target="_blank" rel="noopener">vuejs-templates</a></p><p><img src="/images/Vue2/01.png" alt></p><ul><li>这里就采用生态较好的 webpack  👉<a href="http://vuejs-templates.github.io/webpack/" target="_blank" rel="noopener">官方说明文档</a></li></ul><h3 id="Vue-cli-初始化项目"><a href="#Vue-cli-初始化项目" class="headerlink" title="Vue-cli 初始化项目"></a>Vue-cli 初始化项目</h3><p>查看下如何初始化</p><p><img src="/images/Vue2/01.png" alt></p><ul><li>两种方式初始化 : 一种是基于官方模板 , 另一种基于第三方模板</li></ul><a id="more"></a><h2 id="创建-webpack-工程"><a href="#创建-webpack-工程" class="headerlink" title="创建 webpack 工程"></a><center>创建 webpack 工程</center></h2><h3 id="安装选项"><a href="#安装选项" class="headerlink" title="安装选项"></a>安装选项</h3><p><img src="/images/Vue2/03.png" alt></p><ul><li><p><code>Runtime + Compiler</code> 一般选择这个 , 安装运行时和编译器 , 一般有很多动态组件 , 只安装运行时的话不能动态编译</p><p>  <img src="/images/Vue2/03-1.png" alt></p></li><li><p><code>Install vue-router</code> 路由</p></li><li><code>Use ESLint to lint your code</code> ES语法检测器</li><li><code>Set up unit tests</code> 单元测试</li><li><code>Setup e2e tests with Nightwatch</code> e2e测试</li><li><code>Should we run npm install for you after the project has been created</code> 选择包管理器</li></ul><h3 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── build/                      <span class="comment"># webpack config files</span></span><br><span class="line">│   └── ...</span><br><span class="line">├── config/</span><br><span class="line">│   ├── index.js                <span class="comment"># main project config</span></span><br><span class="line">│   └── ...</span><br><span class="line">├── src/</span><br><span class="line">│   ├── main.js                 <span class="comment"># app entry file</span></span><br><span class="line">│   ├── App.vue                 <span class="comment"># main app component</span></span><br><span class="line">│   ├── components/             <span class="comment"># ui components</span></span><br><span class="line">│   │   └── ...</span><br><span class="line">│   └── assets/                 <span class="comment"># module assets (processed by webpack)</span></span><br><span class="line">│       └── ...</span><br><span class="line">├── static/                     <span class="comment"># pure static assets (directly copied)</span></span><br><span class="line">├── test/</span><br><span class="line">│   └── unit/                   <span class="comment"># unit tests</span></span><br><span class="line">│   │   ├── specs/              <span class="comment"># test spec files</span></span><br><span class="line">│   │   ├── eslintrc            <span class="comment"># config file for eslint with extra settings only for unit tests</span></span><br><span class="line">│   │   ├── index.js            <span class="comment"># test build entry file</span></span><br><span class="line">│   │   ├── jest.conf.js        <span class="comment"># Config file when using Jest for unit tests</span></span><br><span class="line">│   │   └── karma.conf.js       <span class="comment"># test runner config file when using Karma for unit tests</span></span><br><span class="line">│   │   ├── setup.js            <span class="comment"># file that runs before Jest runs your unit tests</span></span><br><span class="line">│   └── e2e/                    <span class="comment"># e2e tests</span></span><br><span class="line">│   │   ├── specs/              <span class="comment"># test spec files</span></span><br><span class="line">│   │   ├── custom-assertions/  <span class="comment"># custom assertions for e2e tests</span></span><br><span class="line">│   │   ├── runner.js           <span class="comment"># test runner script</span></span><br><span class="line">│   │   └── nightwatch.conf.js  <span class="comment"># test runner config file</span></span><br><span class="line">├── .babelrc                    <span class="comment"># babel config</span></span><br><span class="line">├── .editorconfig               <span class="comment"># indentation, spaces/tabs and similar settings for your editor</span></span><br><span class="line">├── .eslintrc.js                <span class="comment"># eslint config</span></span><br><span class="line">├── .eslintignore               <span class="comment"># eslint ignore rules</span></span><br><span class="line">├── .gitignore                  <span class="comment"># sensible defaults for gitignore</span></span><br><span class="line">├── .postcssrc.js               <span class="comment"># postcss config</span></span><br><span class="line">├── index.html                  <span class="comment"># index.html template</span></span><br><span class="line">├── package.json                <span class="comment"># build scripts and dependencies</span></span><br><span class="line">└── README.md                   <span class="comment"># Default README file</span></span><br></pre></td></tr></table></figure></div><ul><li>更多详细可查看官方文档 👉<a href="http://vuejs-templates.github.io/webpack/" target="_blank" rel="noopener">webpack</a></li></ul><h2 id="运行与发布-webpack"><a href="#运行与发布-webpack" class="headerlink" title="运行与发布 webpack"></a><center>运行与发布 webpack</center></h2><h3 id="npm-run-dev-npm-start"><a href="#npm-run-dev-npm-start" class="headerlink" title="npm run dev / npm start"></a>npm run dev / npm start</h3><p><img src="/images/Vue2/04.png" alt></p><ul><li><p><code>npm run dev</code> 只是个简写形式 , 实际运行的命令写在项目根目录下的 package.json 中</p><p>  <img src="/images/Vue2/04-1.png" alt></p></li><li><p>可见 <code>npm run dev</code> 和 <code>npm start</code> 是一个效果</p><p>  <img src="/images/Vue2/04-5.png" alt>   </p></li></ul><h3 id="设置依赖"><a href="#设置依赖" class="headerlink" title="设置依赖"></a>设置依赖</h3><p>设置生产环境的依赖列表、指定 vue 和 vue-router 版本依赖</p><p><img src="/images/Vue2/04-2.png" alt></p><ul><li><p>可修改为当前最新版本 v2.6.10 (2019.12.09)</p></li><li><p><code>^</code> 符号的意思是使依赖包向后兼容</p><ul><li><p>比如当前我的依赖为 <code>&quot;vue&quot;: &quot;^2.6.10&quot;</code> </p></li><li><p>然后过了一个月 , 假设 vue 的版本更新到了 2.8.10</p></li><li><p>当我们再次执行 <code>npm install</code> 的时候 , 它会更新 <strong>小版本号</strong>  和 <strong>补丁版本号</strong>  , 依赖就变成了 <code>&quot;vue&quot;:&quot;2.8.10&quot;</code></p></li><li><p>然后过了半年 , 假设 vue 的版本更新到了 3.1.0 , 而它的 2.0 版本最后的版本号为 2.9.10</p></li><li><p>同样执行 <code>npm install</code> , 依赖变成 <code>&quot;vue&quot;:&quot;2.9.10&quot;</code></p></li><li><p><strong>大版本号</strong> 不会改变</p></li><li><p>去掉 <code>^</code> 符号可精确指定版本 , 避免版本更新影响</p></li></ul></li></ul><h3 id="npm-版本号规范"><a href="#npm-版本号规范" class="headerlink" title="npm 版本号规范"></a>npm 版本号规范</h3><p>如果一个项目打算与别人分享，应该从 1.0.0 版本开始。以后要升级版本应该遵循以下标准：</p><ul><li><p>补丁版本(修订版本) : 解决了 Bug 或者一些较小的更改，增加最后一位数字，比如 1.0.1</p></li><li><p>小版本(次版本) : 增加了新特性，同时不会影响之前的版本，增加中间一位数字，比如 1.1.0</p></li><li><p>大版本(主版本) : 大改版，无法兼容之前的，增加第一位数字，比如 2.0.0</p><p>  <img src="/images/Vue2/04-3.png" alt></p></li></ul><p>了解了提供者的版本规范后， npm 包使用者就可以针对自己的需要填写依赖包的版本规则。</p><p>作为使用者，我们可以在 package.json 文件中写明我们可以接受这个包的更新程度（假设当前依赖的是 2.6.1 版本）:</p><ul><li><p>如果只打算接受补丁版本的更新（也就是最后一位的改变），就可以这么写：</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2.6</span><br><span class="line">2.6.x</span><br><span class="line">~2.6.1   //波浪号只会更新补丁版本号</span><br></pre></td></tr></table></figure></div></li><li><p>如果接受小版本的更新（第二位的改变），就可以这么写：</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">2.x</span><br><span class="line">^2.0.1</span><br></pre></td></tr></table></figure></div></li><li><p>如果可以接受大版本的更新（自然接受小版本和补丁版本的改变），就可以这么写：</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x</span><br></pre></td></tr></table></figure></div></li></ul><p>总的来说、三种版本变化类型，接受依赖包哪种类型的更新，就把版本号准确写到前一位。</p><h3 id="浏览页面"><a href="#浏览页面" class="headerlink" title="浏览页面"></a>浏览页面</h3><p><code>npm run dev</code> 运行查看一下</p><p><img src="/images/Vue2/04-4.png" alt></p><h3 id="npm-run-build"><a href="#npm-run-build" class="headerlink" title="npm run build"></a>npm run build</h3><p><code>npm run build</code> 打包发布</p><p><img src="/images/Vue2/05.png" alt></p><ul><li><p>这个执行过程 把在开发环境写好的<strong>代码</strong> <strong>编译</strong>并<strong>加密</strong>后 打包成 前端页面的<strong>静态文件</strong></p></li><li><p>打包完成的文件在项目根目录下的 dist文件夹内</p><p>  <img src="/images/Vue2/05-1.png" alt></p></li><li><p><code>code .</code>  VScode 打开当前目录命令</p></li><li>`shift + alt + f  格式化代码</li></ul><h2 id="引入组件库"><a href="#引入组件库" class="headerlink" title="引入组件库"></a><center>引入组件库</center></h2><p>作为个人开发 , 实际写的时候 , 一个个组件去写的话工作量就太大的了。这时不妨采用一些开源的组件库。</p><ul><li><a href="https://element.eleme.io/#/zh-CN" target="_blank" rel="noopener">ElementUI</a> </li><li><a href="https://www.iviewui.com/" target="_blank" rel="noopener">ViewUI</a> </li><li><a href="https://www.antdv.com/docs/vue/introduce-cn/" target="_blank" rel="noopener">Ant Design of Vue</a> </li><li><a href="https://youzan.github.io/vant/#/zh-CN/intro" target="_blank" rel="noopener">Vant</a> </li><li><a href="https://vuetifyjs.com/zh-Hans/" target="_blank" rel="noopener">Vuetify</a> </li><li><a href="https://bootstrap-vue.js.org/" target="_blank" rel="noopener">BootstrapVue</a> </li><li>etc.</li></ul><h3 id="引入Bootstrap组件"><a href="#引入Bootstrap组件" class="headerlink" title="引入Bootstrap组件"></a>引入Bootstrap组件</h3><ol><li><p><code>npm install bootstrap --save-exact</code> 引入后 , 就可在 package.json 中看到依赖的 bootstrap 版本了</p></li><li><p>在 <code>/src/main.js</code> 中添加 <code>import &#39;bootstrap/dist/css/bootstrap.min.css&#39;</code></p><p> <img src="/images/Vue2/06.png" alt></p></li><li><p>测试引用是否生效</p><p> 在 <code>/src/App.vue</code> 中添加测试代码(这里的用法就和普通的用法一样)</p><p> <img src="/images/Vue2/06-1.png" alt></p></li><li><p><code>npm run dev</code> 预览下效果</p><p> <img src="/images/Vue2/06-2.png" alt></p></li><li><p>熟悉后就可按照官方提供的组件形式使用</p></li></ol><h2 id="axios"><a href="#axios" class="headerlink" title="axios"></a><center>axios</center></h2><p>去官网查看一下👉<a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios</a></p><h3 id="安装axios"><a href="#安装axios" class="headerlink" title="安装axios"></a>安装axios</h3><p><code>npm install --save axios vue-axios</code></p><h3 id="注册组件"><a href="#注册组件" class="headerlink" title="注册组件"></a>注册组件</h3><p>在<code>/src.main.js</code>中引入 axios 和 vue-axios , 然后注册到 Vue 全局组件中<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import axios from &apos;axios&apos;</span><br><span class="line">import VueAxios from &apos;vue-axios&apos;</span><br><span class="line">Vue.use(VueAxios, axios)</span><br></pre></td></tr></table></figure></div></p><h3 id="尝试访问-API"><a href="#尝试访问-API" class="headerlink" title="尝试访问 API"></a>尝试访问 API</h3><p>在 /src/components/HelloWorld.vue 中写入<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pre</span>&gt;</span>&#123;&#123;content&#125;&#125;<span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"HelloWorld"</span>,</span></span><br><span class="line"><span class="undefined">  data() &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">      content: <span class="literal">null</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined">  mounted() &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">this</span>.axios</span></span><br><span class="line"><span class="actionscript">    .get(<span class="string">'https://api.coindesk.com/v1/bpi/currentprice.json'</span>)</span></span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="params">response</span> =&gt;</span> (<span class="keyword">this</span>.content = response))</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><ul><li>首先设置了个 content 变量来保存数据 </li><li>然后在 Vue 的生命周期函数 mounted 中通过 axios 请求数据</li><li>设置了 response 变量接受数据然后再赋给 content</li></ul><p>运行一下、可见浏览页面有数据返回了</p><p><img src="/images/Vue2/06-3.png" alt></p><h2 id="组件结构"><a href="#组件结构" class="headerlink" title="组件结构"></a><center>组件结构</center></h2><p>组件同一放在 <code>/src/components</code> 中<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="comment">// import ...</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">    name: <span class="string">'HelloWorld'</span>,</span></span><br><span class="line"><span class="undefined">    data () &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">            msg: <span class="string">'Welcome to Your Vue.js App'</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">h1 &#123;</span></span><br><span class="line"><span class="undefined">    font-weight: normal;</span></span><br><span class="line"><span class="undefined">    color: red;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>一个组件内一般由 <code>&lt;template/&gt; &lt;script/&gt; &lt;style/&gt;</code> 组成</p><h3 id="lt-template-gt"><a href="#lt-template-gt" class="headerlink" title="&lt;template/&gt;"></a><code>&lt;template/&gt;</code></h3><p>组件标签</p><h3 id="lt-script-gt"><a href="#lt-script-gt" class="headerlink" title="&lt;script/&gt;"></a><code>&lt;script/&gt;</code></h3><p>Js 脚本用的是 ES6 语法</p><ul><li><code>import ...</code> 导入各种库</li><li><code>export default { }</code> 输出该组件</li><li><code>data ()</code> data 是方法</li></ul><h3 id="lt-style-gt"><a href="#lt-style-gt" class="headerlink" title="&lt;style/&gt;"></a><code>&lt;style/&gt;</code></h3><p>该组件所应用的样式</p><ul><li><code>scoped</code> 属性 : 加上该属性说这个样式单只对该组件产生影响 , 一般还是加上 , 避免影响其他组件和全局设置</li></ul><h2 id="工程结构"><a href="#工程结构" class="headerlink" title="工程结构"></a><center>工程结构</center></h2><p>webpack模板生成的工程结构<br>👉<a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack</a><br>👉<a href="https://www.webpackjs.com/" target="_blank" rel="noopener">webpack-cn</a></p><p>常用结构<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PY"><figure class="iseeu highlight /py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── build/                      <span class="comment"># webpack config files</span></span><br><span class="line">│   └── ...</span><br><span class="line">├── config/</span><br><span class="line">│   ├── index.js                <span class="comment"># main project config</span></span><br><span class="line">│   └── ...</span><br><span class="line">├── src/</span><br><span class="line">│   ├── main.js                 <span class="comment"># app entry file</span></span><br><span class="line">│   ├── App.vue                 <span class="comment"># main app component</span></span><br><span class="line">│   ├── components/             <span class="comment"># ui components</span></span><br><span class="line">│   │   └── ...</span><br><span class="line">│   └── assets/                 <span class="comment"># module assets (processed by webpack)</span></span><br><span class="line">│       └── ...</span><br><span class="line">├── static/                     <span class="comment"># pure static assets (directly copied)</span></span><br><span class="line">├── .babelrc                    <span class="comment"># babel config</span></span><br><span class="line">├── .editorconfig               <span class="comment"># indentation, spaces/tabs and similar settings for your editor</span></span><br><span class="line">├── .eslintrc.js                <span class="comment"># eslint config</span></span><br><span class="line">├── .eslintignore               <span class="comment"># eslint ignore rules</span></span><br><span class="line">├── .gitignore                  <span class="comment"># sensible defaults for gitignore</span></span><br><span class="line">├── .postcssrc.js               <span class="comment"># postcss config</span></span><br><span class="line">├── index.html                  <span class="comment"># index.html template</span></span><br><span class="line">├── package.json                <span class="comment"># build scripts and dependencies</span></span><br><span class="line">└── README.md                   <span class="comment"># Default README file</span></span><br></pre></td></tr></table></figure></div></p><ul><li>build : webpack打包工具设置</li><li>config : 整个工程配置文件</li><li>src : 开发源文件 , 基本开发都在这里</li><li>static : 静态文件 , 编译时会自动直接复制到发布文件夹</li><li>index.html : 入口文件</li></ul><h2 id="执行过程⭐"><a href="#执行过程⭐" class="headerlink" title="执行过程⭐"></a><center>执行过程⭐</center></h2><p>关注这个五个文件 :  <strong>index.html</strong>  、 <strong>main.js</strong>  、 <strong>App.vue</strong>  、 <strong>index.js</strong>  、 <strong>HelloWorld.vue</strong></p><p><img src="/images/Vue2/06-5.png" alt></p><ul><li><p>首先是在 <strong>main.js</strong> 中实例化 Vue 对象 , Vue 对象 el 属性选择了 id=”app” 的元素 , 就是 <strong>index.html</strong> 中的 <code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code></p></li><li><p>然后定义了 Vue 对象的 template 为 <code>&lt;App/&gt;</code> , 这里我们先注释掉 components 观察一下页面元素</p><p>  <img src="/images/Vue2/06-4.png" alt></p><ul><li>可见 template 中定义的 <code>&lt;App/&gt;</code> 标签会替换掉 <strong>index.html</strong> 中的 <code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code></li><li>template 中定义的标签 <strong>不区分大小写</strong></li></ul></li><li><p>同时也指定了路由元素 router , 详写为 <code>router : router</code></p></li><li><p>接着在 Vue 对象中引入 <strong>子组件 App</strong> , 也就是 <strong>App.vue</strong> , 可见 <strong>main.js</strong> 顶部引入的文件</p></li><li><p>同理 , <strong>子组件会替换掉父组件的标签</strong> , 所以最终页面的标签就变成了 App.vue 中的 <code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code></p><p>  <img src="/images/Vue2/06-6.png" alt></p><ul><li>整个替换流程为 : <strong>index.html</strong> <code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code> ← <strong>main.js</strong> <code>&lt;App/&gt;</code>  ←  <strong>App.vue</strong> <code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code></li></ul></li><li><p>最后路由的部分就比较明朗了 , 先在 <strong>index.js</strong> 中通过 <strong>组件名</strong> 引入自定义的组件 , 然后显示在预先在 <strong>App.vue</strong> 占位的 <code>&lt;router-view&gt;</code> 中</p></li><li><p>对于这些文件的组装方式就是 webpack 需要做的了 , 大概是把 .vue 组件和相关 Js文件统一打包组装起来最终形成单页静态文件 ; 执行 <code>npm run build</code> 就可看到生成的哪些文件</p></li></ul><h2 id="路由⭐⭐⭐"><a href="#路由⭐⭐⭐" class="headerlink" title="路由⭐⭐⭐"></a><center>路由⭐⭐⭐</center></h2><p>👉<a href="https://router.vuejs.org/" target="_blank" rel="noopener">Vue Router</a> 👉<a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">Vue Router-cn</a></p><h3 id="安装路由"><a href="#安装路由" class="headerlink" title="安装路由"></a>安装路由</h3><p><code>npm install vue-router</code></p><h3 id="路由设置"><a href="#路由设置" class="headerlink" title="路由设置"></a>路由设置</h3><p><img src="/images/Vue2/07.png" alt></p><ul><li>在 <code>/src/router/index.js</code> 中设置</li><li>首先在 components 文件夹中写好一个组件 , 例如 HelloWorld.vue</li><li>然后 import 导入该组件 , 最后在 routes 中把该组件绑定 URL , 这样就完成了 URL 对组件的映射</li></ul><h3 id="静态路由例子"><a href="#静态路由例子" class="headerlink" title="静态路由例子"></a>静态路由例子</h3><h4 id="关键点"><a href="#关键点" class="headerlink" title="关键点"></a>关键点</h4><ul><li><strong>🎈path:’’</strong></li><li><strong>🎈component:</strong></li></ul><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><p>先写三个组件 About 、HelloWord 、 News , 然后设置路由预览一下</p><p>About.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>About Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>HelloWord.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>News.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>News Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>index.js<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> HelloWorld <span class="keyword">from</span> <span class="string">'@/components/HelloWorld'</span></span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'@/components/About'</span></span><br><span class="line"><span class="keyword">import</span> News <span class="keyword">from</span> <span class="string">'@/components/News'</span></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'HelloWorld'</span>,</span><br><span class="line">      component: HelloWorld</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/about'</span>,</span><br><span class="line">      name: <span class="string">'About'</span>,</span><br><span class="line">      component: About</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/news'</span>,</span><br><span class="line">      name: <span class="string">'News'</span>,</span><br><span class="line">      component: News</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></p><p>App.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"./assets/logo.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 使用 router-link 组件来导航. --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 通过传入 `to` 属性指定链接. --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- &lt;router-link&gt; 默认会被渲染成一个 `&lt;a&gt;` 标签 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/news"</span>&gt;</span>新闻<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/about"</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 路由出口 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"App"</span></span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="undefined">  font-family: "Avenir", Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">  -webkit-font-smoothing: antialiased;</span></span><br><span class="line"><span class="undefined">  -moz-osx-font-smoothing: grayscale;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line"><span class="undefined">  margin-top: 60px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><h4 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h4><p><img src="/images/Vue2/08.png" alt></p><p><img src="/images/Vue2/08-1.png" alt></p><p><img src="/images/Vue2/08-2.png" alt></p><h3 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h3><p>指在URL路径中含有动态参数的路由，比如说：/player/1, /player/2, /player/3 …</p><h4 id="关键点-1"><a href="#关键点-1" class="headerlink" title="关键点"></a>关键点</h4><p><strong>🎈<code>path: &#39;/:X &#39;</code></strong></p><h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4><p>先创建组件并设置路由</p><p>Player.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>球员页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; detail &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"Player"</span>,</span></span><br><span class="line"><span class="undefined">        data() &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="undefined">                detail: &#123;&#125;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="undefined">        mounted() &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 接受url参数id</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.detail = <span class="keyword">this</span>.getPlayer(<span class="keyword">this</span>.$route.params.uid);</span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="undefined">        /*</span></span><br><span class="line"><span class="javascript">        beforeRouteUpdate(to, <span class="keyword">from</span>, next) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.detail = <span class="keyword">this</span>.getPlayer(to.params.uid);</span></span><br><span class="line"><span class="undefined">            next();</span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="undefined">        */</span></span><br><span class="line"><span class="undefined">        methods: &#123;</span></span><br><span class="line"><span class="undefined">            getPlayer(uid) &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">switch</span> (uid) &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">case</span> <span class="string">'1'</span>:</span></span><br><span class="line"><span class="actionscript">                        <span class="keyword">return</span> &#123;uid: <span class="number">1</span>,name: <span class="string">'库里'</span>,point: <span class="number">26</span>&#125;;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">case</span> <span class="string">'2'</span>:</span></span><br><span class="line"><span class="actionscript">                        <span class="keyword">return</span> &#123;uid: <span class="number">2</span>,name: <span class="string">'哈登'</span>,point: <span class="number">30</span>&#125;;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">default</span>:</span></span><br><span class="line"><span class="actionscript">                        <span class="keyword">return</span> &#123;uid: <span class="number">-1</span>&#125;;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>index.js<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Player <span class="keyword">from</span> <span class="string">'@/components/Player'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/player/:uid'</span>,</span><br><span class="line">      name: <span class="string">'Player'</span>,</span><br><span class="line">      component: Player</span><br><span class="line">  &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></p><p>App.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"./assets/logo.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/player/1"</span>&gt;</span>库里<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/player/2"</span>&gt;</span>哈登<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"App"</span></span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="undefined">  font-family: "Avenir", Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">  -webkit-font-smoothing: antialiased;</span></span><br><span class="line"><span class="undefined">  -moz-osx-font-smoothing: grayscale;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line"><span class="undefined">  margin-top: 60px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><h4 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h4><p><img src="/images/Vue2/09.png" alt></p><ul><li><p>运行测试页面发现在 “库里” 和 “哈登” 之间切换时 , URL有切换但是数据不更新 , 始终为初次选项的数据</p></li><li><p>原因在于进入页面时 , Player 组件还没实例化 </p></li><li><p>当我们点击第一个选项时 , 例如 “库里” ; 此时 Player 组件实例化完成 , 不再实例化了 , 也就是执行过 mounted 方法了</p></li><li><p>然后点击 “哈登” , 也不会再执行 mounted 方法了 , 这是 Vue 设计时考虑到的问题 , 为了提高性能不能总是实例化对象 , 这样会对内存消耗大</p></li><li><p>添加  beforeRouteUpdate 方法即可解决此问题 ; 让第二次点击事件进入该方法</p></li></ul><h3 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h3><p>嵌套路由是指在动态路由的基础上再加上附加的嵌套URL（即：组件），比如说：(/player/:uid/*) /player/1/profile , /player/1/stats 等</p><h4 id="关键点-2"><a href="#关键点-2" class="headerlink" title="关键点"></a>关键点</h4><p><strong>🎈children:[ ]</strong></p><h4 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h4><p>Profile.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>球员简介:&#123;&#123;$route.params.uid&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>Stats.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>球员数据:&#123;&#123;$route.params.uid&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>Player.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>球员页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>编号：&#123;&#123;detail.uid&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>名字：&#123;&#123;detail.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>得分：&#123;&#123;detail.point&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"profile"</span>&gt;</span>简介<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"stats"</span>&gt;</span>数据<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"Player"</span>,</span></span><br><span class="line"><span class="undefined">  data() &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="undefined">      detail: &#123;&#125;,</span></span><br><span class="line"><span class="actionscript">      profile: <span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">      stats: <span class="string">""</span></span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined">  mounted() &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">this</span>.detail = <span class="keyword">this</span>.getPlayer(<span class="keyword">this</span>.$route.params.uid);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">this</span>.profile = <span class="string">"/player/"</span> + <span class="keyword">this</span>.$route.params.uid + <span class="string">"/profile"</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">this</span>.stats = <span class="string">"/player/"</span> + <span class="keyword">this</span>.$route.params.uid + <span class="string">"/stats"</span>;</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="javascript">  beforeRouteUpdate(to, <span class="keyword">from</span>, next) &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">this</span>.detail = <span class="keyword">this</span>.getPlayer(to.params.uid);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">this</span>.profile = <span class="string">"/player/"</span> + to.params.uid + <span class="string">"/profile"</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">this</span>.stats = <span class="string">"/player/"</span> + to.params.uid + <span class="string">"/stats"</span>;</span></span><br><span class="line"><span class="undefined">    next();</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">  methods: &#123;</span></span><br><span class="line"><span class="undefined">    getPlayer(uid) &#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">switch</span> (uid) &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">case</span> <span class="string">"1"</span>:</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123; uid: <span class="number">1</span>, name: <span class="string">"库里"</span>, point: <span class="number">26</span> &#125;;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">case</span> <span class="string">"2"</span>:</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123; uid: <span class="number">2</span>, name: <span class="string">"哈登"</span>, point: <span class="number">30</span> &#125;;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">default</span>:</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123; uid: <span class="number">-1</span> &#125;;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>index.js<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Player <span class="keyword">from</span> <span class="string">'@/components/Player'</span></span><br><span class="line"><span class="keyword">import</span> PlayerProfile <span class="keyword">from</span> <span class="string">'@/components/Profile'</span></span><br><span class="line"><span class="keyword">import</span> PlayerStats <span class="keyword">from</span> <span class="string">'@/components/Stats'</span></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/player/:uid'</span>,</span><br><span class="line">      name: <span class="string">'Player'</span>,</span><br><span class="line">      component: Player ,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">'profile'</span>,</span><br><span class="line">            component: PlayerProfile</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">'stats'</span>,</span><br><span class="line">            component: PlayerStats</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></p><p>App.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"./assets/logo.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/player/1"</span>&gt;</span>库里<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/player/2"</span>&gt;</span>哈登<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"App"</span></span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="undefined">  font-family: "Avenir", Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">  -webkit-font-smoothing: antialiased;</span></span><br><span class="line"><span class="undefined">  -moz-osx-font-smoothing: grayscale;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line"><span class="undefined">  margin-top: 60px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><h4 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h4><p><img src="/images/Vue2/10.png" alt></p><p>在一个路由对象中基于原有的组件创建子路由对象 , 在 children 属性内添加多个路由对象 , 然后在原有的组件中添加 <code>&lt;router-view&gt;</code></p><h3 id="路由跳转多种用法"><a href="#路由跳转多种用法" class="headerlink" title="路由跳转多种用法"></a>路由跳转多种用法</h3><h4 id="关键点-3"><a href="#关键点-3" class="headerlink" title="关键点"></a>关键点</h4><ul><li><strong>🎈$router.push</strong></li><li><strong>🎈<code>:to=&quot; &quot;</code></strong></li></ul><h4 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h4><p>现在基于上面的 App.vue 做改进<br>App.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"./assets/logo.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/player/1"</span>&gt;</span>库里1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/player/2"</span>&gt;</span>哈登1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btnClick(1)"</span>&gt;</span>库里11<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btnClick(2)"</span>&gt;</span>哈登22<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; name: 'Player', params: &#123; uid: 1 &#125;&#125;"</span>&gt;</span>库里111<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; path: '/player/2/stats' &#125;"</span>&gt;</span>哈登222<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"App"</span>,</span></span><br><span class="line"><span class="undefined">  methods: &#123;</span></span><br><span class="line"><span class="undefined">    btnClick(UID) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.$router.push(&#123; <span class="attr">path</span>: <span class="string">`/player/<span class="subst">$&#123;uid&#125;</span>`</span> &#125;);</span></span><br><span class="line"><span class="actionscript">      <span class="comment">//this.$router.push(&#123; path: `/player/$&#123;uid&#125;/stats` &#125;);</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">//this.$router.push(&#123; name: 'Player', params: &#123; uid: UID &#125; &#125;);</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">//this.$router.push(&#123; path: '/player', query: &#123; uid: UID &#125;&#125;); //url-get参数写法</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">//url履历控制</span></span></span><br><span class="line"><span class="actionscript">      <span class="comment">//this.$router.go(-1);</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="undefined">  font-family: "Avenir", Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">  -webkit-font-smoothing: antialiased;</span></span><br><span class="line"><span class="undefined">  -moz-osx-font-smoothing: grayscale;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line"><span class="undefined">  margin-top: 60px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><h4 id="router-push-重定向"><a href="#router-push-重定向" class="headerlink" title="$router.push 重定向"></a>$router.push 重定向</h4><ol><li><p>传递 path 路径</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123; path: `/player/$&#123;uid&#125;` &#125;);</span><br></pre></td></tr></table></figure></div> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123; path: `/player/$&#123;uid&#125;/stats` &#125;);</span><br></pre></td></tr></table></figure></div></li><li><p>传递 name 组件名 , 重定向到该组件绑定的 URL 同时传递参数</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123; name: &apos;Player&apos;, params: &#123; uid: UID &#125; &#125;);</span><br></pre></td></tr></table></figure></div> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123; path: &apos;/player&apos;, query: &#123; uid: UID &#125;&#125;);</span><br></pre></td></tr></table></figure></div></li><li><p>利用浏览器进行前进后退</p><ul><li><code>this.$router.go(-1);</code></li><li><code>this.$router.go(1);</code></li></ul></li></ol><h4 id="to-quot-quot-直接传递对象"><a href="#to-quot-quot-直接传递对象" class="headerlink" title=":to=&quot; &quot; 直接传递对象"></a><code>:to=&quot; &quot;</code> 直接传递对象</h4><p>:to 也就是 v-bind:to</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;&#123; name: &apos;Player&apos;, params: &#123; uid: 1 &#125;&#125;&quot;&gt;库里111&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;&#123; path: &apos;/player/2/stats&apos; &#125;&quot;&gt;哈登222&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></div><h3 id="多组件整合到同一路由"><a href="#多组件整合到同一路由" class="headerlink" title="多组件整合到同一路由"></a>多组件整合到同一路由</h3><h4 id="关键点-4"><a href="#关键点-4" class="headerlink" title="关键点"></a>关键点</h4><ul><li><strong>🎈components</strong></li><li><strong>🎈<code>&lt;router-view name=&quot; &quot;&gt;</code></strong></li></ul><h4 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h4><p>Header.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>标题栏<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是标题栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>Sidebar.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是侧边栏<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>Detail.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>详细显示<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Vue.js是一套用于构建用户界面的渐进式框架。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>index.js<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> SettingDetail <span class="keyword">from</span> <span class="string">'@/components/Detail'</span></span><br><span class="line"><span class="keyword">import</span> SettingHeader <span class="keyword">from</span> <span class="string">'@/components/Header'</span></span><br><span class="line"><span class="keyword">import</span> SettingSidebar <span class="keyword">from</span> <span class="string">'@/components/Sidebar'</span></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Home'</span>,</span><br><span class="line">      components: &#123;</span><br><span class="line">          myHeader: SettingHeader,</span><br><span class="line">          mySidebar: SettingSidebar,</span><br><span class="line">          myDetail: SettingDetail</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></p><p>App.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">style</span>=<span class="string">"background-color:darkgoldenrod"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">name</span>=<span class="string">"myHeader"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">"20%"</span> <span class="attr">style</span>=<span class="string">"background-color:thistle"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">name</span>=<span class="string">"mySidebar"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">"80%"</span> <span class="attr">style</span>=<span class="string">"background-color:aquamarine"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">name</span>=<span class="string">"myDetail"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"App"</span>,</span></span><br><span class="line"><span class="undefined"> </span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="undefined">  font-family: "Avenir", Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">  -webkit-font-smoothing: antialiased;</span></span><br><span class="line"><span class="undefined">  -moz-osx-font-smoothing: grayscale;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line"><span class="undefined">  margin-top: 60px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><h4 id="分析-2"><a href="#分析-2" class="headerlink" title="分析"></a>分析</h4><p><img src="/images/Vue2/11.png" alt></p><p>这里的关键在于 <strong>components</strong> 和 <code>&lt;router-view name=&quot; &quot;&gt;</code> </p><h3 id="URL-别名与重定向"><a href="#URL-别名与重定向" class="headerlink" title="URL 别名与重定向"></a>URL 别名与重定向</h3><h4 id="关键点-5"><a href="#关键点-5" class="headerlink" title="关键点"></a>关键点</h4><ul><li><strong>🎈路由别名 alias</strong></li><li><strong>🎈重定向指令 redirect</strong></li></ul><h4 id="代码-5"><a href="#代码-5" class="headerlink" title="代码"></a>代码</h4><p>在 <a href="#嵌套路由">嵌套路由</a> 的代码基础上作修改</p><p>About.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>About Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>index.js<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Player <span class="keyword">from</span> <span class="string">'@/components/Player'</span></span><br><span class="line"><span class="keyword">import</span> PlayerProfile <span class="keyword">from</span> <span class="string">'@/components/Profile'</span></span><br><span class="line"><span class="keyword">import</span> PlayerStats <span class="keyword">from</span> <span class="string">'@/components/Stats'</span></span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'@/components/About'</span></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/player/:uid'</span>,</span><br><span class="line">      name: <span class="string">'Player'</span>,</span><br><span class="line">      component: Player,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">'profile'</span>,</span><br><span class="line">          component: PlayerProfile</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">'stats'</span>,</span><br><span class="line">          component: PlayerStats</span><br><span class="line">        &#125;,</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/about'</span>,</span><br><span class="line">      name: <span class="string">'About'</span>,</span><br><span class="line">      component: About,</span><br><span class="line">      alias: <span class="string">'/aboutme'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/curry'</span>,</span><br><span class="line">      redirect: <span class="string">'/player/1'</span></span><br><span class="line">      <span class="comment">//redirect: &#123; name: 'About' &#125;</span></span><br><span class="line">      <span class="comment">//redirect: '/about'</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></p><p>App.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/about"</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/player/1"</span>&gt;</span>Player1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/curry"</span>&gt;</span>Curry<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"App"</span>,</span></span><br><span class="line"><span class="undefined"> </span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="undefined">  font-family: "Avenir", Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">  -webkit-font-smoothing: antialiased;</span></span><br><span class="line"><span class="undefined">  -moz-osx-font-smoothing: grayscale;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line"><span class="undefined">  margin-top: 60px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><h4 id="分析-3"><a href="#分析-3" class="headerlink" title="分析"></a>分析</h4><ul><li><p><code>alias: &#39;/aboutme&#39;</code> 就是给 <code>path: &#39;/about&#39;</code> 中的 /about 路径起了个别名 , 访问 /aboutme 和 /about 是一个效果</p></li><li><p><code>path: &#39;/curry&#39;</code> 和 <code>redirect: &#39;/player/1&#39;</code> 组合起来就是 , 当访问 /curry 的时候会重定向到 /player/1 </p></li><li><p><code>redirect: { name: &#39;About&#39; }</code> 也可以用组件的名称</p></li><li><code>redirect: &#39;/about&#39;</code> 同上</li><li><code>redirect: &#39;/aboutme&#39;</code> 重定向到别名也是可以的</li></ul><h3 id="多参数路由"><a href="#多参数路由" class="headerlink" title="多参数路由"></a>多参数路由</h3><h4 id="关键点-6"><a href="#关键点-6" class="headerlink" title="关键点"></a>关键点</h4><p><strong>🎈路由属性 props</strong></p><h4 id="代码-6"><a href="#代码-6" class="headerlink" title="代码"></a>代码</h4><p>User.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>User<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>uid=&#123;&#123; uid &#125;&#125;, &#123;&#123; nationality &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>$route.params.uid=&#123;&#123; $route.params.uid &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>$route.params.uid=&#123;&#123; $route.params.nationality &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"User"</span>,</span></span><br><span class="line"><span class="actionscript">        props: [<span class="string">'uid'</span>, <span class="string">'nationality'</span>]</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><p>index.js<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import Vue from 'vue'</span><br><span class="line">import Router from 'vue-router'</span><br><span class="line">import User from '@/components/User'</span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: '/',</span><br><span class="line">      name: 'Home',</span><br><span class="line">  &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: '/user/:uid/:nationality',</span><br><span class="line">      name: 'User',</span><br><span class="line">      component: User,</span><br><span class="line">      props: true</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></p><p>App.vue<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/user/1/usa"</span>&gt;</span>User1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/user/2/china"</span>&gt;</span>User2<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/user/3/korea"</span>&gt;</span>User3<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"App"</span>,</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="undefined">  font-family: "Avenir", Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">  -webkit-font-smoothing: antialiased;</span></span><br><span class="line"><span class="undefined">  -moz-osx-font-smoothing: grayscale;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line"><span class="undefined">  margin-top: 60px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p><h4 id="分析-4"><a href="#分析-4" class="headerlink" title="分析"></a>分析</h4><p><img src="/images/Vue2/12.png" alt></p><p>这里主要在于在路由对象里开启 props 属性 , 同时在对应组件里也要设置 props 变量来接收参数</p>]]></content>
      
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Learn to use Vue.js</title>
      <link href="/archives/LearnToUseVue/"/>
      <url>/archives/LearnToUseVue/</url>
      
        <content type="html"><![CDATA[<h2 id="How-to-use-Vue-js"><a href="#How-to-use-Vue-js" class="headerlink" title=" How to use Vue.js "></a><center> How to use Vue.js </center></h2><h3 id="引入-Vue-js"><a href="#引入-Vue-js" class="headerlink" title="引入 Vue.js"></a>引入 Vue.js</h3><p><img src="/images/Vue/01.png" alt></p><ul><li><p>引入Vue.js , 实例化一个对象 myApp,里面的 el , data 为关键字</p></li><li><p>el 相当于元素选择器 element，这里 <code>#App</code> 选择了 <code>id=&quot;App&quot;</code> 的元素</p></li><li><p>data 里面定义任意名称字段，然后在 <em>双大括号</em>  中显示</p></li></ul><h2 id="v-if-、-v-for"><a href="#v-if-、-v-for" class="headerlink" title=" v-if 、 v-for "></a><center> v-if 、 v-for </center></h2><h3 id="基础用法"><a href="#基础用法" class="headerlink" title="基础用法"></a>基础用法</h3><p><img src="/images/Vue/02.png" alt></p><ul><li><p><code>v-if=&quot;seen&quot;</code>中的 seen 关联了 data 中 seen , v-if 中的参数为 true 则显示,反之</p></li><li><p><code>v-for=&quot;fruit in fruits&quot;</code> 中的 fruits 关联了 data 中的 fruits , 遍历fruits 数组中的内容赋给 fruit , 最后在 <em>双大括号</em>  取 fruit 对象中的值</p></li></ul><h3 id="v-if-、v-else-if-、v-else"><a href="#v-if-、v-else-if-、v-else" class="headerlink" title="v-if 、v-else-if 、v-else"></a>v-if 、v-else-if 、v-else</h3><p><img src="/images/Vue/12.png" alt></p><ul><li>这个比较容易理解 , 直接在后面写入表达式 , 然后根据结果真假进行显示与否</li></ul><p><img src="/images/Vue/12-1.png" alt><br><a id="more"></a></p><h3 id="数组列表渲染-添加索引"><a href="#数组列表渲染-添加索引" class="headerlink" title="数组列表渲染-添加索引"></a>数组列表渲染-添加索引</h3><p><img src="/images/Vue/14.png" alt></p><ul><li><p>这里对比前面的循环多了个索引 index , 主要表示了当前对象在数组列表中的位置</p><p>  <img src="/images/Vue/14-1.png" alt></p></li></ul><h3 id="对象迭代"><a href="#对象迭代" class="headerlink" title="对象迭代"></a>对象迭代</h3><p><img src="/images/Vue/15.png" alt></p><ul><li><p>取出 mygame 对象中的键值对</p><p>  <img src="/images/Vue/15-1.png" alt></p></li><li><p>值得注意的是 <code>(value, key) in mygame</code> 中键值对的顺序 , 前者必定是值 , 后者必定是键 , 这是设计初就定义好的。</p></li><li><p>命名 value 和 key 只是为了提高可读性而已 , 其实取什么名都不影响结果</p><p>  <img src="/images/Vue/15-2.png" alt></p><p>  <img src="/images/Vue/15-3.png" alt></p></li></ul><h2 id="v-show"><a href="#v-show" class="headerlink" title=" v-show "></a><center> v-show </center></h2><p>设置元素状态为显示</p><p><img src="/images/Vue/13.png" alt></p><ul><li><p>这个也好理解 , 根据 result 对象的布尔值进行显示或隐藏</p></li><li><p>这个与 v-if 的区别在于 v-if 是对 DOM 进行操作的 , 而 v-show 只是设置了标签的 display 属性而已 , 并没有操作 DOM</p></li></ul><p><img src="/images/Vue/13-1.png" alt></p><p><img src="/images/Vue/13-2.png" alt></p><h2 id="v-model"><a href="#v-model" class="headerlink" title=" v-model "></a><center> v-model </center></h2><p>为元素进行数据绑定</p><p><img src="/images/Vue/03.png" alt></p><ul><li><p>首先 data 中的 myName 的值是双向绑定到了 <code></code> 中 , 初始文本为 myName 的值</p></li><li><p>然后我想修改 <code></code> 的值怎么办,那就为一个元素设置 <code>v-model</code> 属性,属性值就设为想要绑定的那个字段名即可,这里就设置为 <code>v-model=&quot;myName&quot;</code></p></li><li><p>最终在input中输入的结果会呈现在 <em>双大括号</em>  中</p></li></ul><h2 id="v-bind-class"><a href="#v-bind-class" class="headerlink" title=" v-bind:class "></a><center> v-bind:class </center></h2><h3 id="为元素的-class-属性绑定值"><a href="#为元素的-class-属性绑定值" class="headerlink" title="为元素的 class 属性绑定值"></a>为元素的 class 属性绑定值</h3><p><img src="/images/Vue/10.png" alt></p><ul><li><p>首先常规的元素 class 一般为 <code>&lt;p class=&quot;xxx&quot; /&gt;</code> 的形式 , 这样的形式只能不断的在其后面添加 class 名才能对元素加以控制,显得不够灵活</p></li><li><p>Vue 能够用过 Js 对其 class 属性进行控制 , 提高了 class 属性的复用性</p></li><li><p>这里 <code>v-bind:class=&quot;{active:isActive}&quot;</code> 意思是首先有一个 <code>class=&quot;active&quot;</code> 的元素 , 我们突然不想让它的 class 值为 active 了 , 怎么办 ? 但是又不可能随时手工去移除 , 所以就在双引号内写入表达式 <code>{active:isActive}</code> </p></li><li><p><code>active:isActive</code> 中的 isActive 可任意取名 , 然后在 data 中给 isActive 字段赋予一个布尔值 , 然后 v-bind:class 就能根据双引号内的表达式进行布尔判断 , 实现显示与移除</p></li><li><p><code>v-bind:class</code> 可简写为 <code>:class</code></p><p>  <img src="/images/Vue/10-1.png" alt></p><p>  <img src="/images/Vue/10-2.png" alt></p></li></ul><h3 id="为元素的-class-属性绑定对象"><a href="#为元素的-class-属性绑定对象" class="headerlink" title="为元素的 class 属性绑定对象"></a>为元素的 class 属性绑定对象</h3><p><img src="/images/Vue/11.png" alt></p><ul><li><p>上面的例子是在 class 属性的双引号内写入表达式 , 然后绑定了样式的属性名</p></li><li><p>这里的话 , 直接在双引号内输入任意字段名 , 然后在 data 中写入该字段名对象 , 接着在该对象内写入布尔参数</p></li><li><p>最终效果为 class 绑定了 myClass 对象 ，class 属性根据对象内容的参数布尔值 , 实现了同时对一个元素添加多个属性值效果</p><p>  <img src="/images/Vue/11-1.png" alt></p><p>  <img src="/images/Vue/11-2.png" alt></p></li></ul><h2 id="v-on"><a href="#v-on" class="headerlink" title=" v-on "></a><center> v-on </center></h2><h3 id="为元素进行事件绑定"><a href="#为元素进行事件绑定" class="headerlink" title="为元素进行事件绑定"></a>为元素进行事件绑定</h3><p><img src="/images/Vue/04.png" alt></p><ul><li><p><code>v-on:click</code> 绑定了一个点击事件,点击事件 <code>btnClick(&#39;Orekiyuta&#39;)</code> 的方法名为 btnClick ,关联了 myApp 实例中的 methods 关键字中的 btnClick 字段 , 然后把方法里的值赋给了 data 中的 myName </p></li><li><p><code>v-on:</code> 可简写为 <code>@</code></p></li><li><p>同理,其他事件也是这样 ( keydown , keyup , dbclick , load , etd . )</p></li></ul><h3 id="v-on-event"><a href="#v-on-event" class="headerlink" title="v-on:(event)"></a>v-on:(event)</h3><p><img src="/images/Vue/16.png" alt></p><ul><li><p><code>v-on:keyup=&quot;txtKeyup($event)&quot;</code> 在这里 <code>$event</code> 为关键字获取事件内容 , 不能修改成其他 </p></li><li><p><code>v-on:keyup=&quot;txtKeyup($event)&quot;</code> 和 <code>v-on:keyup=&quot;txtKeyup&quot;</code> 为一样的效果 , 默认为获取事件</p></li><li><p>v-on:(event) 可简写为 @(event) , 例如 <code>@keyup=&quot;txtkeyup&quot;</code></p><ul><li><p>松开按键</p><p><img src="/images/Vue/16-1.png" alt></p></li><li><p>点击按钮</p><p><img src="/images/Vue/16-2.png" alt></p></li></ul></li><li><p>修改方法形参不影响结果 , 形参定义成 event 也是便于理解而已 ; <code>v-on:(evenr)</code> 获取了键盘的事件传给方法的形参 , 形参接受了数据在函数里做相应的处理</p><p>  <img src="/images/Vue/16-3.png" alt>   </p></li></ul><h2 id="Component"><a href="#Component" class="headerlink" title=" Component "></a><center> Component </center></h2><p>组件 , 把当个页面拆分开成各个部件的一种思想,把页面各个部分认为是一个组件,然后操作各个组件元素,最后重新组合为页面;也是一种解耦思想吧</p><p><img src="/images/Vue/05.png" alt></p><ul><li><p>在这里首先是自定义了一个名为 orekiyuta 的 component , 然后设置了它的 pros 和 template </p></li><li><p>这个组件在代码中表现为 <code>&lt;orekiyuta/&gt;</code> 的形式 , 它的 pros 可理解为接受传入的数据 , template 则是定义了 <code>&lt;orekiyuta/&gt;</code> 最终会渲染成何种元素,这里为 <code>&lt;li/&gt;</code></p></li><li><p>最终结果是从数组 fruits 中遍历数据赋给 fruit , 然后 <code>v-bind</code> 把 fruit 和 组件的名为 eatfruits 的 props 绑定在一起 , 这样就可以在 template 中通过 <code>eatfruits.name</code> 取得数据</p></li></ul><h2 id="Filters"><a href="#Filters" class="headerlink" title=" Filters "></a><center> Filters </center></h2><p>过滤器 , 把元数据格式化输出,就是把所得到的数据改变下输出格式,常见的日期格式就个例子,<br>把数据和其表现形式分离操作,也是MVC常用的一种思想</p><p><img src="/images/Vue/06.png" alt></p><ul><li>用法为在需要格式化的数据后加上管道符和过滤器名 <code>XXX | filterName</code></li><li>filters 和 methods 内容为同样的写法 , 也就关键字不一样而已</li></ul><h2 id="Computed"><a href="#Computed" class="headerlink" title=" Computed "></a><center> Computed </center></h2><p>计算属性 , 用于把从服务端传过来的元数据加以计算处理的,这样有便于各种不同算法处理的同一数据的展示</p><p><img src="/images/Vue/07.png" alt></p><ul><li>和前面 methods 、filters 写法一样 , 差别在于用法</li><li>用法直接在 <em>双大括号</em>  中写入计算属性的方法名</li></ul><h2 id="Watch"><a href="#Watch" class="headerlink" title=" Watch "></a><center> Watch </center></h2><p>监听属性 , 用于监听变量的变化,然后执行相应处理</p><p><img src="/images/Vue/08.png" alt></p><ul><li>用法为在 Watch 关键字内 写入需要监听的变量,这里监听了 data 中的 变量 price </li><li>一旦 price 的值发生改变,就触发后面的 <code>function (newVal, oldVal)</code> , 方法中的默认形参为新值和旧值</li><li><p>和前面的计算属性不一样的是 , 在这里 <code></code> <code></code> 是定义为变量输出的</p><p>  <img src="/images/Vue/08-1.png" alt></p><p>  <img src="/images/Vue/08-2.png" alt></p></li><li><p>这样一来 priceInTax 和 priceChinaRMB 初始值为 0 , 而我们想在页面第一次加载的时候就让三种价格输出</p><p>  <img src="/images/Vue/08-3.png" alt></p></li><li><p>这样就可以在这个Vue对象实例的时候先不给 price 赋值,而在它实例化完成之后再对 price 赋值 , 这样监听属性就能执行一次处理</p><p>  <img src="/images/Vue/08-4.png" alt></p></li></ul><h2 id="Setter"><a href="#Setter" class="headerlink" title=" Setter "></a><center> Setter </center></h2><p>设置计算属性 , 之前的计算属性只是单纯的取出数据 get , 这里多了个存数据方法 set</p><p><img src="/images/Vue/09.png" alt></p><ul><li><p>首先页面初始化时会先读取 price 、priceInTax 、priceChinaRMB 各自的值 ; priceInTax 触发的是 get 方法 , 根据 price 值计算出了 priceInTax 的值</p></li><li><p>然后点击事件给计算属性中的 priceInTax 赋予了一个新的值 , 触发 priceInTax 的 set 方法 ,根据 priceInTax 的值 计算出 Price 的 值</p></li></ul><h2 id="表单"><a href="#表单" class="headerlink" title=" 表单 "></a><center> 表单 </center></h2><h3 id="文本框"><a href="#文本框" class="headerlink" title="文本框"></a>文本框</h3><p><code>input[type=&quot;text&quot;]</code> : 用  <code>v-model</code> 为表单文本框绑定变量 , 实现数据同步</p><p><img src="/images/Vue/17.png" alt></p><p><img src="/images/Vue/17-1.png" alt></p><h3 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h3><p><code>input[type=&quot;checkout&quot;]</code> : 用  <code>v-model</code> 绑定复选框 , 并把选中的复选框的值添加到数组对象中 , 数组内顺序由选中顺序决定 </p><p><img src="/images/Vue/18.png" alt></p><p><img src="/images/Vue/18-1.png" alt></p><ul><li><p>取消选中某一元素后 , 数组后一位元素向前移动一位</p><p>  <img src="/images/Vue/18-2.png" alt></p></li><li><p>需要注意的是 checkedGames 对象为数组对象 [] , 如果修改成变量 “” 就会同时选定 , 且结果是布尔值</p><p>  <img src="/images/Vue/18-3.png" alt></p><p>  <img src="/images/Vue/18-4.png" alt></p></li></ul><h3 id="单选按钮"><a href="#单选按钮" class="headerlink" title="单选按钮"></a>单选按钮</h3><p><code>input[type=&quot;radio&quot;]</code> : 用  <code>v-model</code> 绑定单选按钮 , v-model 的值相同的为一组 , 值对象就用空就行</p><p><img src="/images/Vue/19.png" alt></p><h3 id="下拉列表"><a href="#下拉列表" class="headerlink" title="下拉列表"></a>下拉列表</h3><p><code>select</code> : 用  <code>v-model</code> 绑定下拉框列表 </p><p><img src="/images/Vue/20.png" alt></p><ul><li><p>在 <code>likedNBAStar: &quot;&quot;</code> 这里用 <code>&quot;&quot;</code> 和 <code>null</code> 效果一样</p></li><li><p>在 <code>likedNBAStars: []</code> 这里用 <code>null</code> <code>&quot;&quot;</code> <code>{}</code> <code>[]</code> 结果一样都是数组 </p><p>  <img src="/images/Vue/20-1.png" alt></p></li></ul><h3 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h3><p>表单修饰符</p><h4 id="lazy"><a href="#lazy" class="headerlink" title=".lazy"></a>.lazy</h4><ul><li><code>用户名：&lt;input v-model.lazy=&quot;username&quot;&gt;</code></li><li>用户输入内容时不做绑定数据的更新处理,在控件的 onchange 事件中更新绑定的变量 </li><li>也就是说用户输入完成后 , 光标离开的瞬间触发 onchange 事件 , 一次性更新内容</li><li>一般的数据双向绑定都是用户输入的同时更新 , 这样做的话有助于提高性能</li></ul><h4 id="number"><a href="#number" class="headerlink" title=".number"></a>.number</h4><ul><li><code>年龄：&lt;input v-model.number=&quot;age&quot; type=&quot;number&quot;&gt;</code></li><li>将用户输入的内容转换为数值类型，如果用户输入非数值的时候，则返回NaN</li><li>在页面表现为无法输入非数字类型内容</li></ul><h4 id="trim"><a href="#trim" class="headerlink" title=".trim"></a>.trim</h4><ul><li><code>意见：&lt;input v-model.trim=&quot;content&quot;&gt;</code></li><li>自动去掉用户输入内容两端的空格</li></ul><p><img src="/images/Vue/21.png" alt></p><p><strong>总结下来 , 基本就是通过 <code>v-model</code> 绑定 data 中的一个对象 , 至于对象是什么类型 , 取决于需求</strong></p><h2 id="组件⭐"><a href="#组件⭐" class="headerlink" title=" 组件⭐ "></a><center> 组件⭐ </center></h2><h3 id="创建全局组件"><a href="#创建全局组件" class="headerlink" title="创建全局组件"></a>创建全局组件</h3><p><img src="/images/Vue/22.png" alt></p><p><img src="/images/Vue/22-1.png" alt></p><ul><li>值得注意的是以 <code>Vue.component()</code> 形式创建的是全局组件 , 意思是只要是用到 Vue 对象的地方都可以用到该组件</li></ul><h3 id="创建局部组件"><a href="#创建局部组件" class="headerlink" title="创建局部组件"></a>创建局部组件</h3><p><img src="/images/Vue/23.png" alt></p><ul><li><p>首先声明了一个 Js 对象 WeatherComponent , 然后在该对象内部声明了 template 属性 , 这个 template 为关键字</p></li><li><p>然后声明了一个名为 myApp 的 Vue 实例 , 在该实例内部的 components 属性内部写了一个组件名 <code>my-weather</code> , 跟在后面的 <code>WeatherComponent</code> 意思是用到名为 WeatherComponent 的 Js 对象</p></li><li><p>这样的过程就是局部注册组件</p></li><li><p>这样的写法就是 my-weather 这个组件只能在 myApp 这个实例的作用域里面才能生效 , 意思就是 <code>&lt;my-weather/&gt;</code> 只有写在 <code>&lt;div id=&quot;myApp&quot;/&gt;</code> 内部才生效</p><p>  <img src="/images/Vue/23-1.png" alt></p></li></ul><h3 id="表行组件"><a href="#表行组件" class="headerlink" title="表行组件"></a>表行组件</h3><p>首先观察以下内容</p><p><img src="/images/Vue/24.png" alt></p><p><img src="/images/Vue/24-1.png" alt></p><ul><li><p>由于 <code>&lt;table/&gt;</code> 内部无法识别 <code>&lt;my-row*&gt;</code> , 因此我们定义的组件只能渲染在 table 标签外部</p></li><li><p>我们定义的组件渲染的顺序排在了 table 之前 , ( 个人应该是页面DOM组织时 Js 的优先级高于原生 HTML ) //这里有待研究</p></li></ul><p>如果需要让组件内容正常的显示在 table 中 , 需要用这种写法 <code>&lt;tr is=&quot;my-row1&quot;&gt;&lt;/tr&gt;</code></p><pre><code>![](/images/Vue/24-2.png)</code></pre><h3 id="数据函数"><a href="#数据函数" class="headerlink" title="数据函数"></a>数据函数</h3><p><img src="/images/Vue/25.png" alt></p><ul><li>这里需要注意的是 template 属性内的 todayWeather 对象 , 需要在 data 中写成函数形式</li></ul><h3 id="给组件传递参数"><a href="#给组件传递参数" class="headerlink" title="给组件传递参数"></a>给组件传递参数</h3><p><img src="/images/Vue/26.png" alt></p><ul><li><p>这里数据传递的关键在于 test-result 组件标签的 <code>:score</code> 属性通过 v-bind 和组件内部 props 属性值 score 进行了绑定</p></li><li><p>这样就组件就可以接受从外部传递过来的参数值</p></li></ul><h3 id="给组件传递变量"><a href="#给组件传递变量" class="headerlink" title="给组件传递变量"></a>给组件传递变量</h3><p><img src="/images/Vue/27.png" alt></p><ul><li><p>首先是用 v-model 给 input 的值绑定了 myApp 的 data 方法中的 myname 对象 </p></li><li><p>然后在自定义的组件中用 <code>:pname</code> 把 myname 对象和组件中的 props 属性中的 pname 值进行绑定</p></li><li><p>通过 myname 对象把值传递到 template 属性值的 <em>双大括号中</em></p></li></ul><h3 id="参数验证"><a href="#参数验证" class="headerlink" title="参数验证"></a>参数验证</h3><p><img src="/images/Vue/28.png" alt></p><ul><li><p>在 component 中的 props 属性不再是之前的数组 , 而是设置成对象 </p></li><li><p>分别设置了 name , age , detail 对象 , 在各自的对象中进行了相应的参数校验 </p></li><li><p>detail 与 name , age 的不同在于 name , age 为单一的属性对象 , 而 datail 设置了 object 对象 , 便可以在其中描述多个内容 ; 在这里的话设置了默认返回值</p></li></ul><h3 id="事件传递"><a href="#事件传递" class="headerlink" title="事件传递"></a>事件传递</h3><h4 id="v-on-1"><a href="#v-on-1" class="headerlink" title="v-on"></a>v-on</h4><ul><li>v-on : 侦听组件事件，当组件触发事件后进行事件处理。</li></ul><h4 id="emit"><a href="#emit" class="headerlink" title="$emit"></a>$emit</h4><ul><li>$emit : 触发事件，并将数据提交给事件侦听者。</li></ul><p><img src="/images/Vue/29.png" alt></p><ol><li><p>首先给组件传递了 a 、 b 值 </p></li><li><p>然后点击事件触发 add 方法</p></li><li><p>然后在方法内部用 <code>$emit</code> 触发事件 , 给 add_event 事件传递 inResult 参数</p></li><li><p>组件 <code>&lt;add-method /&gt;</code> 绑定的 add_event 事件被触发 , 然后调用 getAddResult 方法</p></li><li><p>将刚才传递过来的 inResult 参数赋给 outResult 参数 , 最终显示在页面 </p></li></ol><h3 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h3><p>主要作用是将自定义组件标签之间的内容保留到指定位置</p><ul><li><p>一般来说没有使用 slot 的情况下 , 组件编译时会忽略组件标签之间的内容</p><p>  <img src="/images/Vue/30-2.png" alt></p><p>  <img src="/images/Vue/30.png" alt></p></li><li><p>用法为在 template 中指定位置插入 <code>&lt;slot&gt;&lt;/slot&gt;</code></p></li><li><p>在文章以上的所有内容都是在标签的属性中操作数据显示 , 而这里主要对标签间的内容进行操作</p><p>  <img src="/images/Vue/30-1.png" alt></p></li><li><p>观察所得 , slot 不仅保留了字符 , 还保留了空格</p></li><li><p>所以 slot 使用后会对组件标签之间的所有内容进行保留 , 空格当作空字符一起合并</p></li></ul><h3 id="组合-slot"><a href="#组合-slot" class="headerlink" title="组合 slot"></a>组合 slot</h3><p>在上面使用了 slot 之后 , 或许会有点疑问 , 上面是一次性操作了标签内所有的内容 , 要是我想只对局部内容操作该怎么办呢？那就需要为 slot 命名区分开 , 再对其进行处理</p><p><img src="/images/Vue/31.png" alt></p><ul><li><p>通过在组件内添加块元素 <code>&lt;span/&gt;</code> 为 slot 命名 , 然后在 template 中 再次通过名称对其进行保留处理</p></li><li><p>仔细观察 , 这时如果不给 slot 命名的话 , 使用 <code>&lt;slot&gt;&lt;/slot&gt;</code> 也一样会进行保留操作 , 由于这里组件 <code>&lt;nba-all-stars/&gt;</code> 之间无内容 , 所以不显示</p><p>  <img src="/images/Vue/31-1.png" alt></p></li><li><p>再次观察可知, 标签之间的空格不会被编译器认为是空字符</p><p>  <img src="/images/Vue/31-1.png" alt></p></li><li><p>但是一旦标签内有字符 , 空格就被认为和空字符 </p></li><li><p>同时 <code>&lt;span/&gt;</code> 标签占据的位置也会被认为是空字符</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tmux Manual</title>
      <link href="/archives/TmuxManual/"/>
      <url>/archives/TmuxManual/</url>
      
        <content type="html"><![CDATA[<h3 id="启动会话"><a href="#启动会话" class="headerlink" title="启动会话"></a>启动会话</h3><ul><li><code>tmux</code> 匿名会话</li><li><code>tmux new -s &lt;session-name&gt;</code></li></ul><h3 id="退出会话"><a href="#退出会话" class="headerlink" title="退出会话"></a>退出会话</h3><ul><li><code>exit</code></li><li>Ctrl + d</li></ul><h3 id="前缀"><a href="#前缀" class="headerlink" title="前缀"></a>前缀</h3><ul><li>Ctrl + b</li><li>Ctrl + b + ?  帮助信息</li><li>ESC / q   退出帮助</li></ul><h3 id="分离会话"><a href="#分离会话" class="headerlink" title="分离会话"></a>分离会话</h3><ul><li><code>tmux detach</code></li><li>Ctrl + b + d</li></ul><h3 id="查看会话列表"><a href="#查看会话列表" class="headerlink" title="查看会话列表"></a>查看会话列表</h3><ul><li><code>tmux ls</code></li><li>Ctrl + b + s</li></ul><h3 id="接入会话"><a href="#接入会话" class="headerlink" title="接入会话"></a>接入会话</h3><ul><li><code>tmux a</code> </li><li><code>tmux attach -t &lt;session-name&gt;</code></li></ul><h3 id="关闭会话"><a href="#关闭会话" class="headerlink" title="关闭会话"></a>关闭会话</h3><ul><li><code>tmux kill-session -t &lt;session-name&gt;</code></li></ul><h3 id="切换会话"><a href="#切换会话" class="headerlink" title="切换会话"></a>切换会话</h3><ul><li><code>tmux switch -t &lt;session-name&gt;</code></li></ul><h3 id="重命名会话"><a href="#重命名会话" class="headerlink" title="重命名会话"></a>重命名会话</h3><ul><li><code>tmux rename-session -t &lt;old-name&gt; &lt;new-name&gt;</code></li><li>Ctrl + b + $</li></ul><h3 id="窗格操作"><a href="#窗格操作" class="headerlink" title="窗格操作"></a>窗格操作</h3><h4 id="划分上下窗口"><a href="#划分上下窗口" class="headerlink" title="划分上下窗口"></a>划分上下窗口</h4><ul><li>Ctrl + b + “   </li></ul><h4 id="划分左右窗口"><a href="#划分左右窗口" class="headerlink" title="划分左右窗口"></a>划分左右窗口</h4><ul><li>Ctrl + b + %</li></ul><h4 id="移动光标到其他窗格"><a href="#移动光标到其他窗格" class="headerlink" title="移动光标到其他窗格"></a>移动光标到其他窗格</h4><ul><li>Ctrl + b + ↑↓←→键</li></ul><h4 id="调整窗格大小"><a href="#调整窗格大小" class="headerlink" title="调整窗格大小"></a>调整窗格大小</h4><ul><li>Ctrl + b + Ctrl + ↑↓←→</li></ul><h4 id="窗格内容上下滚动"><a href="#窗格内容上下滚动" class="headerlink" title="窗格内容上下滚动"></a>窗格内容上下滚动</h4><ul><li>Ctrl + b + [ + ↑↓   </li></ul><hr><h3 id="参考内容"><a href="#参考内容" class="headerlink" title="参考内容"></a>参考内容</h3><ul><li><a href="http://louiszhai.github.io/2017/09/30/tmux/" target="_blank" rel="noopener">Tmux 使用手册</a></li><li><a href="https://www.ruanyifeng.com/blog/2019/10/tmux.html" target="_blank" rel="noopener">Tmux 使用教程</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Tmux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ark.exploit.log</title>
      <link href="/archives/Ark-exploit-log/"/>
      <url>/archives/Ark-exploit-log/</url>
      
        <content type="html"><![CDATA[<h3 id="Date-2019-11-23-18-18-27"><a href="#Date-2019-11-23-18-18-27" class="headerlink" title="Date: 2019-11-23 18:18:27"></a>Date: 2019-11-23 18:18:27</h3><ul><li>Ctrl + Alt + N 内联变量(相当于提取变量的逆向操作)</li></ul><h3 id="Date-2019-11-20-22-01-04"><a href="#Date-2019-11-20-22-01-04" class="headerlink" title="Date: 2019-11-20 22:01:04"></a>Date: 2019-11-20 22:01:04</h3><ul><li><p>Pro Environment Deployment Review</p><ul><li>安装Git <code>yum install git</code></li><li>服务器端用 git pull 拉取开发环境提交的最新代码 <code>git clone https://github.com/OrekiYuta/ArCanoe.git</code></li><li>安装Maven <code>yum install</code></li><li><p>修改配置文件信息;👉<a href="https://maven.apache.org/guides/introduction/introduction-to-profiles.html" target="_blank" rel="noopener">Maven官方文档</a></p><ul><li>环境分离,Spring 提供在本地使用 Pom 配置</li><li>服务端用Maven 的 .m2/setting.xml 配置文件  <ul><li><code>vim ~/.m2/settings.xml</code><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="XML"><figure class="iseeu highlight /xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.0.0"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                    https://maven.apache.org/xsd/settings-1.0.0.xsd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">interactiveMode</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">offline</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pluginGroups</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servers</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">proxies</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">db.url</span>&gt;</span>jdbc:h2:~/ArCanoe<span class="tag">&lt;/<span class="name">db.url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">db.user</span>&gt;</span>sa<span class="tag">&lt;/<span class="name">db.user</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">db.password</span>&gt;</span>123<span class="tag">&lt;/<span class="name">db.password</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>pro<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">db.url</span>&gt;</span>jdbc:mysql://localhost:3306/ArCanoe<span class="tag">&lt;/<span class="name">db.url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">db.user</span>&gt;</span>root<span class="tag">&lt;/<span class="name">db.user</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">db.password</span>&gt;</span>xxxxx<span class="tag">&lt;/<span class="name">db.password</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">activeProfiles</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ul></li></ul></li><li><p>配置jdk,maven环境</p><ul><li>cd 进入项目</li><li>用flyway工具按脚本生成数据库表 <code>mvn clean compile flyway:migrate -Ppro</code> pro是在配置中 profile 节点自定义的名称  </li><li>配置了环境分离的话,可以在开发环境和服务端分别按配置构建数据库连接进行便利开发,因为开发环境的配置不能随意填写</li><li>开发环境最好和服务部署环境保持一致性</li></ul></li><li>用 <code>mvn clean compile</code> 和 <code>mvn package</code> 构建jar包</li><li>运行jar包即可 <code>java -jar target/xxxx-0.0.1 -SNAPSHOT.jar</code></li><li>访问服务端即可</li></ul><hr><ul><li>在服务器部署方面采用docker会更方便后续工作</li><li>docker主要步骤为:   拉取镜像/构建镜像→构建容器→运行容器</li><li>首先得安装docker,运行 <code>service docker start</code></li><li>在这里以MySQL为例:</li><li><code>docker image pull mysql</code> 首先会从本地查看有没有mysql镜像,没有再去docker仓库拉取</li><li><code>docker image ls</code></li><li><code>docker container run mysql</code> 生成的容器会持久化存在，不需要可删除</li><li><code>docker ps</code> <code>docker container ls -all</code></li><li><code>docker run -it --name mysql -e MYSQL_ROOT_PASSWORD=123456 -p 3306:3306 -v xx/xx : xx/xx mysql</code> 端口映射,文件夹映射</li><li>需要深入了解网络IP</li><li><code>docker exec -it mysql /bin/bash</code> 进入容器启动容器命令行</li><li><code>docker exec -it mysql -h localhost -u root -p</code></li><li><code>docker exec -it mysql bash</code> <code>mysql -uroot -p</code></li><li><code>docker exec -it mysql mysql -uroot -p</code></li></ul><hr><ul><li>对于项目而言可以采用 dockerFile 方式把环境和项目和操作步骤写入dockerFile文件里</li><li>然后构建项目镜像,就可以方便的在不同环境利用docker部署</li><li>也可以把项目容器和数据库容器等多个容器用docker compose 方式构建</li><li>多下点功夫去看官方英文文档<a id="more"></a></li></ul></li></ul><h3 id="Date-2019-11-15-17-06-49"><a href="#Date-2019-11-15-17-06-49" class="headerlink" title="Date: 2019-11-15 17:06:49"></a>Date: 2019-11-15 17:06:49</h3><ul><li>Ctrl + shift + U 选中内容小写</li></ul><h3 id="Date-2019-11-08-17-06-50"><a href="#Date-2019-11-08-17-06-50" class="headerlink" title="Date: 2019-11-08 17:06:50"></a>Date: 2019-11-08 17:06:50</h3><ul><li>Ctrl + Alt + M 把选中代码提取成方法</li><li>Ctrl + Alt + P 把选择代码提取成形式参数</li></ul><h3 id="Date-2019-11-02-16-51-41"><a href="#Date-2019-11-02-16-51-41" class="headerlink" title="Date: 2019-11-02 16:51:41"></a>Date: 2019-11-02 16:51:41</h3><ul><li><p>页面debug方法:</p><ol><li><p>在调试处加入debugger</p><p> <img src="/images/Ark/12.png" alt>    </p></li><li><p>运行页面进行相应调试</p><p> <img src="/images/Ark/13.png" alt>    </p></li></ol></li></ul><h3 id="Date-2019-11-01-16-55-42"><a href="#Date-2019-11-01-16-55-42" class="headerlink" title="Date: 2019-11-01 16:55:42"></a>Date: 2019-11-01 16:55:42</h3><ul><li>Ctrl+F6 调整方法参数位置</li></ul><h3 id="Date-2019-10-28-21-05-57"><a href="#Date-2019-10-28-21-05-57" class="headerlink" title="Date: 2019-10-28 21:05:57"></a>Date: 2019-10-28 21:05:57</h3><ul><li><p>数据库字段默认值设置了default 0 ,但是就是不生效。</p><ol><li><p>问题逐一排查，先debug了看了下提交的字段为null,按道理更新数据之后该条记录中的null应该为默认值0;但是仍是null。</p></li><li><p>思考……是不是之前应用了的MybatisGenerator的用法不对呢。</p></li><li><p>通过分析源码，发现insert()和insertSelective的区别了,加入是insert就把所有值插入,但是要注意加入数据库字段有default,default是不会起作用的,而后者就不会忽略default</p></li><li><p>同理updateByPrimaryKeys,updateByPrimaryKeySelective</p><p> <img src="/images/Ark/11.png" alt>    </p></li></ol></li></ul><h3 id="Date-2019-10-26-00-15-59"><a href="#Date-2019-10-26-00-15-59" class="headerlink" title="Date: 2019-10-26 00:15:59"></a>Date: 2019-10-26 00:15:59</h3><ul><li>Alt+F7 查看依赖处</li></ul><h3 id="Date-2019-10-25-01-17-27"><a href="#Date-2019-10-25-01-17-27" class="headerlink" title="Date: 2019-10-25 01:17:27"></a>Date: 2019-10-25 01:17:27</h3><ul><li><p>在数据库后期维护时，如果增加字段，要修改Mapper,Model等已有代码，这时就很麻烦; </p><p>MyBatis Generator 可以帮助完成这些操作，配置Maven依赖，配置xml,运行命令 <code>mvn -Dmybatis.generator.overwrite=true mybatis-generator:generate</code></p></li></ul><h3 id="Date-2019-10-21-01-12-13"><a href="#Date-2019-10-21-01-12-13" class="headerlink" title="Date: 2019-10-21 01:12:13"></a>Date: 2019-10-21 01:12:13</h3><ul><li><p>Ctrl+F12 快速展示源码的方法列表</p><p>  <img src="/images/Ark/10.png" alt>    </p></li><li><p>Win+Alt+← 后退   +→ 前进</p></li></ul><h3 id="Date-2019-10-19-17-59-27"><a href="#Date-2019-10-19-17-59-27" class="headerlink" title="Date: 2019-10-19 17:59:27"></a>Date: 2019-10-19 17:59:27</h3><ul><li>Ctrl+Win+W  会自动选中已选中的页面标签最外层</li></ul><h3 id="Date-2019-10-16-12-20-25"><a href="#Date-2019-10-16-12-20-25" class="headerlink" title="Date: 2019-10-16 12:20:25"></a>Date: 2019-10-16 12:20:25</h3><ul><li><p>Lombok 通过注解自动化生成getter和setter，同时也有它的缺点，Google一下，你就知道！</p><p>  <img src="/images/Ark/09.png" alt>    </p></li></ul><h3 id="Date-2019-10-15-19-16-56"><a href="#Date-2019-10-15-19-16-56" class="headerlink" title="Date: 2019-10-15 19:16:56"></a>Date: 2019-10-15 19:16:56</h3><ul><li><p>IEDA快捷生成DIV,输入标签.类名 按Tag键;同理纯标签的话，输入标签名按Tag生成</p><p>  <img src="/images/Ark/05.png" alt></p><p>  <img src="/images/Ark/06.png" alt></p></li><li><p>Ctrl+D 复制光标当前所在行内容到下一行</p></li><li><p>Flyway集成错误： org.flywaydb.core.api.FlywayException: Version may only contain 0..9 and . (dot). Invalid version: 3.Creare.question.table -&gt; [Help 1]</p><p>  <img src="/images/Ark/07.png" alt></p><p>  解决方案：根据错误提示,发现是命名格式错误,修改即可</p><p>  <img src="/images/Ark/08.png" alt></p></li></ul><h3 id="Date-2019-10-13-16-57-00"><a href="#Date-2019-10-13-16-57-00" class="headerlink" title="Date: 2019-10-13 16:57:00"></a>Date: 2019-10-13 16:57:00</h3><ul><li><p>flyway  类似版本管理工具一样，管理数据库</p><p>  <img src="/images/Ark/04.png" alt></p></li><li><p>rm ~/ArCanoe.* 删除已有库</p></li><li><p>H2数据库仅支持单链接，执行相关内容，需要关闭之前的链接</p></li></ul><h3 id="Date-2019-10-11-16-04-50"><a href="#Date-2019-10-11-16-04-50" class="headerlink" title="Date: 2019-10-11 16:04:50"></a>Date: 2019-10-11 16:04:50</h3><ul><li>Crtl+E 切换最近编辑的窗口</li></ul><h3 id="Date-2019-10-10-20-38-00"><a href="#Date-2019-10-10-20-38-00" class="headerlink" title="Date: 2019-10-10 20:38:00"></a>Date: 2019-10-10 20:38:00</h3><ul><li><p>Alt+Enter 提示添加jar包或其它</p></li><li><p>Ctrl+Alt+V 快速创建变量</p><p>  <img src="/images/Ark/02.png" alt></p><p>  <img src="/images/Ark/03.png" alt></p></li><li><p>Shift+Enter 自动换行并将光标移动到下一行前面</p></li></ul><h3 id="Date-2019-10-10-11-13-13"><a href="#Date-2019-10-10-11-13-13" class="headerlink" title="Date: 2019-10-10 11:13:13"></a>Date: 2019-10-10 11:13:13</h3><ul><li><p>IDEA(Shift+F6) 重命名文件</p></li><li><p>Crtl+Shift+F12  代码栏最大化</p></li></ul><h3 id="Date-2019-10-09-20-16-26"><a href="#Date-2019-10-09-20-16-26" class="headerlink" title="Date: 2019-10-09 20:16:26"></a>Date: 2019-10-09 20:16:26</h3><ul><li><p>不知道传什么变量的时候，IDEA(Crtl+P)提示</p><p>  <img src="/images/Ark/01.png" alt></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo-Install+Migrate</title>
      <link href="/archives/Hexo-Install-Migrate/"/>
      <url>/archives/Hexo-Install-Migrate/</url>
      
        <content type="html"><![CDATA[<h2 id="安装Git-Node"><a href="#安装Git-Node" class="headerlink" title="安装Git , Node"></a><center>安装Git , Node</center></h2><p><img src="/images/Hexo-IM/01.png" alt></p><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a><center>安装Hexo</center></h2><ul><li>先创建一个文件夹，然后cd到这个目录下</li><li><code>npm install -g hexo-cli</code>    安装hexo项目构建工具</li><li><code>hexo -v</code>     查看版本</li></ul><p><img src="/images/Hexo-IM/02.png" alt></p><a id="more"></a><h2 id="初始化Hexo"><a href="#初始化Hexo" class="headerlink" title="初始化Hexo"></a><center>初始化Hexo</center></h2><ul><li><code>Hexo init myblog</code>    任意文件夹名 myblog</li></ul><p><img src="/images/Hexo-IM/03.png" alt></p><h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a><center>启动服务</center></h2><p>进入myblog文件夹 , 编译生成静态文件 , 启动服务</p><ul><li><code>cd myblog</code></li><li><code>hexo g</code></li><li><code>hexo server</code></li></ul><p><img src="/images/Hexo-IM/04.png" alt></p><h2 id="检查页面；迁移设备"><a href="#检查页面；迁移设备" class="headerlink" title="检查页面；迁移设备"></a><center>检查页面；迁移设备</center></h2><p>在浏览器输入 <code>localhost:4000</code> , 即可看到页面</p><ul><li>迁移更新设备的话，做到这一步，把原来的博客文件复制到此替换即可</li></ul><h2 id="连接Github"><a href="#连接Github" class="headerlink" title="连接Github"></a><center>连接Github</center></h2><ul><li><p>创建Github仓库 , 命名 <code>xxx.github.io</code></p><p>  <img src="/images/Hexo-IM/05.png" alt></p></li><li><p>生成SSH</p><ul><li><code>git config --global user.name &quot;yourname&quot;</code></li><li><p><code>git config --global user.email &quot;youremail&quot;</code></p><p><img src="/images/Hexo-IM/06.png" alt></p><p><img src="/images/Hexo-IM/07.png" alt></p></li></ul></li><li><p>添加SSH到github</p><ul><li><p>将刚才生成的id_rsa.pub的内容复制到key</p><p>  <img src="/images/Hexo-IM/08.png" alt></p></li><li><p>检查是否建立连接成功</p><p>  <img src="/images/Hexo-IM/09.png" alt></p></li></ul></li></ul><h2 id="Hexo部署到GitHub"><a href="#Hexo部署到GitHub" class="headerlink" title="Hexo部署到GitHub"></a><center>Hexo部署到GitHub</center></h2><ul><li><p>修改配置文件 <code>_config.yml</code></p><p>  <img src="/images/Hexo-IM/10.png" alt></p></li><li><p>安装deploy-git 部署命令</p><ul><li><code>npm install hexo-deployer-git --save</code></li></ul></li></ul><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a><center>常用命令</center></h2><ul><li><code>hexo clean</code>        清除之前编译生成的public文件夹的静态文件</li><li><code>hexo g</code>            编译生成静态文件      </li><li><code>hexo d</code>            部署到远端服务器</li><li><code>hexo s --debug</code>    启动服务并执行本地调试模式</li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a><center>Other</center></h2><ul><li><p>fatal: unable to access “xxx”: OpenSSL SSL_read: Connection was aborted, errno 10053</p><ul><li><code>git config --global http.sslVerify &quot;false&quot;</code></li></ul></li><li><p>tag/ 目录下 git 推送后 大小写问题</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd .deploy_git</span><br><span class="line">git config core.ignorecase false</span><br></pre></td></tr></table></figure></div></li><li><p>The “mode” argument must be integer</p><ul><li>版本问题,降一下版本</li><li><code>where node</code> 找到 node 的目录</li><li>👉 <a href="https://nodejs.org/en/download/releases/" target="_blank" rel="noopener">Previous Releases | Node.js</a></li><li>找到适合的版本, 我选择的是 12x , win 下载 win的 zip </li><li>解压覆盖 node 的目录即可</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git flow</title>
      <link href="/archives/Git-flow/"/>
      <url>/archives/Git-flow/</url>
      
        <content type="html"><![CDATA[<h2 id="Git工作流"><a href="#Git工作流" class="headerlink" title="Git工作流"></a><center>Git工作流</center></h2><h3 id="Flow"><a href="#Flow" class="headerlink" title="Flow"></a>Flow</h3><pre>for ( =>local-code =>         submit to local-repository =>         submit to server-repository =>         from remote-repository update code =>     )</pre><h3 id="Detail"><a href="#Detail" class="headerlink" title="Detail"></a>Detail</h3><p>localfolder -&gt; git Stage -&gt; git local -&gt; git remote</p><p>本地工作文件夹 -&gt; 索引区 -&gt; 本地库 -&gt; 远程库（服务器端）</p><h2 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a><center>基础配置</center></h2><ul><li><p><code>git init</code>         初始化</p></li><li><p><code>git config -l</code>   查看配置信息</p></li><li><p><code>git config --global user.name &quot;XXX&quot;</code></p></li><li><p><code>git config --global user.email &quot;xxx@zz.com&quot;</code></p></li><li><p><code>git config --help</code>    查看帮助信息</p></li><li><p><code>git help config</code></p></li><li><p><code>git help commit</code></p></li><li><p><code>git help ...</code> </p><a id="more"></a></li></ul><h2 id="提交本地仓库"><a href="#提交本地仓库" class="headerlink" title="提交本地仓库"></a><center>提交本地仓库</center></h2><h3 id="创建本地仓库"><a href="#创建本地仓库" class="headerlink" title="创建本地仓库"></a>创建本地仓库</h3><ul><li><code>mkdir mygit</code>  建立本地工作文件夹</li><li><code>cd mygit</code>     进入文件夹</li></ul><h3 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h3><ul><li><code>git init</code>     初始化git库</li></ul><h3 id="更新仓库内容"><a href="#更新仓库内容" class="headerlink" title="更新仓库内容"></a>更新仓库内容</h3><ul><li><p><code>nano 文件名</code>  编辑本地文件,比如 <code>nano test.htm</code> </p><p>  <img src="/images/Git/01.png" alt></p><p>  <img src="/images/Git/02.png" alt></p></li></ul><h3 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h3><ul><li><p><code>git status</code>  查看本地文件夹状态</p><p>  <img src="/images/Git/03.png" alt></p><p>   当前状态为 <strong>红色</strong> 提示文件未添加到索引区</p></li></ul><h3 id="git-add-FN"><a href="#git-add-FN" class="headerlink" title="git add FN"></a>git add FN</h3><ul><li><p><code>git add 文件名</code> 添加文件到索引区，比如 <code>git add test.htm</code></p><p>  <img src="/images/Git/04.png" alt></p><p>   提交成功再次查看状态为绿色,成功添加到索引区</p></li></ul><h3 id="git-commit-m-“RI”"><a href="#git-commit-m-“RI”" class="headerlink" title="git commit -m “RI”"></a>git commit -m “RI”</h3><ul><li><p><code>git commit -m &quot;备注信息&quot;</code>  将索引区内容提交至本地仓库</p><p>  <img src="/images/Git/05.png" alt></p></li></ul><h3 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h3><ul><li><p><code>git log</code>  查看提交日志</p><p>  <img src="/images/Git/06.png" alt> </p></li></ul><h2 id="查看提交日志"><a href="#查看提交日志" class="headerlink" title="查看提交日志"></a><center>查看提交日志</center></h2><ol><li><p>首先修改下原有文件内容 <code>nano test.htm</code> </p><p> <img src="/images/Git/07.png" alt></p></li><li><p>查看状态</p><p> <img src="/images/Git/08.png" alt></p></li><li><p>添加到索引区</p><p> <img src="/images/Git/09.png" alt></p></li><li><p>提交到本地库</p><p> <img src="/images/Git/10.png" alt></p></li><li><p>查看日志</p><p> <img src="/images/Git/11.png" alt></p></li><li><p>在以后日志必定会越来越多，就可以用以下方法查看</p></li></ol><h3 id="git-log-number"><a href="#git-log-number" class="headerlink" title="git log -[number]"></a>git log -[number]</h3><ul><li><p><code>git log -1</code>  后面的数字代表最近的几条记录</p><p>  <img src="/images/Git/12.png" alt></p></li></ul><h3 id="git-log-–oneline"><a href="#git-log-–oneline" class="headerlink" title="git log –oneline"></a>git log –oneline</h3><ul><li><p><code>git log --oneline</code>  将日志信息缩短为一行显示 ; ID号也缩短为前7位了</p><p>  <img src="/images/Git/13.png" alt></p></li></ul><h3 id="git-log-p"><a href="#git-log-p" class="headerlink" title="git log -p"></a>git log -p</h3><ul><li><p><code>git log -p</code>  查看更改的详细信息</p><p>  <img src="/images/Git/14.png" alt></p></li></ul><h3 id="git-log-p-number"><a href="#git-log-p-number" class="headerlink" title="git log -p -[number]"></a>git log -p -[number]</h3><ul><li><p><code>git log -p -1</code> 和数字组合用法,查看最近一次更改的详细信息</p><p>  <img src="/images/Git/15.png" alt></p></li></ul><h3 id="git-log-p-number-1"><a href="#git-log-p-number-1" class="headerlink" title="git log -p -[number]"></a>git log -p -[number]</h3><ul><li><p><code>git log -p -1 --online</code> 加上oneline,对比上图可见头部信息缩短了</p><p>  <img src="/images/Git/16.png" alt></p></li></ul><h3 id="git-log-–stat"><a href="#git-log-–stat" class="headerlink" title="git log –stat"></a>git log –stat</h3><ul><li><p><code>git log --stat</code>  对每次的提交的内容进行统计的信息</p><p>  <img src="/images/Git/17.png" alt></p></li></ul><h3 id="git-log-–help"><a href="#git-log-–help" class="headerlink" title="git log –help"></a>git log –help</h3><ul><li><code>git log --help</code>  查看其他命令用法</li></ul><h2 id="工作状态回退"><a href="#工作状态回退" class="headerlink" title="工作状态回退"></a><center>工作状态回退</center></h2><h3 id="未添加到索引区"><a href="#未添加到索引区" class="headerlink" title="未添加到索引区"></a>未添加到索引区</h3><ol><li><p>修改文件内容</p><p> <img src="/images/Git/19.png" alt></p></li><li><p>查看状态</p><p> <img src="/images/Git/20.png" alt></p></li></ol><h4 id="git-checkout-–-FN"><a href="#git-checkout-–-FN" class="headerlink" title="git checkout – [FN]"></a>git checkout – [FN]</h4><ol start="3"><li><p><code>git checkout -- 文件名</code>  突然不想要已修改的部分内容了，状态回退一下</p><p> <img src="/images/Git/21.png" alt></p></li><li><p>查看源文件,刚才修改内容已经被回退</p><p> <img src="/images/Git/22.png" alt></p></li></ol><h3 id="已添加到索引区"><a href="#已添加到索引区" class="headerlink" title="已添加到索引区"></a>已添加到索引区</h3><ol><li><p>修改内容然后添加到索引区</p><p> <img src="/images/Git/23.png" alt></p><p> <img src="/images/Git/24.png" alt></p></li></ol><h4 id="git-reset-HEAD-FN"><a href="#git-reset-HEAD-FN" class="headerlink" title="git reset HEAD [FN]"></a>git reset HEAD [FN]</h4><ol start="2"><li><p><code>git reset HEAD 文件名</code> 将添加内容从索引区回退   </p><p> <img src="/images/Git/25.png" alt></p></li><li><p>接着继续按照 <strong>未添加到索引区</strong> 的步骤即可回退到文件未修改状态  </p></li></ol><ul><li><p><code>git add .</code>   Git 不同版本的用法区别</p><p>  <img src="/images/Git/18.png" alt>  </p></li></ul><h2 id="比较修改内容"><a href="#比较修改内容" class="headerlink" title="比较修改内容"></a><center>比较修改内容</center></h2><h3 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h3><ul><li><p><code>git diff</code>  比较工作文件夹</p><p>  <img src="/images/Git/26.png" alt></p></li></ul><h3 id="git-diff-–cached"><a href="#git-diff-–cached" class="headerlink" title="git diff –cached"></a>git diff –cached</h3><ul><li><p><code>git diff --cached</code>  比较索引区</p><p>  <img src="/images/Git/27.png" alt></p></li></ul><h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a><center>文件操作</center></h2><ol><li><p>执行多个操作（修改内容，添加文件）</p><p> <img src="/images/Git/28.png" alt></p><p> <img src="/images/Git/29.png" alt>    </p></li><li><p>查看状态并添加到索引区</p><p> <img src="/images/Git/30.png" alt></p></li></ol><h3 id="git-mv-OldFN-NewFN"><a href="#git-mv-OldFN-NewFN" class="headerlink" title="git mv OldFN NewFN"></a>git mv OldFN NewFN</h3><ol start="3"><li><p><code>git mv 旧文件名 新文件名</code>   修改文件名</p><p> <img src="/images/Git/31.png" alt></p><p> <strong>修改前缀认为添加新文件，修改后缀认为重命名</strong></p><p> <img src="/images/Git/32.png" alt></p><p> <strong>同时修改认为添加新文件</strong></p><p> <img src="/images/Git/33.png" alt></p></li></ol><h3 id="git-rm-–cached-FN"><a href="#git-rm-–cached-FN" class="headerlink" title="git rm –cached FN"></a>git rm –cached FN</h3><ol start="4"><li><p><code>git rm --cached 文件名</code>  从索引区删除</p><p> <img src="/images/Git/34.png" alt></p></li><li><p>查看下日志</p><p> <img src="/images/Git/35.png" alt></p></li></ol><h2 id="忽略管理"><a href="#忽略管理" class="headerlink" title="忽略管理"></a><center>忽略管理</center></h2><p>设置Git忽略的文件，这些文件不参与Git库的提交和管理。（动态文件，比如Node.js的 node_modules 文件夹）</p><ol><li><p>新建两个文件;ingnore.tmp为需要被忽略的文件, <strong>.gitignore</strong>为配置文件</p><p> <img src="/images/Git/36.png" alt></p></li><li><p>查看状态</p><p>   目前状态为两个文件都将被Git管理</p><p> <img src="/images/Git/37.png" alt></p></li><li><p>在 <strong>.gitignore</strong> 中添加 <code>*.tmp</code> 忽略这类文件:即使是在同级目录文件夹内的.tmp 都会被忽略</p><p> <img src="/images/Git/38.png" alt></p></li><li><p>查看状态</p><p>  .tmp 已被忽略 ; </p><p> <img src="/images/Git/39.png" alt></p></li></ol><h2 id="更新最后的提交记录"><a href="#更新最后的提交记录" class="headerlink" title="更新最后的提交记录"></a><center>更新最后的提交记录</center></h2><p>在上次提交过一次记录，后来发现内容有误，需要修改下内容但是又不想再提交一条修改记录，而是添加到上次提交的记录中去。</p><ol><li><p>在.gitignore 中再添加一条信息</p><p> <img src="/images/Git/40.png" alt></p></li><li><p>查看状态</p><p> <img src="/images/Git/41.png" alt></p></li><li><p>添加到索引区</p><p> <img src="/images/Git/42.png" alt></p></li></ol><h3 id="git-commit-–amend"><a href="#git-commit-–amend" class="headerlink" title="git commit –amend"></a>git commit –amend</h3><ol start="4"><li><p><code>git commit --amend</code>  提交到最后的一条记录中去</p><p> <img src="/images/Git/43.png" alt></p></li></ol><h2 id="版本回退-切换"><a href="#版本回退-切换" class="headerlink" title="版本回退/切换"></a><center>版本回退/切换</center></h2><h3 id="git-reset-–hard-HEAD"><a href="#git-reset-–hard-HEAD" class="headerlink" title="git reset –hard HEAD"></a>git reset –hard HEAD</h3><ul><li><p><code>git reset --hard HEAD</code>  回退到最新提交版本</p></li><li><p><code>git reset --hard HEAD~</code>  回退到最新提交的上一次版本</p></li><li><p><code>git reset --hard HEAD~n</code>  回退到倒数第N版本</p></li><li><p><code>git reset --hard 版本ID号</code>  回退到指定版本号</p></li></ul><ol><li><p>先提交几次记录</p><p> <img src="/images/Git/44.png" alt></p><p> <img src="/images/Git/45.png" alt></p></li><li><p>回退到上个版本</p><p> <img src="/images/Git/46.png" alt></p></li><li><p>回退到最新版本，指的是此刻版本头HEAD指向的版本</p><p> <img src="/images/Git/47.png" alt></p></li><li><p>根据版本ID号回到指定版本 ; 通过头指针指向我们需要的版本,其他在头部之上的版本只是未显示而已,但仍在库中。</p><p> <img src="/images/Git/48.png" alt></p></li></ol><h3 id="git-reflog-number"><a href="#git-reflog-number" class="headerlink" title="git reflog -[number]"></a>git reflog -[number]</h3><ol start="5"><li><p><code>git reflog -4</code>  要是忘记的版本号,可执行该命令查询之前版本切换的操作信息，从而确定需要切换的版本号</p><p> <img src="/images/Git/49.png" alt></p></li></ol><h2 id="分支使用⭐"><a href="#分支使用⭐" class="headerlink" title="分支使用⭐"></a><center>分支使用⭐</center></h2><p>以上的操作都是在主分支上执行的,但是在实际应用中不应该多次在主分支操作。</p><p>在项目中每个人都有自己的要执行的任务,每个人执行的任务都不同,那么就需要在主分支上建立自己的分支,在自己的分支上不断的完善后再向主分支进行合并。</p><p><img src="/images/Git/gitbranch.png" alt></p><h3 id="git-branch-BN"><a href="#git-branch-BN" class="headerlink" title="git branch BN"></a>git branch BN</h3><ul><li><code>git branch 分支名</code>   建立新分支</li></ul><h3 id="git-checkout-BN"><a href="#git-checkout-BN" class="headerlink" title="git checkout BN"></a>git checkout BN</h3><ul><li><code>git checkout 分支名</code>   切换分支</li></ul><h3 id="Detailed-Process"><a href="#Detailed-Process" class="headerlink" title="Detailed Process"></a>Detailed Process</h3><ol><li><p>查看下当前已有分支情况</p><p> <img src="/images/Git/50.png" alt></p></li><li><p>建立分支，切换分支</p><p>  建立的分支拥有的内容 与 在建立分支的那个时刻的主分支(被分支的分支)的内容一致</p><p> <img src="/images/Git/51.png" alt></p></li><li><p>添加文件，提交记录</p><p> <img src="/images/Git/52.png" alt></p></li><li><p>查看当前分支日志</p><p> <img src="/images/Git/53.png" alt></p></li><li><p>切换到主分支,查看日志</p><p> <img src="/images/Git/54.png" alt></p></li></ol><ul><li><p>在分支修改后没有提交的情况下，是不允许切换分支的</p><p>  <img src="/images/Git/55.png" alt></p></li></ul><h3 id="分支文件存储位置"><a href="#分支文件存储位置" class="headerlink" title="分支文件存储位置"></a>分支文件存储位置</h3><ul><li><p><strong>通过git在本地创建仓库，切换分支时另外一个分支的内容在哪里？</strong></p><p>  &emsp;&emsp;项目文件都保存在.git目录下，始终存在，包括历史的各种版本，只不过不能从文件名字搜索到，因为Git是Content Addresing的。每次切换到一个分支，或者是check out一个历史版本，Git就从数据库（就是.git目录）中把这个版本的文件和目录都找出来，Copy一份放这当前的项目目录下。</p></li></ul><h2 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a><center>合并分支</center></h2><h3 id="git-merge-BN"><a href="#git-merge-BN" class="headerlink" title="git merge BN"></a>git merge BN</h3><ul><li><p><code>git merge 分支名</code>  先得切换到主分支，再进行合并</p><p>  <img src="/images/Git/56.png" alt></p></li></ul><h3 id="git-branch-BN-1"><a href="#git-branch-BN-1" class="headerlink" title="git branch BN"></a>git branch BN</h3><ul><li><p><code>git branch -d 分支名</code>   删除分支</p><p>  <img src="/images/Git/57.png" alt></p></li></ul><h2 id="分支冲突"><a href="#分支冲突" class="headerlink" title="分支冲突"></a><center>分支冲突</center></h2><h3 id="git-checkout-b-BN"><a href="#git-checkout-b-BN" class="headerlink" title="git checkout -b BN"></a>git checkout -b BN</h3><ol><li><p><code>git checkout -b 分支名</code>  建立分支并切换到该分支</p><p> <img src="/images/Git/58.png" alt></p></li><li><p>修改文件内容，提交</p><p> <img src="/images/Git/59.png" alt></p><p> <img src="/images/Git/60.png" alt></p></li><li><p>切换分支，继续修改同样文件的内容，提交</p><p> <img src="/images/Git/61.png" alt></p><p> <img src="/images/Git/62.png" alt></p></li><li><p>在主分支上合并开发分支</p><p>  有冲突，需要手动修改</p><p> <img src="/images/Git/63.png" alt></p><p>  打开有冲突的文件</p><p> <img src="/images/Git/65.png" alt>   </p><p>  这是VSCode的功能（当前所处分支|被合并分支|两者都要|比较）</p><p> <img src="/images/Git/64.png" alt></p></li><li><p>修改完毕后,回到主分支，查看状态并提交</p><p> <img src="/images/Git/66.png" alt></p></li></ol><h2 id="使用Tag标签"><a href="#使用Tag标签" class="headerlink" title="使用Tag标签"></a><center>使用Tag标签</center></h2><h3 id="简单了解版本号"><a href="#简单了解版本号" class="headerlink" title="简单了解版本号"></a>简单了解版本号</h3><ul><li><p>版本号: 1.1.4   （NNN.abc.xxx）</p></li><li><p>有些为四位数 1.1.4.2356 最后的数字为编译次数等其他信息</p><ul><li>NNN:大版本号</li><li>abc:每次做出的小更新时，发布的版本号</li><li>xxx:每次bug修正时发布的版本号</li></ul></li></ul><h3 id="git-tag-VersionNumber"><a href="#git-tag-VersionNumber" class="headerlink" title="git tag VersionNumber"></a>git tag VersionNumber</h3><ol><li><p><code>git tag 版本号</code>  把当前代码状态作为一个版本发布</p><p> <img src="/images/Git/67.png" alt>   </p></li><li><p>修复bug，再次发布新版本</p><p> <img src="/images/Git/68.png" alt></p></li><li><p>新功能追加，再次发布新版本</p><p> <img src="/images/Git/69.png" alt></p></li><li><p>查看版本</p><p> <img src="/images/Git/70.png" alt></p></li></ol><h2 id="使用别名"><a href="#使用别名" class="headerlink" title="使用别名"></a><center>使用别名</center></h2><p>在Git中可以将经常使用的命令以别名缩写的方式简化使用,根据个人习惯或者开发组规范吧。</p><p><code>git config --global alias.别名 原命令名</code></p><p>例如：</p><ul><li><code>git config --global alias.co checkout</code></li><li><code>git config --global alias.br branch</code></li><li><code>git config --global alias.cm commit</code></li><li><code>git config --global alias.st status</code></li><li><code>...</code></li></ul><h2 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a><center>GitHub</center></h2><ol><li><p>创建Github仓库</p><p> <img src="/images/Git/71.png" alt></p></li><li><p>克隆仓库到本地</p><p> <img src="/images/Git/72.png" alt></p></li><li><p>进入仓库查看状态</p><p> <img src="/images/Git/73.png" alt></p></li><li><p>向仓库添加内容后，查看状态，提交到本地仓库</p><p> <img src="/images/Git/74.png" alt>   </p></li><li><p>查看当前状态，所处分支</p><p> <img src="/images/Git/75.png" alt></p></li><li><p>查看要推送的URL,然后推送到远端</p><p> <img src="/images/Git/76.png" alt> </p></li><li><p>进入GitHub查看,推送成功！</p><p> <img src="/images/Git/77.png" alt></p></li></ol><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><ul><li><code>git branch -a</code>  查看全部分支情况</li><li><code>git branch 分支名1 remotes/origin/分支名2</code>   以远程分支名2为依据建立本地分支名1 （这两个是同一个东西来的） </li><li><code>git remote -v</code>  查看获取和推送的URL</li><li><code>git push origin 分支名</code>  推送到指定分支</li><li><code>git pull</code>  拉取远端内容</li></ul><h2 id="Remark"><a href="#Remark" class="headerlink" title="Remark"></a><center>Remark</center></h2><p><strong>文章中用到的简写:</strong></p><ul><li>RI ==Remark Information</li><li>FN == FileName</li><li>BN == branchName</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS:SVN Configure</title>
      <link href="/archives/CentOS-SVNConfigure/"/>
      <url>/archives/CentOS-SVNConfigure/</url>
      
        <content type="html"><![CDATA[<ol><li><p><code>ssh root@xx.xxx.xxx.xxx</code>   //通过SSH连接服务器</p></li><li><p><code>svn</code>                      //先查看是否安装了svn</p></li><li><p><code>yum install svn</code>         //安装svn</p></li><li><p><code>svn --version</code>          //查看svn版本</p></li><li><p>输入<code>svn</code>按Tab补全  ; 会出现很多以svn开头的,可以选择使用</p></li><li><p><code>svnadmin create /opt/svn/916213802</code>      //在根目录下创建SVN仓库</p></li><li><p><code>svnserve -d -r /opt/svn/916213802/</code>   //启动svn服务</p></li><li><p><code>ps -ef | grep svnserve</code>   //查看svnserve 是否启动</p><a id="more"></a></li><li><p><code>netstat -an | grep 3690</code>   //3690是svn默认端口,查看是否开放</p></li><li><p>由于阿里云安全组不开放该端口,所以要去阿里云服务器开启<em>3690</em> 端口 </p><p><img src="/images/CentOSSVNConfigure/01.png" alt></p></li><li><p><code>cd /opt/svn/916213802/conf/</code>  //进入仓库查看配置文件        </p></li><li><p><code>vim authz</code>   //设置用户</p><p><img src="/images/CentOSSVNConfigure/02.png" alt></p></li><li><p><code>vim passwd</code>  //设置用户和密码</p><p><img src="/images/CentOSSVNConfigure/03.png" alt></p></li><li><p><code>vim svnserve.conf</code>  //设置其他参数</p><p><img src="/images/CentOSSVNConfigure/04.png" alt></p></li><li><p><code>killall svn</code>   //关闭svn进程也可以在12的基础上<code>killall pid</code></p></li><li><p><code>svnserve -d -r /opt/svn/916213802</code>  //再次启动svnserve服务</p></li><li><p><code>svn checkout svn://47.107.xxx.xxx/916213802 --username 91621380205 --password 91621380205</code><br>//本地连接服务器SVN ,执行后下载svn上的项目到本地当前目录,可不用–username和–password</p></li></ol><hr><ul><li><code>pwd</code>   //查看当前目录</li><li><code>cd /</code>  //进入根目录</li><li><code>ls</code> 查看当前目录下文件</li><li><code>ll</code> 查看当前目录下文件</li><li>执行第<strong>7</strong>步后,再执行第<strong>17</strong>步测试连接,如果连接得上就不用操作步骤<strong>8-10</strong> ;</li><li>部署项目的话把项目放在本地checkout下来的文件夹里,<strong>同步</strong> 上去就可以了.</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> Linux </tag>
            
            <tag> SVN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java-ArtificialSimulation</title>
      <link href="/archives/Java-ArtificialSimulation/"/>
      <url>/archives/Java-ArtificialSimulation/</url>
      
        <content type="html"><![CDATA[<h2 id="Create-a-project"><a href="#Create-a-project" class="headerlink" title="Create a project"></a><center>Create a project</center></h2><p>Create New Project =&gt; Maven =&gt; Next =&gt; for (Fill in information =&gt; Next) =&gt; Finish<br> <img src="/images/Java-AS/0x011.png" alt><br> <img src="/images/Java-AS/0x012.png" alt><br> <img src="/images/Java-AS/0x013.png" alt><br> <img src="/images/Java-AS/0x014.png" alt></p><h2 id="Environment-and-Tools"><a href="#Environment-and-Tools" class="headerlink" title="Environment and Tools"></a><center>Environment and Tools</center></h2><ol><li>Java环境 JDK <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">下载</a></li><li>IDEA  <a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener">下载</a></li><li>准备好ChromeDriver <a href="http://npm.taobao.org/mirrors/chromedriver/" target="_blank" rel="noopener">下载</a><br>选择好对应版本(我这里选择的是74.0.3729.68 win)</li><li>Selenium 依赖<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;3.141.59&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure></div></li></ol><a id="more"></a><h2 id="Get-set"><a href="#Get-set" class="headerlink" title="Get set"></a><center>Get set</center></h2><ol><li>在pom.xml中导入Selenium依赖 =&gt; 等待下载</li><li>在src-&gt;main-&gt;java中创建Java类,创建main方法.—-<em>在IDEA中输入psvm+回车_快速创建main方法</em></li><li>把准备好的ChromeDriver.exe放在src-&gt;main-&gt;resources目录中</li></ol><h2 id="Codeing"><a href="#Codeing" class="headerlink" title="Codeing"></a><center>Codeing</center></h2><ol><li><p>设置webdriver路径</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.setProperty(<span class="string">"webdriver.chrome.driver"</span>,Scan.class.getClassLoader().getResource(<span class="string">"chromedriver.exe"</span>).getPath());</span><br></pre></td></tr></table></figure></div></li><li><p>创建webdriver对象</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WebDriver webDriver =<span class="keyword">new</span> ChromeDriver();</span><br></pre></td></tr></table></figure></div></li><li><p>打开页面(这里我以<code>www.lagou.com</code>为操作对象)</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webDriver.get(<span class="string">"https://www.lagou.com/zhaopin/Java/?labelWords=label"</span>);</span><br></pre></td></tr></table></figure></div></li><li><p>审查网页元素<br>在模拟人工操作前,需要先分析页面对象的元素组成,观察到我们需要模拟点击的导航条”工作经验”是在<code>&lt;li class=&quot;muti-chosen&quot;&gt;</code>内的<code>&lt;span&gt;</code>之间,这样就确定了第一层筛选,然后再从<code>&lt;span&gt;</code>中筛选出<code>&lt;a&gt;</code>,根据<code>Text()</code>确定了元素位置.<br><img src="/images/Java-AS/0x044.png" alt></p></li><li><p>选择根据页面结构获取对象(我这里选择了Xpath)</p></li></ol><ul><li><p>首先获取第一层筛选</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webDriver.findElement(By.xpath(<span class="string">"//li[@class='multi-chosen']//span[contains(text(),'工作经验')]"</span>));</span><br></pre></td></tr></table></figure></div></li><li><p>然后选择上面的代码提取成对象—-<em>IDEA快捷键(ctrl+alt+V)</em></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WebElement chosenElement = webDriver.findElement(By.xpath(<span class="string">"//li[@class='multi-chosen']//span[contains(text(),'工作经验')]"</span>))</span><br></pre></td></tr></table></figure></div></li><li><p>接着同样的操作,写出第二层筛选和点击事件</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WebElement chosenElement = webDriver.findElement(By.xpath(<span class="string">"//li[@class='multi-chosen']//span[contains(text(),'工作经验')]"</span>));</span><br><span class="line">WebElement optionElement = chosenElement.findElement(By.xpath(<span class="string">"../a[contains(text(),'应届毕业生')]"</span>));</span><br><span class="line">optionElement.click();</span><br></pre></td></tr></table></figure></div></li><li><p>再次观察页面,发现各个导航条只有文本描述差异,所以接下来把上面两个文本对象抽成变量(选中”工作经验”和”应届毕业生”)</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String chosenTitle = <span class="string">"工作经验"</span>;</span><br><span class="line">String optionTitle = <span class="string">"应届毕业生"</span>; <span class="comment">//移动代码位置(先选择该行ctrl+shift+↑or↓)</span></span><br><span class="line"></span><br><span class="line">WebElement chosenElement = webDriver.findElement(By.xpath(<span class="string">"//li[@class='multi-chosen']//span[contains(text(),'"</span> + chosenTitle + <span class="string">"')]"</span>));</span><br><span class="line">WebElement optionElement = chosenElement.findElement(By.xpath(<span class="string">"../a[contains(text(),'"</span> + optionTitle + <span class="string">"')]"</span>));</span><br><span class="line">optionElement.click();</span><br></pre></td></tr></table></figure></div></li><li><p>然后思考,把上面三行抽成方法,之后只需传递两个参数就可以控制了(选中上面三行代码抽成方法—-<em>IDEA快捷键(ctrl+alt+M)</em>,该操作前需要做第二步的提取变量</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String chosenTitle = <span class="string">"工作经验"</span>;</span><br><span class="line">String optionTitle = <span class="string">"应届毕业生"</span>;</span><br><span class="line">clickOption(webDriver, chosenTitle, optionTitle);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">clickOption</span><span class="params">(WebDriver webDriver, String chosenTitle, String optionTitle)</span> </span>&#123;</span><br><span class="line">WebElement chosenElement = webDriver.findElement(By.xpath(<span class="string">"//li[@class='multi-chosen']//span[contains(text(),'"</span> + chosenTitle + <span class="string">"')]"</span>));</span><br><span class="line">WebElement optionElement = chosenElement.findElement(By.xpath(<span class="string">"../a[contains(text(),'"</span> + optionTitle + <span class="string">"')]"</span>));</span><br><span class="line">optionElement.click();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>写到这里观察上面变量和方法形参,合并一下优化代码.把文本传回方法参数里.—-<em>IDEA快捷键(ctrl+alt+N)</em> (选中方法里的参数)</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">clickOption(webDriver, <span class="string">"工作经验"</span>, <span class="string">"应届毕业生"</span>);<span class="comment">//接着分析页面,执行五个操作</span></span><br><span class="line">clickOption(webDriver, <span class="string">"学历要求"</span>, <span class="string">"本科"</span>);</span><br><span class="line">clickOption(webDriver, <span class="string">"融资阶段"</span>, <span class="string">"不限"</span>);</span><br><span class="line">clickOption(webDriver, <span class="string">"公司规模"</span>, <span class="string">"不限"</span>);</span><br><span class="line">clickOption(webDriver, <span class="string">"行业领域"</span>, <span class="string">"移动互联网"</span>);</span><br></pre></td></tr></table></figure></div></li></ul><ol start="6"><li>解析单页元素<br><img src="/images/Java-AS/0x046.png" alt></li></ol><ul><li><p>观察页面元素发现主要信息都是在<code>&lt;li class=&quot;con_list_item default_list&quot;&gt;</code>中</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webDriver.findElements(By.className(<span class="string">"con_list_item"</span>));</span><br></pre></td></tr></table></figure></div></li><li><p>这里findElements是因为有多个元素,上面的findElement是只有一个元素,接着依然是抽取变量—-<em>IDEA快捷键(ctrl+alt+V)</em></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;WebElement&gt; jobElements = webDriver.findElements(By.className(<span class="string">"con_list_item"</span>));</span><br></pre></td></tr></table></figure></div></li><li><p>页面有多组信息就要用循环了咯,循环遍历对象JobElements;—-<em>在IDEA中输入<code>jobElemnets.for</code>+回车_就会补全语法</em></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (WebElement jobElement : jobElements) &#123;</span><br><span class="line">    WebElement moneyElement = jobElement.findElement(By.className(<span class="string">"position"</span>)).findElement(By.className(<span class="string">"money"</span>));</span><br><span class="line">    System.out.println(moneyElement.getText());</span><br><span class="line">    String companyName = jobElement.findElement(By.className(<span class="string">"company_name"</span>)).getText();<span class="comment">//在IDEA中输入sout+回车_快速创建打印方法</span></span><br><span class="line">    System.out.println(companyName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>优化一下代码_把上面代码抽成方法</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">extractJobsByPagination(webDriver);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">extractJobsByPagination</span><span class="params">(WebDriver webDriver)</span> </span>&#123;</span><br><span class="line">List&lt;WebElement&gt; jobElements = webDriver.findElements(By.className(<span class="string">"con_list_item"</span>));</span><br><span class="line"><span class="keyword">for</span> (WebElement jobElement : jobElements) &#123;</span><br><span class="line">    WebElement moneyElement = jobElement.findElement(By.className(<span class="string">"position"</span>)).findElement(By.className(<span class="string">"money"</span>));</span><br><span class="line">    String companyName = jobElement.findElement(By.className(<span class="string">"company_name"</span>)).getText();</span><br><span class="line">    System.out.println(companyName + <span class="string">" : "</span> + moneyElement.getText());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>写到这里可以尝试运行一下了,观察下输出结果.</p></li></ul><ol start="7"><li>解析分页元素<br><img src="/images/Java-AS/0x071.png" alt><br><img src="/images/Java-AS/0x072.png" alt></li></ol><ul><li>观察下一页按钮可点击和不可点击时的变化<br><img src="/images/Java-AS/0x073.png" alt></li><li>测试下按钮事件</li><li>进行逻辑判断,然后触发点击事件.最后在if里进行递归调用</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">WebElement nextPageBtn = webDriver.findElement(By.className(<span class="string">"pager_next"</span>));</span><br><span class="line"><span class="keyword">if</span>(!nextPageBtn.getAttribute(<span class="string">"class"</span>).contains(<span class="string">"pager_next_disabled"</span>))&#123;</span><br><span class="line">nextPageBtn.click();</span><br><span class="line">System.out.println(<span class="string">"--------下一页---------"</span>);</span><br><span class="line"><span class="comment">//然后这里让线程睡眠一秒钟,以免跳转响应时间不够,再来个异常处理</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">            hread.sleep(<span class="number">1000L</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">        extractJobsByPagination(webDriver);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><h2 id="Running"><a href="#Running" class="headerlink" title="Running"></a><center>Running</center></h2><p><img src="/images/Java-AS/0x081.png" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Maven </tag>
            
            <tag> Xpath </tag>
            
            <tag> Selenium </tag>
            
            <tag> ChromeDriver </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>インデックス</title>
      <link href="/archives/jnote/"/>
      <url>/archives/jnote/</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;きょうはれいわがんねんのはじまりで、しがもしよにちである。<br>ずつとまえからブログをがこうとおもつでいましたが、<br>あまりにもなまけでいたので、ながながはちめられませんでした。<br>このいちがけつがん、おおくのネットちしきをしり、<br>さいこにGitHubにでんがいするというがたちになりました。<br>このようなけいしきはわたしのサーバーのしげんをせつやくしました、<br>がんりもべんりでし。<br>このブロクをかくのはじつはおもなどうりょくはやはりしごとをさがすためです、<br>りれきしよにてんじできるがらです。<br>プログラムぎじゅつをがくいがいに、ここでじぶんのしゅみをがきます。<br>じぶんのせいかつのいちぶをここにきるくしで、<br>こんかいはちゅうとはんばではないこをねがいます。<br>わたしはなにもてんじできるものがなくで、<br>せいこうしたけいけんがありません。<br>ものごころがつくから、しっぱいばかりでした。<br>つまり、いまのわたしはしっぱいしゃです。<br><a id="more"></a><br>なんねんごのわたしへ：<br>&emsp;&emsp;にほんごのレベレはまだこのたんぶんのようにちゅうとはんばでしが？<br>&emsp;&emsp;まだこうかいしでいますが？<br>&emsp;&emsp;まだプログラマをしていますか？  </p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
